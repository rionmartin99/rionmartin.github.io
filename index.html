<!-- 
    School Portal - v2.9.5 (High Visibility Edition)
    
    CHANGELOG:
    v2.9.5 (Feb 2026) - Report Template Enhancements:
    - [FEAT] Reports & Analytics: The generated Excel template now includes 3 rows of realistic sample data to guide users.
    - [FEAT] Reports & Analytics: Added a dedicated "Tutorial & Instructions" tab in the exported Excel template with guidelines on data entry, formats, and restrictions.
    
    v2.9.4 (Feb 2026) - UI Polish:
    - [UX] Profile: Increased input border contrast (gray-400) and added background (gray-50) for maximum visibility
    
    v2.9.3 (Feb 2026) - Profile Page UI/UX Enhancements:
    - [UX] Profile: Added visible border outlines for all input containers and input fields
    - [UX] Profile: Separated password update with dedicated "Update Password" button
    - [UX] Profile: Optimized spacing between labels and inputs
    - [FEAT] Profile: Privacy indicators for PhilHealth ID, GSIS No., and Home Address
    - [FEAT] Profile: Educational Attainment dropdown (HS Graduate to Doctorate)
    - [FEAT] Profile: Grade Level dropdown (Grade 7-12)
    - [FEAT] Profile: Section icons for visual clarity
    - [FUNC] savePassword() function for dedicated password management
    - [PERM] PSDS position now has Principal-like powers and capabilities
    - [PERM] DRRM position users have access to DRRM Corner only
    
    INSTRUCTIONS:
    1. Deploy your Google Apps Script backend.
    2. Paste the Web App URL into the `const API_URL` variable inside the script tag below.
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>School Portal v2.9.5</title>

    <!-- Tailwind CSS (Compiled) -->
    <style id="tailwind-css">
        /*
! tailwindcss v3.4.1 | MIT License | https://tailwindcss.com
*/

        /*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

        *,
        ::before,
        ::after {
            box-sizing: border-box;
            /* 1 */
            border-width: 0;
            /* 2 */
            border-style: solid;
            /* 2 */
            border-color: #e5e7eb;
            /* 2 */
        }

        ::before,
        ::after {
            --tw-content: '';
        }

        /*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured `sans` font-family by default.
5. Use the user's configured `sans` font-feature-settings by default.
6. Use the user's configured `sans` font-variation-settings by default.
7. Disable tap highlights on iOS
*/

        html,
        :host {
            line-height: 1.5;
            /* 1 */
            -webkit-text-size-adjust: 100%;
            /* 2 */
            -moz-tab-size: 4;
            /* 3 */
            -o-tab-size: 4;
            tab-size: 4;
            /* 3 */
            font-family: Inter, sans-serif;
            /* 4 */
            font-feature-settings: normal;
            /* 5 */
            font-variation-settings: normal;
            /* 6 */
            -webkit-tap-highlight-color: transparent;
            /* 7 */
        }

        /*
1. Remove the margin in all browsers.
2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.
*/

        body {
            margin: 0;
            /* 1 */
            line-height: inherit;
            /* 2 */
        }

        /*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

        hr {
            height: 0;
            /* 1 */
            color: inherit;
            /* 2 */
            border-top-width: 1px;
            /* 3 */
        }

        /*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

        abbr:where([title]) {
            -webkit-text-decoration: underline dotted;
            text-decoration: underline dotted;
        }

        /*
Remove the default font size and weight for headings.
*/

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-size: inherit;
            font-weight: inherit;
        }

        /*
Reset links to optimize for opt-in styling instead of opt-out.
*/

        a {
            color: inherit;
            text-decoration: inherit;
        }

        /*
Add the correct font weight in Edge and Safari.
*/

        b,
        strong {
            font-weight: bolder;
        }

        /*
1. Use the user's configured `mono` font-family by default.
2. Use the user's configured `mono` font-feature-settings by default.
3. Use the user's configured `mono` font-variation-settings by default.
4. Correct the odd `em` font sizing in all browsers.
*/

        code,
        kbd,
        samp,
        pre {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            /* 1 */
            font-feature-settings: normal;
            /* 2 */
            font-variation-settings: normal;
            /* 3 */
            font-size: 1em;
            /* 4 */
        }

        /*
Add the correct font size in all browsers.
*/

        small {
            font-size: 80%;
        }

        /*
Prevent `sub` and `sup` elements from affecting the line height in all browsers.
*/

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline;
        }

        sub {
            bottom: -0.25em;
        }

        sup {
            top: -0.5em;
        }

        /*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

        table {
            text-indent: 0;
            /* 1 */
            border-color: inherit;
            /* 2 */
            border-collapse: collapse;
            /* 3 */
        }

        /*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

        button,
        input,
        optgroup,
        select,
        textarea {
            font-family: inherit;
            /* 1 */
            font-feature-settings: inherit;
            /* 1 */
            font-variation-settings: inherit;
            /* 1 */
            font-size: 100%;
            /* 1 */
            font-weight: inherit;
            /* 1 */
            line-height: inherit;
            /* 1 */
            color: inherit;
            /* 1 */
            margin: 0;
            /* 2 */
            padding: 0;
            /* 3 */
        }

        /*
Remove the inheritance of text transform in Edge and Firefox.
*/

        button,
        select {
            text-transform: none;
        }

        /*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

        button,
        [type='button'],
        [type='reset'],
        [type='submit'] {
            -webkit-appearance: button;
            appearance: button;
            /* 1 */
            background-color: transparent;
            /* 2 */
            background-image: none;
            /* 2 */
        }

        /*
Use the modern Firefox focus style for all focusable elements.
*/

        :-moz-focusring {
            outline: auto;
        }

        /*
Remove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

        :-moz-ui-invalid {
            box-shadow: none;
        }

        /*
Add the correct vertical alignment in Chrome and Firefox.
*/

        progress {
            vertical-align: baseline;
        }

        /*
Correct the cursor style of increment and decrement buttons in Safari.
*/

        ::-webkit-inner-spin-button,
        ::-webkit-outer-spin-button {
            height: auto;
        }

        /*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

        [type='search'] {
            -webkit-appearance: textfield;
            appearance: textfield;
            /* 1 */
            outline-offset: -2px;
            /* 2 */
        }

        /*
Remove the inner padding in Chrome and Safari on macOS.
*/

        ::-webkit-search-decoration {
            -webkit-appearance: none;
        }

        /*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to `inherit` in Safari.
*/

        ::-webkit-file-upload-button {
            -webkit-appearance: button;
            /* 1 */
            font: inherit;
            /* 2 */
        }

        /*
Add the correct display in Chrome and Safari.
*/

        summary {
            display: list-item;
        }

        /*
Removes the default spacing and border for appropriate elements.
*/

        blockquote,
        dl,
        dd,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        hr,
        figure,
        p,
        pre {
            margin: 0;
        }

        fieldset {
            margin: 0;
            padding: 0;
        }

        legend {
            padding: 0;
        }

        ol,
        ul,
        menu {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        /*
Reset default styling for dialogs.
*/

        dialog {
            padding: 0;
        }

        /*
Prevent resizing textareas horizontally by default.
*/

        textarea {
            resize: vertical;
        }

        /*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

        input::-moz-placeholder,
        textarea::-moz-placeholder {
            opacity: 1;
            /* 1 */
            color: #9ca3af;
            /* 2 */
        }

        input::placeholder,
        textarea::placeholder {
            opacity: 1;
            /* 1 */
            color: #9ca3af;
            /* 2 */
        }

        /*
Set the default cursor for buttons.
*/

        button,
        [role="button"] {
            cursor: pointer;
        }

        /*
Make sure disabled buttons don't get the pointer cursor.
*/

        :disabled {
            cursor: default;
        }

        /*
1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

        img,
        svg,
        video,
        canvas,
        audio,
        iframe,
        embed,
        object {
            display: block;
            /* 1 */
        }

        /*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

        img,
        video {
            max-width: 100%;
            height: auto;
        }

        /* Make elements with the HTML hidden attribute stay hidden by default */

        [hidden] {
            display: none;
        }

        *,
        ::before,
        ::after {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
        }

        ::backdrop {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
        }

        .\!container {
            width: 100% !important;
        }

        .container {
            width: 100%;
        }

        @media (min-width: 640px) {
            .\!container {
                max-width: 640px !important;
            }

            .container {
                max-width: 640px;
            }
        }

        @media (min-width: 768px) {
            .\!container {
                max-width: 768px !important;
            }

            .container {
                max-width: 768px;
            }
        }

        @media (min-width: 1024px) {
            .\!container {
                max-width: 1024px !important;
            }

            .container {
                max-width: 1024px;
            }
        }

        @media (min-width: 1280px) {
            .\!container {
                max-width: 1280px !important;
            }

            .container {
                max-width: 1280px;
            }
        }

        @media (min-width: 1536px) {
            .\!container {
                max-width: 1536px !important;
            }

            .container {
                max-width: 1536px;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .not-sr-only {
            position: static;
            width: auto;
            height: auto;
            padding: 0;
            margin: 0;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }

        .pointer-events-none {
            pointer-events: none;
        }

        .pointer-events-auto {
            pointer-events: auto;
        }

        .visible {
            visibility: visible;
        }

        .invisible {
            visibility: hidden;
        }

        .collapse {
            visibility: collapse;
        }

        .static {
            position: static;
        }

        .fixed {
            position: fixed;
        }

        .absolute {
            position: absolute;
        }

        .relative {
            position: relative;
        }

        .sticky {
            position: sticky;
        }

        .inset-0 {
            inset: 0px;
        }

        .bottom-0 {
            bottom: 0px;
        }

        .bottom-5 {
            bottom: 1.25rem;
        }

        .bottom-\[-10\%\] {
            bottom: -10%;
        }

        .bottom-\[-20px\] {
            bottom: -20px;
        }

        .bottom-\[-5px\] {
            bottom: -5px;
        }

        .left-0 {
            left: 0px;
        }

        .left-1 {
            left: 0.25rem;
        }

        .left-1\/2 {
            left: 50%;
        }

        .left-4 {
            left: 1rem;
        }

        .left-\[-10\%\] {
            left: -10%;
        }

        .left-auto {
            left: auto;
        }

        .right-0 {
            right: 0px;
        }

        .right-2 {
            right: 0.5rem;
        }

        .right-4 {
            right: 1rem;
        }

        .right-5 {
            right: 1.25rem;
        }

        .right-6 {
            right: 1.5rem;
        }

        .right-\[-10\%\] {
            right: -10%;
        }

        .right-\[-10px\] {
            right: -10px;
        }

        .right-\[-20px\] {
            right: -20px;
        }

        .right-\[-5px\] {
            right: -5px;
        }

        .top-0 {
            top: 0px;
        }

        .top-2 {
            top: 0.5rem;
        }

        .top-3 {
            top: 0.75rem;
        }

        .top-3\.5 {
            top: 0.875rem;
        }

        .top-6 {
            top: 1.5rem;
        }

        .top-\[-10\%\] {
            top: -10%;
        }

        .top-\[-10px\] {
            top: -10px;
        }

        .top-\[-20px\] {
            top: -20px;
        }

        .top-full {
            top: 100%;
        }

        .isolate {
            isolation: isolate;
        }

        .isolation-auto {
            isolation: auto;
        }

        .z-10 {
            z-index: 10;
        }

        .z-20 {
            z-index: 20;
        }

        .z-30 {
            z-index: 30;
        }

        .z-40 {
            z-index: 40;
        }

        .z-50 {
            z-index: 50;
        }

        .z-\[100\] {
            z-index: 100;
        }

        .z-\[60\] {
            z-index: 60;
        }

        .z-\[70\] {
            z-index: 70;
        }

        .order-none {
            order: 0;
        }

        .col-span-1 {
            grid-column: span 1 / span 1;
        }

        .col-span-2 {
            grid-column: span 2 / span 2;
        }

        .col-span-4 {
            grid-column: span 4 / span 4;
        }

        .col-start-2 {
            grid-column-start: 2;
        }

        .row-span-2 {
            grid-row: span 2 / span 2;
        }

        .row-start-1 {
            grid-row-start: 1;
        }

        .float-start {
            float: inline-start;
        }

        .float-end {
            float: inline-end;
        }

        .float-right {
            float: right;
        }

        .float-left {
            float: left;
        }

        .float-none {
            float: none;
        }

        .clear-start {
            clear: inline-start;
        }

        .clear-end {
            clear: inline-end;
        }

        .clear-left {
            clear: left;
        }

        .clear-right {
            clear: right;
        }

        .clear-both {
            clear: both;
        }

        .clear-none {
            clear: none;
        }

        .mx-1 {
            margin-left: 0.25rem;
            margin-right: 0.25rem;
        }

        .mx-11 {
            margin-left: 2.75rem;
            margin-right: 2.75rem;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .my-4 {
            margin-top: 1rem;
            margin-bottom: 1rem;
        }

        .-mt-2 {
            margin-top: -0.5rem;
        }

        .mb-0 {
            margin-bottom: 0px;
        }

        .mb-0\.5 {
            margin-bottom: 0.125rem;
        }

        .mb-1 {
            margin-bottom: 0.25rem;
        }

        .mb-10 {
            margin-bottom: 2.5rem;
        }

        .mb-2 {
            margin-bottom: 0.5rem;
        }

        .mb-3 {
            margin-bottom: 0.75rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mb-5 {
            margin-bottom: 1.25rem;
        }

        .mb-6 {
            margin-bottom: 1.5rem;
        }

        .mb-8 {
            margin-bottom: 2rem;
        }

        .ml-0 {
            margin-left: 0px;
        }

        .ml-0\.5 {
            margin-left: 0.125rem;
        }

        .ml-1 {
            margin-left: 0.25rem;
        }

        .ml-2 {
            margin-left: 0.5rem;
        }

        .ml-5 {
            margin-left: 1.25rem;
        }

        .ml-auto {
            margin-left: auto;
        }

        .mr-2 {
            margin-right: 0.5rem;
        }

        .mt-0 {
            margin-top: 0px;
        }

        .mt-0\.5 {
            margin-top: 0.125rem;
        }

        .mt-1 {
            margin-top: 0.25rem;
        }

        .mt-12 {
            margin-top: 3rem;
        }

        .mt-2 {
            margin-top: 0.5rem;
        }

        .mt-3 {
            margin-top: 0.75rem;
        }

        .mt-4 {
            margin-top: 1rem;
        }

        .mt-5 {
            margin-top: 1.25rem;
        }

        .mt-6 {
            margin-top: 1.5rem;
        }

        .mt-8 {
            margin-top: 2rem;
        }

        .box-border {
            box-sizing: border-box;
        }

        .box-content {
            box-sizing: content-box;
        }

        .line-clamp-1 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 1;
            line-clamp: 1;
        }

        .line-clamp-2 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            line-clamp: 2;
        }

        .block {
            display: block;
        }

        .inline-block {
            display: inline-block;
        }

        .inline {
            display: inline;
        }

        .flex {
            display: flex;
        }

        .inline-flex {
            display: inline-flex;
        }

        .table {
            display: table;
        }

        .inline-table {
            display: inline-table;
        }

        .table-caption {
            display: table-caption;
        }

        .table-cell {
            display: table-cell;
        }

        .table-column {
            display: table-column;
        }

        .table-column-group {
            display: table-column-group;
        }

        .table-footer-group {
            display: table-footer-group;
        }

        .table-header-group {
            display: table-header-group;
        }

        .table-row-group {
            display: table-row-group;
        }

        .table-row {
            display: table-row;
        }

        .flow-root {
            display: flow-root;
        }

        .grid {
            display: grid;
        }

        .inline-grid {
            display: inline-grid;
        }

        .contents {
            display: contents;
        }

        .list-item {
            display: list-item;
        }

        .hidden {
            display: none;
        }

        .size-auto {
            width: auto;
            height: auto;
        }

        .h-10 {
            height: 2.5rem;
        }

        .h-12 {
            height: 3rem;
        }

        .h-14 {
            height: 3.5rem;
        }

        .h-16 {
            height: 4rem;
        }

        .h-2 {
            height: 0.5rem;
        }

        .h-20 {
            height: 5rem;
        }

        .h-24 {
            height: 6rem;
        }

        .h-32 {
            height: 8rem;
        }

        .h-40 {
            height: 10rem;
        }

        .h-5 {
            height: 1.25rem;
        }

        .h-6 {
            height: 1.5rem;
        }

        .h-64 {
            height: 16rem;
        }

        .h-7 {
            height: 1.75rem;
        }

        .h-8 {
            height: 2rem;
        }

        .h-\[100dvh\] {
            height: 100dvh;
        }

        .h-\[80vh\] {
            height: 80vh;
        }

        .h-auto {
            height: auto;
        }

        .h-full {
            height: 100%;
        }

        .h-px {
            height: 1px;
        }

        .h-screen {
            height: 100vh;
        }

        .max-h-60 {
            max-height: 15rem;
        }

        .max-h-96 {
            max-height: 24rem;
        }

        .max-h-\[70vh\] {
            max-height: 70vh;
        }

        .max-h-\[95vh\] {
            max-height: 95vh;
        }

        .max-h-none {
            max-height: none;
        }

        .max-h-screen {
            max-height: 100vh;
        }

        .min-h-\[200px\] {
            min-height: 200px;
        }

        .min-h-\[40vh\] {
            min-height: 40vh;
        }

        .min-h-full {
            min-height: 100%;
        }

        .min-h-screen {
            min-height: 100vh;
        }

        .w-10 {
            width: 2.5rem;
        }

        .w-11 {
            width: 2.75rem;
        }

        .w-12 {
            width: 3rem;
        }

        .w-14 {
            width: 3.5rem;
        }

        .w-16 {
            width: 4rem;
        }

        .w-2 {
            width: 0.5rem;
        }

        .w-20 {
            width: 5rem;
        }

        .w-24 {
            width: 6rem;
        }

        .w-32 {
            width: 8rem;
        }

        .w-6 {
            width: 1.5rem;
        }

        .w-64 {
            width: 16rem;
        }

        .w-7 {
            width: 1.75rem;
        }

        .w-72 {
            width: 18rem;
        }

        .w-8 {
            width: 2rem;
        }

        .w-\[1px\] {
            width: 1px;
        }

        .w-auto {
            width: auto;
        }

        .w-fit {
            width: -moz-fit-content;
            width: fit-content;
        }

        .w-full {
            width: 100%;
        }

        .w-px {
            width: 1px;
        }

        .w-screen {
            width: 100vw;
        }

        .min-w-0 {
            min-width: 0px;
        }

        .min-w-\[60px\] {
            min-width: 60px;
        }

        .max-w-3xl {
            max-width: 48rem;
        }

        .max-w-4xl {
            max-width: 56rem;
        }

        .max-w-5xl {
            max-width: 64rem;
        }

        .max-w-6xl {
            max-width: 72rem;
        }

        .max-w-\[80\%\] {
            max-width: 80%;
        }

        .max-w-md {
            max-width: 28rem;
        }

        .max-w-none {
            max-width: none;
        }

        .max-w-sm {
            max-width: 24rem;
        }

        .flex-1 {
            flex: 1 1 0%;
        }

        .flex-auto {
            flex: 1 1 auto;
        }

        .flex-initial {
            flex: 0 1 auto;
        }

        .flex-none {
            flex: none;
        }

        .flex-shrink {
            flex-shrink: 1;
        }

        .flex-shrink-0 {
            flex-shrink: 0;
        }

        .shrink {
            flex-shrink: 1;
        }

        .shrink-0 {
            flex-shrink: 0;
        }

        .flex-grow {
            flex-grow: 1;
        }

        .grow {
            flex-grow: 1;
        }

        .basis-auto {
            flex-basis: auto;
        }

        .basis-full {
            flex-basis: 100%;
        }

        .table-auto {
            table-layout: auto;
        }

        .table-fixed {
            table-layout: fixed;
        }

        .caption-top {
            caption-side: top;
        }

        .caption-bottom {
            caption-side: bottom;
        }

        .border-collapse {
            border-collapse: collapse;
        }

        .border-separate {
            border-collapse: separate;
        }

        .origin-top {
            transform-origin: top;
        }

        .-translate-x-1 {
            --tw-translate-x: -0.25rem;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .-translate-x-1\/2 {
            --tw-translate-x: -50%;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .translate-x-0 {
            --tw-translate-x: 0px;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .translate-x-1 {
            --tw-translate-x: 0.25rem;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .translate-y-0 {
            --tw-translate-y: 0px;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .translate-y-10 {
            --tw-translate-y: 2.5rem;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .translate-y-\[-20px\] {
            --tw-translate-y: -20px;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .translate-y-full {
            --tw-translate-y: 100%;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .scale-110 {
            --tw-scale-x: 1.1;
            --tw-scale-y: 1.1;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .scale-150 {
            --tw-scale-x: 1.5;
            --tw-scale-y: 1.5;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .scale-y-0 {
            --tw-scale-y: 0;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .scale-y-100 {
            --tw-scale-y: 1;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .transform {
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .transform-cpu {
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .transform-gpu {
            transform: translate3d(var(--tw-translate-x), var(--tw-translate-y), 0) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .transform-none {
            transform: none;
        }

        @keyframes bounceSlight {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .animate-bounce-slight {
            animation: bounceSlight 2s infinite;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes pulse {
            50% {
                opacity: .5;
            }
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes slideUp {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }

            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-slide-up {
            animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .animate-spin-slow {
            animation: spin 10s linear infinite;
        }

        .cursor-copy {
            cursor: copy;
        }

        .cursor-default {
            cursor: default;
        }

        .cursor-not-allowed {
            cursor: not-allowed;
        }

        .cursor-pointer {
            cursor: pointer;
        }

        .touch-pinch-zoom {
            --tw-pinch-zoom: pinch-zoom;
            touch-action: var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom);
        }

        .select-none {
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        .select-all {
            -webkit-user-select: all;
            -moz-user-select: all;
            user-select: all;
        }

        .resize-none {
            resize: none;
        }

        .resize-y {
            resize: vertical;
        }

        .resize-x {
            resize: horizontal;
        }

        .resize {
            resize: both;
        }

        .snap-none {
            scroll-snap-type: none;
        }

        .snap-mandatory {
            --tw-scroll-snap-strictness: mandatory;
        }

        .snap-proximity {
            --tw-scroll-snap-strictness: proximity;
        }

        .snap-start {
            scroll-snap-align: start;
        }

        .snap-end {
            scroll-snap-align: end;
        }

        .snap-center {
            scroll-snap-align: center;
        }

        .snap-align-none {
            scroll-snap-align: none;
        }

        .snap-normal {
            scroll-snap-stop: normal;
        }

        .snap-always {
            scroll-snap-stop: always;
        }

        .list-inside {
            list-style-position: inside;
        }

        .list-outside {
            list-style-position: outside;
        }

        .list-disc {
            list-style-type: disc;
        }

        .appearance-none {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .appearance-auto {
            -webkit-appearance: auto;
            -moz-appearance: auto;
            appearance: auto;
        }

        .grid-flow-row {
            grid-auto-flow: row;
        }

        .grid-flow-col {
            grid-auto-flow: column;
        }

        .grid-flow-dense {
            grid-auto-flow: dense;
        }

        .grid-flow-row-dense {
            grid-auto-flow: row dense;
        }

        .grid-flow-col-dense {
            grid-auto-flow: column dense;
        }

        .auto-rows-min {
            grid-auto-rows: min-content;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }

        .grid-cols-4 {
            grid-template-columns: repeat(4, minmax(0, 1fr));
        }

        .grid-cols-7 {
            grid-template-columns: repeat(7, minmax(0, 1fr));
        }

        .flex-row {
            flex-direction: row;
        }

        .flex-row-reverse {
            flex-direction: row-reverse;
        }

        .flex-col {
            flex-direction: column;
        }

        .flex-col-reverse {
            flex-direction: column-reverse;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .flex-wrap-reverse {
            flex-wrap: wrap-reverse;
        }

        .flex-nowrap {
            flex-wrap: nowrap;
        }

        .place-content-center {
            place-content: center;
        }

        .place-content-start {
            place-content: start;
        }

        .place-content-end {
            place-content: end;
        }

        .place-content-between {
            place-content: space-between;
        }

        .place-content-around {
            place-content: space-around;
        }

        .place-content-evenly {
            place-content: space-evenly;
        }

        .place-content-baseline {
            place-content: baseline;
        }

        .place-content-stretch {
            place-content: stretch;
        }

        .place-items-start {
            place-items: start;
        }

        .place-items-end {
            place-items: end;
        }

        .place-items-center {
            place-items: center;
        }

        .place-items-baseline {
            place-items: baseline;
        }

        .place-items-stretch {
            place-items: stretch;
        }

        .content-normal {
            align-content: normal;
        }

        .content-center {
            align-content: center;
        }

        .content-start {
            align-content: flex-start;
        }

        .content-end {
            align-content: flex-end;
        }

        .content-between {
            align-content: space-between;
        }

        .content-around {
            align-content: space-around;
        }

        .content-evenly {
            align-content: space-evenly;
        }

        .content-baseline {
            align-content: baseline;
        }

        .content-stretch {
            align-content: stretch;
        }

        .items-start {
            align-items: flex-start;
        }

        .items-end {
            align-items: flex-end;
        }

        .items-center {
            align-items: center;
        }

        .items-baseline {
            align-items: baseline;
        }

        .items-stretch {
            align-items: stretch;
        }

        .justify-normal {
            justify-content: normal;
        }

        .justify-start {
            justify-content: flex-start;
        }

        .justify-end {
            justify-content: flex-end;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .justify-around {
            justify-content: space-around;
        }

        .justify-evenly {
            justify-content: space-evenly;
        }

        .justify-stretch {
            justify-content: stretch;
        }

        .justify-items-start {
            justify-items: start;
        }

        .justify-items-end {
            justify-items: end;
        }

        .justify-items-center {
            justify-items: center;
        }

        .justify-items-stretch {
            justify-items: stretch;
        }

        .gap-1 {
            gap: 0.25rem;
        }

        .gap-1\.5 {
            gap: 0.375rem;
        }

        .gap-2 {
            gap: 0.5rem;
        }

        .gap-3 {
            gap: 0.75rem;
        }

        .gap-4 {
            gap: 1rem;
        }

        .gap-5 {
            gap: 1.25rem;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .-space-x-2> :not([hidden])~ :not([hidden]) {
            --tw-space-x-reverse: 0;
            margin-right: calc(-0.5rem * var(--tw-space-x-reverse));
            margin-left: calc(-0.5rem * calc(1 - var(--tw-space-x-reverse)));
        }

        .space-y-0> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0px * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0px * var(--tw-space-y-reverse));
        }

        .space-y-0\.5> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.125rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.125rem * var(--tw-space-y-reverse));
        }

        .space-y-1> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));
        }

        .space-y-2> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));
        }

        .space-y-3> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));
        }

        .space-y-4> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(1rem * var(--tw-space-y-reverse));
        }

        .space-y-5> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(1.25rem * var(--tw-space-y-reverse));
        }

        .space-y-6> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));
        }

        .space-y-8> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(2rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(2rem * var(--tw-space-y-reverse));
        }

        .space-y-reverse> :not([hidden])~ :not([hidden]) {
            --tw-space-y-reverse: 1;
        }

        .space-x-reverse> :not([hidden])~ :not([hidden]) {
            --tw-space-x-reverse: 1;
        }

        .divide-x> :not([hidden])~ :not([hidden]) {
            --tw-divide-x-reverse: 0;
            border-right-width: calc(1px * var(--tw-divide-x-reverse));
            border-left-width: calc(1px * calc(1 - var(--tw-divide-x-reverse)));
        }

        .divide-y> :not([hidden])~ :not([hidden]) {
            --tw-divide-y-reverse: 0;
            border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));
            border-bottom-width: calc(1px * var(--tw-divide-y-reverse));
        }

        .divide-y-reverse> :not([hidden])~ :not([hidden]) {
            --tw-divide-y-reverse: 1;
        }

        .divide-x-reverse> :not([hidden])~ :not([hidden]) {
            --tw-divide-x-reverse: 1;
        }

        .divide-purple-200> :not([hidden])~ :not([hidden]) {
            --tw-divide-opacity: 1;
            border-color: rgb(233 213 255 / var(--tw-divide-opacity));
        }

        .place-self-auto {
            place-self: auto;
        }

        .place-self-start {
            place-self: start;
        }

        .place-self-end {
            place-self: end;
        }

        .place-self-center {
            place-self: center;
        }

        .place-self-stretch {
            place-self: stretch;
        }

        .self-auto {
            align-self: auto;
        }

        .self-start {
            align-self: flex-start;
        }

        .self-end {
            align-self: flex-end;
        }

        .self-center {
            align-self: center;
        }

        .self-stretch {
            align-self: stretch;
        }

        .self-baseline {
            align-self: baseline;
        }

        .justify-self-auto {
            justify-self: auto;
        }

        .justify-self-start {
            justify-self: start;
        }

        .justify-self-end {
            justify-self: end;
        }

        .justify-self-center {
            justify-self: center;
        }

        .justify-self-stretch {
            justify-self: stretch;
        }

        .overflow-hidden {
            overflow: hidden;
        }

        .overflow-x-auto {
            overflow-x: auto;
        }

        .overflow-y-auto {
            overflow-y: auto;
        }

        .overflow-x-hidden {
            overflow-x: hidden;
        }

        .overflow-y-hidden {
            overflow-y: hidden;
        }

        .scroll-auto {
            scroll-behavior: auto;
        }

        .scroll-smooth {
            scroll-behavior: smooth;
        }

        .truncate {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .text-clip {
            text-overflow: clip;
        }

        .hyphens-none {
            -webkit-hyphens: none;
            hyphens: none;
        }

        .hyphens-manual {
            -webkit-hyphens: manual;
            hyphens: manual;
        }

        .hyphens-auto {
            -webkit-hyphens: auto;
            hyphens: auto;
        }

        .whitespace-normal {
            white-space: normal;
        }

        .whitespace-nowrap {
            white-space: nowrap;
        }

        .whitespace-pre {
            white-space: pre;
        }

        .whitespace-pre-line {
            white-space: pre-line;
        }

        .whitespace-pre-wrap {
            white-space: pre-wrap;
        }

        .whitespace-break-spaces {
            white-space: break-spaces;
        }

        .text-wrap {
            text-wrap: wrap;
        }

        .text-nowrap {
            text-wrap: nowrap;
        }

        .text-balance {
            text-wrap: balance;
        }

        .text-pretty {
            text-wrap: pretty;
        }

        .break-normal {
            overflow-wrap: normal;
            word-break: normal;
        }

        .break-words {
            overflow-wrap: break-word;
        }

        .break-all {
            word-break: break-all;
        }

        .break-keep {
            word-break: keep-all;
        }

        .rounded {
            border-radius: 0.25rem;
        }

        .rounded-2xl {
            border-radius: 1rem;
        }

        .rounded-3xl {
            border-radius: 1.5rem;
        }

        .rounded-full {
            border-radius: 9999px;
        }

        .rounded-lg {
            border-radius: 0.5rem;
        }

        .rounded-xl {
            border-radius: 0.75rem;
        }

        .rounded-t-3xl {
            border-top-left-radius: 1.5rem;
            border-top-right-radius: 1.5rem;
        }

        .rounded-bl-none {
            border-bottom-left-radius: 0px;
        }

        .rounded-br-none {
            border-bottom-right-radius: 0px;
        }

        .rounded-tl-none {
            border-top-left-radius: 0px;
        }

        .border {
            border-width: 1px;
        }

        .border-0 {
            border-width: 0px;
        }

        .border-2 {
            border-width: 2px;
        }

        .border-4 {
            border-width: 4px;
        }

        .border-x {
            border-left-width: 1px;
            border-right-width: 1px;
        }

        .border-y {
            border-top-width: 1px;
            border-bottom-width: 1px;
        }

        .border-b {
            border-bottom-width: 1px;
        }

        .border-e {
            border-inline-end-width: 1px;
        }

        .border-l {
            border-left-width: 1px;
        }

        .border-l-4 {
            border-left-width: 4px;
        }

        .border-r {
            border-right-width: 1px;
        }

        .border-s {
            border-inline-start-width: 1px;
        }

        .border-t {
            border-top-width: 1px;
        }

        .border-t-2 {
            border-top-width: 2px;
        }

        .border-solid {
            border-style: solid;
        }

        .border-dashed {
            border-style: dashed;
        }

        .border-dotted {
            border-style: dotted;
        }

        .border-double {
            border-style: double;
        }

        .border-hidden {
            border-style: hidden;
        }

        .border-none {
            border-style: none;
        }

        .border-amber-100 {
            --tw-border-opacity: 1;
            border-color: rgb(254 243 199 / var(--tw-border-opacity));
        }

        .border-amber-200 {
            --tw-border-opacity: 1;
            border-color: rgb(253 230 138 / var(--tw-border-opacity));
        }

        .border-amber-300 {
            --tw-border-opacity: 1;
            border-color: rgb(252 211 77 / var(--tw-border-opacity));
        }

        .border-amber-400 {
            --tw-border-opacity: 1;
            border-color: rgb(251 191 36 / var(--tw-border-opacity));
        }

        .border-amber-50 {
            --tw-border-opacity: 1;
            border-color: rgb(255 251 235 / var(--tw-border-opacity));
        }

        .border-amber-500 {
            --tw-border-opacity: 1;
            border-color: rgb(245 158 11 / var(--tw-border-opacity));
        }

        .border-amber-600 {
            --tw-border-opacity: 1;
            border-color: rgb(217 119 6 / var(--tw-border-opacity));
        }

        .border-amber-700 {
            --tw-border-opacity: 1;
            border-color: rgb(180 83 9 / var(--tw-border-opacity));
        }

        .border-amber-800 {
            --tw-border-opacity: 1;
            border-color: rgb(146 64 14 / var(--tw-border-opacity));
        }

        .border-amber-900 {
            --tw-border-opacity: 1;
            border-color: rgb(120 53 15 / var(--tw-border-opacity));
        }

        .border-blue-100 {
            --tw-border-opacity: 1;
            border-color: rgb(219 234 254 / var(--tw-border-opacity));
        }

        .border-blue-200 {
            --tw-border-opacity: 1;
            border-color: rgb(191 219 254 / var(--tw-border-opacity));
        }

        .border-blue-300 {
            --tw-border-opacity: 1;
            border-color: rgb(147 197 253 / var(--tw-border-opacity));
        }

        .border-blue-400 {
            --tw-border-opacity: 1;
            border-color: rgb(96 165 250 / var(--tw-border-opacity));
        }

        .border-blue-50 {
            --tw-border-opacity: 1;
            border-color: rgb(239 246 255 / var(--tw-border-opacity));
        }

        .border-blue-500 {
            --tw-border-opacity: 1;
            border-color: rgb(59 130 246 / var(--tw-border-opacity));
        }

        .border-blue-600 {
            --tw-border-opacity: 1;
            border-color: rgb(37 99 235 / var(--tw-border-opacity));
        }

        .border-blue-700 {
            --tw-border-opacity: 1;
            border-color: rgb(29 78 216 / var(--tw-border-opacity));
        }

        .border-blue-800 {
            --tw-border-opacity: 1;
            border-color: rgb(30 64 175 / var(--tw-border-opacity));
        }

        .border-blue-900 {
            --tw-border-opacity: 1;
            border-color: rgb(30 58 138 / var(--tw-border-opacity));
        }

        .border-brand-100 {
            --tw-border-opacity: 1;
            border-color: rgb(219 234 254 / var(--tw-border-opacity));
        }

        .border-brand-500 {
            --tw-border-opacity: 1;
            border-color: rgb(59 130 246 / var(--tw-border-opacity));
        }

        .border-brand-600 {
            --tw-border-opacity: 1;
            border-color: rgb(37 99 235 / var(--tw-border-opacity));
        }

        .border-cyan-100 {
            --tw-border-opacity: 1;
            border-color: rgb(207 250 254 / var(--tw-border-opacity));
        }

        .border-cyan-200 {
            --tw-border-opacity: 1;
            border-color: rgb(165 243 252 / var(--tw-border-opacity));
        }

        .border-cyan-300 {
            --tw-border-opacity: 1;
            border-color: rgb(103 232 249 / var(--tw-border-opacity));
        }

        .border-cyan-400 {
            --tw-border-opacity: 1;
            border-color: rgb(34 211 238 / var(--tw-border-opacity));
        }

        .border-cyan-50 {
            --tw-border-opacity: 1;
            border-color: rgb(236 254 255 / var(--tw-border-opacity));
        }

        .border-cyan-500 {
            --tw-border-opacity: 1;
            border-color: rgb(6 182 212 / var(--tw-border-opacity));
        }

        .border-cyan-600 {
            --tw-border-opacity: 1;
            border-color: rgb(8 145 178 / var(--tw-border-opacity));
        }

        .border-cyan-700 {
            --tw-border-opacity: 1;
            border-color: rgb(14 116 144 / var(--tw-border-opacity));
        }

        .border-cyan-800 {
            --tw-border-opacity: 1;
            border-color: rgb(21 94 117 / var(--tw-border-opacity));
        }

        .border-cyan-900 {
            --tw-border-opacity: 1;
            border-color: rgb(22 78 99 / var(--tw-border-opacity));
        }

        .border-emerald-100 {
            --tw-border-opacity: 1;
            border-color: rgb(209 250 229 / var(--tw-border-opacity));
        }

        .border-emerald-200 {
            --tw-border-opacity: 1;
            border-color: rgb(167 243 208 / var(--tw-border-opacity));
        }

        .border-emerald-300 {
            --tw-border-opacity: 1;
            border-color: rgb(110 231 183 / var(--tw-border-opacity));
        }

        .border-emerald-400 {
            --tw-border-opacity: 1;
            border-color: rgb(52 211 153 / var(--tw-border-opacity));
        }

        .border-emerald-50 {
            --tw-border-opacity: 1;
            border-color: rgb(236 253 245 / var(--tw-border-opacity));
        }

        .border-emerald-500 {
            --tw-border-opacity: 1;
            border-color: rgb(16 185 129 / var(--tw-border-opacity));
        }

        .border-emerald-600 {
            --tw-border-opacity: 1;
            border-color: rgb(5 150 105 / var(--tw-border-opacity));
        }

        .border-emerald-700 {
            --tw-border-opacity: 1;
            border-color: rgb(4 120 87 / var(--tw-border-opacity));
        }

        .border-emerald-800 {
            --tw-border-opacity: 1;
            border-color: rgb(6 95 70 / var(--tw-border-opacity));
        }

        .border-emerald-900 {
            --tw-border-opacity: 1;
            border-color: rgb(6 78 59 / var(--tw-border-opacity));
        }

        .border-fuchsia-100 {
            --tw-border-opacity: 1;
            border-color: rgb(250 232 255 / var(--tw-border-opacity));
        }

        .border-fuchsia-200 {
            --tw-border-opacity: 1;
            border-color: rgb(245 208 254 / var(--tw-border-opacity));
        }

        .border-fuchsia-300 {
            --tw-border-opacity: 1;
            border-color: rgb(240 171 252 / var(--tw-border-opacity));
        }

        .border-fuchsia-400 {
            --tw-border-opacity: 1;
            border-color: rgb(232 121 249 / var(--tw-border-opacity));
        }

        .border-fuchsia-50 {
            --tw-border-opacity: 1;
            border-color: rgb(253 244 255 / var(--tw-border-opacity));
        }

        .border-fuchsia-500 {
            --tw-border-opacity: 1;
            border-color: rgb(217 70 239 / var(--tw-border-opacity));
        }

        .border-fuchsia-600 {
            --tw-border-opacity: 1;
            border-color: rgb(192 38 211 / var(--tw-border-opacity));
        }

        .border-fuchsia-700 {
            --tw-border-opacity: 1;
            border-color: rgb(162 28 175 / var(--tw-border-opacity));
        }

        .border-fuchsia-800 {
            --tw-border-opacity: 1;
            border-color: rgb(134 25 143 / var(--tw-border-opacity));
        }

        .border-fuchsia-900 {
            --tw-border-opacity: 1;
            border-color: rgb(112 26 117 / var(--tw-border-opacity));
        }

        .border-gray-100 {
            --tw-border-opacity: 1;
            border-color: rgb(243 244 246 / var(--tw-border-opacity));
        }

        .border-gray-200 {
            --tw-border-opacity: 1;
            border-color: rgb(229 231 235 / var(--tw-border-opacity));
        }

        .border-gray-300 {
            --tw-border-opacity: 1;
            border-color: rgb(209 213 219 / var(--tw-border-opacity));
        }

        .border-gray-400 {
            --tw-border-opacity: 1;
            border-color: rgb(156 163 175 / var(--tw-border-opacity));
        }

        .border-gray-50 {
            --tw-border-opacity: 1;
            border-color: rgb(249 250 251 / var(--tw-border-opacity));
        }

        .border-gray-500 {
            --tw-border-opacity: 1;
            border-color: rgb(107 114 128 / var(--tw-border-opacity));
        }

        .border-gray-600 {
            --tw-border-opacity: 1;
            border-color: rgb(75 85 99 / var(--tw-border-opacity));
        }

        .border-gray-700 {
            --tw-border-opacity: 1;
            border-color: rgb(55 65 81 / var(--tw-border-opacity));
        }

        .border-gray-800 {
            --tw-border-opacity: 1;
            border-color: rgb(31 41 55 / var(--tw-border-opacity));
        }

        .border-gray-900 {
            --tw-border-opacity: 1;
            border-color: rgb(17 24 39 / var(--tw-border-opacity));
        }

        .border-green-100 {
            --tw-border-opacity: 1;
            border-color: rgb(220 252 231 / var(--tw-border-opacity));
        }

        .border-green-200 {
            --tw-border-opacity: 1;
            border-color: rgb(187 247 208 / var(--tw-border-opacity));
        }

        .border-green-300 {
            --tw-border-opacity: 1;
            border-color: rgb(134 239 172 / var(--tw-border-opacity));
        }

        .border-green-400 {
            --tw-border-opacity: 1;
            border-color: rgb(74 222 128 / var(--tw-border-opacity));
        }

        .border-green-50 {
            --tw-border-opacity: 1;
            border-color: rgb(240 253 244 / var(--tw-border-opacity));
        }

        .border-green-500 {
            --tw-border-opacity: 1;
            border-color: rgb(34 197 94 / var(--tw-border-opacity));
        }

        .border-green-600 {
            --tw-border-opacity: 1;
            border-color: rgb(22 163 74 / var(--tw-border-opacity));
        }

        .border-green-700 {
            --tw-border-opacity: 1;
            border-color: rgb(21 128 61 / var(--tw-border-opacity));
        }

        .border-green-800 {
            --tw-border-opacity: 1;
            border-color: rgb(22 101 52 / var(--tw-border-opacity));
        }

        .border-green-900 {
            --tw-border-opacity: 1;
            border-color: rgb(20 83 45 / var(--tw-border-opacity));
        }

        .border-indigo-100 {
            --tw-border-opacity: 1;
            border-color: rgb(224 231 255 / var(--tw-border-opacity));
        }

        .border-indigo-200 {
            --tw-border-opacity: 1;
            border-color: rgb(199 210 254 / var(--tw-border-opacity));
        }

        .border-indigo-300 {
            --tw-border-opacity: 1;
            border-color: rgb(165 180 252 / var(--tw-border-opacity));
        }

        .border-indigo-400 {
            --tw-border-opacity: 1;
            border-color: rgb(129 140 248 / var(--tw-border-opacity));
        }

        .border-indigo-50 {
            --tw-border-opacity: 1;
            border-color: rgb(238 242 255 / var(--tw-border-opacity));
        }

        .border-indigo-500 {
            --tw-border-opacity: 1;
            border-color: rgb(99 102 241 / var(--tw-border-opacity));
        }

        .border-indigo-600 {
            --tw-border-opacity: 1;
            border-color: rgb(79 70 229 / var(--tw-border-opacity));
        }

        .border-indigo-700 {
            --tw-border-opacity: 1;
            border-color: rgb(67 56 202 / var(--tw-border-opacity));
        }

        .border-indigo-800 {
            --tw-border-opacity: 1;
            border-color: rgb(55 48 163 / var(--tw-border-opacity));
        }

        .border-indigo-900 {
            --tw-border-opacity: 1;
            border-color: rgb(49 46 129 / var(--tw-border-opacity));
        }

        .border-orange-100 {
            --tw-border-opacity: 1;
            border-color: rgb(255 237 213 / var(--tw-border-opacity));
        }

        .border-orange-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 215 170 / var(--tw-border-opacity));
        }

        .border-orange-300 {
            --tw-border-opacity: 1;
            border-color: rgb(253 186 116 / var(--tw-border-opacity));
        }

        .border-orange-400 {
            --tw-border-opacity: 1;
            border-color: rgb(251 146 60 / var(--tw-border-opacity));
        }

        .border-orange-50 {
            --tw-border-opacity: 1;
            border-color: rgb(255 247 237 / var(--tw-border-opacity));
        }

        .border-orange-500 {
            --tw-border-opacity: 1;
            border-color: rgb(249 115 22 / var(--tw-border-opacity));
        }

        .border-orange-600 {
            --tw-border-opacity: 1;
            border-color: rgb(234 88 12 / var(--tw-border-opacity));
        }

        .border-orange-700 {
            --tw-border-opacity: 1;
            border-color: rgb(194 65 12 / var(--tw-border-opacity));
        }

        .border-orange-800 {
            --tw-border-opacity: 1;
            border-color: rgb(154 52 18 / var(--tw-border-opacity));
        }

        .border-orange-900 {
            --tw-border-opacity: 1;
            border-color: rgb(124 45 18 / var(--tw-border-opacity));
        }

        .border-pink-100 {
            --tw-border-opacity: 1;
            border-color: rgb(252 231 243 / var(--tw-border-opacity));
        }

        .border-pink-200 {
            --tw-border-opacity: 1;
            border-color: rgb(251 207 232 / var(--tw-border-opacity));
        }

        .border-pink-300 {
            --tw-border-opacity: 1;
            border-color: rgb(249 168 212 / var(--tw-border-opacity));
        }

        .border-pink-400 {
            --tw-border-opacity: 1;
            border-color: rgb(244 114 182 / var(--tw-border-opacity));
        }

        .border-pink-50 {
            --tw-border-opacity: 1;
            border-color: rgb(253 242 248 / var(--tw-border-opacity));
        }

        .border-pink-500 {
            --tw-border-opacity: 1;
            border-color: rgb(236 72 153 / var(--tw-border-opacity));
        }

        .border-pink-600 {
            --tw-border-opacity: 1;
            border-color: rgb(219 39 119 / var(--tw-border-opacity));
        }

        .border-pink-700 {
            --tw-border-opacity: 1;
            border-color: rgb(190 24 93 / var(--tw-border-opacity));
        }

        .border-pink-800 {
            --tw-border-opacity: 1;
            border-color: rgb(157 23 77 / var(--tw-border-opacity));
        }

        .border-pink-900 {
            --tw-border-opacity: 1;
            border-color: rgb(131 24 67 / var(--tw-border-opacity));
        }

        .border-purple-100 {
            --tw-border-opacity: 1;
            border-color: rgb(243 232 255 / var(--tw-border-opacity));
        }

        .border-purple-200 {
            --tw-border-opacity: 1;
            border-color: rgb(233 213 255 / var(--tw-border-opacity));
        }

        .border-purple-300 {
            --tw-border-opacity: 1;
            border-color: rgb(216 180 254 / var(--tw-border-opacity));
        }

        .border-purple-400 {
            --tw-border-opacity: 1;
            border-color: rgb(192 132 252 / var(--tw-border-opacity));
        }

        .border-purple-50 {
            --tw-border-opacity: 1;
            border-color: rgb(250 245 255 / var(--tw-border-opacity));
        }

        .border-purple-500 {
            --tw-border-opacity: 1;
            border-color: rgb(168 85 247 / var(--tw-border-opacity));
        }

        .border-purple-600 {
            --tw-border-opacity: 1;
            border-color: rgb(147 51 234 / var(--tw-border-opacity));
        }

        .border-purple-700 {
            --tw-border-opacity: 1;
            border-color: rgb(126 34 206 / var(--tw-border-opacity));
        }

        .border-purple-800 {
            --tw-border-opacity: 1;
            border-color: rgb(107 33 168 / var(--tw-border-opacity));
        }

        .border-purple-900 {
            --tw-border-opacity: 1;
            border-color: rgb(88 28 135 / var(--tw-border-opacity));
        }

        .border-red-100 {
            --tw-border-opacity: 1;
            border-color: rgb(254 226 226 / var(--tw-border-opacity));
        }

        .border-red-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 202 202 / var(--tw-border-opacity));
        }

        .border-red-300 {
            --tw-border-opacity: 1;
            border-color: rgb(252 165 165 / var(--tw-border-opacity));
        }

        .border-red-400 {
            --tw-border-opacity: 1;
            border-color: rgb(248 113 113 / var(--tw-border-opacity));
        }

        .border-red-50 {
            --tw-border-opacity: 1;
            border-color: rgb(254 242 242 / var(--tw-border-opacity));
        }

        .border-red-500 {
            --tw-border-opacity: 1;
            border-color: rgb(239 68 68 / var(--tw-border-opacity));
        }

        .border-red-600 {
            --tw-border-opacity: 1;
            border-color: rgb(220 38 38 / var(--tw-border-opacity));
        }

        .border-red-700 {
            --tw-border-opacity: 1;
            border-color: rgb(185 28 28 / var(--tw-border-opacity));
        }

        .border-red-800 {
            --tw-border-opacity: 1;
            border-color: rgb(153 27 27 / var(--tw-border-opacity));
        }

        .border-red-900 {
            --tw-border-opacity: 1;
            border-color: rgb(127 29 29 / var(--tw-border-opacity));
        }

        .border-rose-100 {
            --tw-border-opacity: 1;
            border-color: rgb(255 228 230 / var(--tw-border-opacity));
        }

        .border-rose-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 205 211 / var(--tw-border-opacity));
        }

        .border-rose-300 {
            --tw-border-opacity: 1;
            border-color: rgb(253 164 175 / var(--tw-border-opacity));
        }

        .border-rose-400 {
            --tw-border-opacity: 1;
            border-color: rgb(251 113 133 / var(--tw-border-opacity));
        }

        .border-rose-50 {
            --tw-border-opacity: 1;
            border-color: rgb(255 241 242 / var(--tw-border-opacity));
        }

        .border-rose-500 {
            --tw-border-opacity: 1;
            border-color: rgb(244 63 94 / var(--tw-border-opacity));
        }

        .border-rose-600 {
            --tw-border-opacity: 1;
            border-color: rgb(225 29 72 / var(--tw-border-opacity));
        }

        .border-rose-700 {
            --tw-border-opacity: 1;
            border-color: rgb(190 18 60 / var(--tw-border-opacity));
        }

        .border-rose-800 {
            --tw-border-opacity: 1;
            border-color: rgb(159 18 57 / var(--tw-border-opacity));
        }

        .border-rose-900 {
            --tw-border-opacity: 1;
            border-color: rgb(136 19 55 / var(--tw-border-opacity));
        }

        .border-sky-100 {
            --tw-border-opacity: 1;
            border-color: rgb(224 242 254 / var(--tw-border-opacity));
        }

        .border-sky-200 {
            --tw-border-opacity: 1;
            border-color: rgb(186 230 253 / var(--tw-border-opacity));
        }

        .border-sky-300 {
            --tw-border-opacity: 1;
            border-color: rgb(125 211 252 / var(--tw-border-opacity));
        }

        .border-sky-400 {
            --tw-border-opacity: 1;
            border-color: rgb(56 189 248 / var(--tw-border-opacity));
        }

        .border-sky-50 {
            --tw-border-opacity: 1;
            border-color: rgb(240 249 255 / var(--tw-border-opacity));
        }

        .border-sky-500 {
            --tw-border-opacity: 1;
            border-color: rgb(14 165 233 / var(--tw-border-opacity));
        }

        .border-sky-600 {
            --tw-border-opacity: 1;
            border-color: rgb(2 132 199 / var(--tw-border-opacity));
        }

        .border-sky-700 {
            --tw-border-opacity: 1;
            border-color: rgb(3 105 161 / var(--tw-border-opacity));
        }

        .border-sky-800 {
            --tw-border-opacity: 1;
            border-color: rgb(7 89 133 / var(--tw-border-opacity));
        }

        .border-sky-900 {
            --tw-border-opacity: 1;
            border-color: rgb(12 74 110 / var(--tw-border-opacity));
        }

        .border-teal-100 {
            --tw-border-opacity: 1;
            border-color: rgb(204 251 241 / var(--tw-border-opacity));
        }

        .border-teal-200 {
            --tw-border-opacity: 1;
            border-color: rgb(153 246 228 / var(--tw-border-opacity));
        }

        .border-teal-300 {
            --tw-border-opacity: 1;
            border-color: rgb(94 234 212 / var(--tw-border-opacity));
        }

        .border-teal-400 {
            --tw-border-opacity: 1;
            border-color: rgb(45 212 191 / var(--tw-border-opacity));
        }

        .border-teal-50 {
            --tw-border-opacity: 1;
            border-color: rgb(240 253 250 / var(--tw-border-opacity));
        }

        .border-teal-500 {
            --tw-border-opacity: 1;
            border-color: rgb(20 184 166 / var(--tw-border-opacity));
        }

        .border-teal-600 {
            --tw-border-opacity: 1;
            border-color: rgb(13 148 136 / var(--tw-border-opacity));
        }

        .border-teal-700 {
            --tw-border-opacity: 1;
            border-color: rgb(15 118 110 / var(--tw-border-opacity));
        }

        .border-teal-800 {
            --tw-border-opacity: 1;
            border-color: rgb(17 94 89 / var(--tw-border-opacity));
        }

        .border-teal-900 {
            --tw-border-opacity: 1;
            border-color: rgb(19 78 74 / var(--tw-border-opacity));
        }

        .border-transparent {
            border-color: transparent;
        }

        .border-violet-100 {
            --tw-border-opacity: 1;
            border-color: rgb(237 233 254 / var(--tw-border-opacity));
        }

        .border-violet-200 {
            --tw-border-opacity: 1;
            border-color: rgb(221 214 254 / var(--tw-border-opacity));
        }

        .border-violet-300 {
            --tw-border-opacity: 1;
            border-color: rgb(196 181 253 / var(--tw-border-opacity));
        }

        .border-violet-400 {
            --tw-border-opacity: 1;
            border-color: rgb(167 139 250 / var(--tw-border-opacity));
        }

        .border-violet-50 {
            --tw-border-opacity: 1;
            border-color: rgb(245 243 255 / var(--tw-border-opacity));
        }

        .border-violet-500 {
            --tw-border-opacity: 1;
            border-color: rgb(139 92 246 / var(--tw-border-opacity));
        }

        .border-violet-600 {
            --tw-border-opacity: 1;
            border-color: rgb(124 58 237 / var(--tw-border-opacity));
        }

        .border-violet-700 {
            --tw-border-opacity: 1;
            border-color: rgb(109 40 217 / var(--tw-border-opacity));
        }

        .border-violet-800 {
            --tw-border-opacity: 1;
            border-color: rgb(91 33 182 / var(--tw-border-opacity));
        }

        .border-violet-900 {
            --tw-border-opacity: 1;
            border-color: rgb(76 29 149 / var(--tw-border-opacity));
        }

        .border-white {
            --tw-border-opacity: 1;
            border-color: rgb(255 255 255 / var(--tw-border-opacity));
        }

        .border-yellow-100 {
            --tw-border-opacity: 1;
            border-color: rgb(254 249 195 / var(--tw-border-opacity));
        }

        .border-yellow-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 240 138 / var(--tw-border-opacity));
        }

        .border-yellow-300 {
            --tw-border-opacity: 1;
            border-color: rgb(253 224 71 / var(--tw-border-opacity));
        }

        .border-yellow-400 {
            --tw-border-opacity: 1;
            border-color: rgb(250 204 21 / var(--tw-border-opacity));
        }

        .border-yellow-50 {
            --tw-border-opacity: 1;
            border-color: rgb(254 252 232 / var(--tw-border-opacity));
        }

        .border-yellow-500 {
            --tw-border-opacity: 1;
            border-color: rgb(234 179 8 / var(--tw-border-opacity));
        }

        .border-yellow-600 {
            --tw-border-opacity: 1;
            border-color: rgb(202 138 4 / var(--tw-border-opacity));
        }

        .border-yellow-700 {
            --tw-border-opacity: 1;
            border-color: rgb(161 98 7 / var(--tw-border-opacity));
        }

        .border-yellow-800 {
            --tw-border-opacity: 1;
            border-color: rgb(133 77 14 / var(--tw-border-opacity));
        }

        .border-yellow-900 {
            --tw-border-opacity: 1;
            border-color: rgb(113 63 18 / var(--tw-border-opacity));
        }

        .border-l-brand-500 {
            --tw-border-opacity: 1;
            border-left-color: rgb(59 130 246 / var(--tw-border-opacity));
        }

        .border-t-brand-600 {
            --tw-border-opacity: 1;
            border-top-color: rgb(37 99 235 / var(--tw-border-opacity));
        }

        .border-opacity-30 {
            --tw-border-opacity: 0.3;
        }

        .bg-amber-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 243 199 / var(--tw-bg-opacity));
        }

        .bg-amber-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 230 138 / var(--tw-bg-opacity));
        }

        .bg-amber-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(252 211 77 / var(--tw-bg-opacity));
        }

        .bg-amber-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 191 36 / var(--tw-bg-opacity));
        }

        .bg-amber-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 251 235 / var(--tw-bg-opacity));
        }

        .bg-amber-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 158 11 / var(--tw-bg-opacity));
        }

        .bg-amber-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(217 119 6 / var(--tw-bg-opacity));
        }

        .bg-amber-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(180 83 9 / var(--tw-bg-opacity));
        }

        .bg-amber-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(146 64 14 / var(--tw-bg-opacity));
        }

        .bg-amber-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(120 53 15 / var(--tw-bg-opacity));
        }

        .bg-black {
            --tw-bg-opacity: 1;
            background-color: rgb(0 0 0 / var(--tw-bg-opacity));
        }

        .bg-black\/20 {
            background-color: rgb(0 0 0 / 0.2);
        }

        .bg-black\/40 {
            background-color: rgb(0 0 0 / 0.4);
        }

        .bg-black\/50 {
            background-color: rgb(0 0 0 / 0.5);
        }

        .bg-blue-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .bg-blue-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(191 219 254 / var(--tw-bg-opacity));
        }

        .bg-blue-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(147 197 253 / var(--tw-bg-opacity));
        }

        .bg-blue-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(96 165 250 / var(--tw-bg-opacity));
        }

        .bg-blue-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity));
        }

        .bg-blue-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity));
        }

        .bg-blue-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity));
        }

        .bg-blue-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity));
        }

        .bg-blue-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(30 64 175 / var(--tw-bg-opacity));
        }

        .bg-blue-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(30 58 138 / var(--tw-bg-opacity));
        }

        .bg-brand-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .bg-brand-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity));
        }

        .bg-brand-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity));
        }

        .bg-brand-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity));
        }

        .bg-cyan-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(207 250 254 / var(--tw-bg-opacity));
        }

        .bg-cyan-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(165 243 252 / var(--tw-bg-opacity));
        }

        .bg-cyan-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(103 232 249 / var(--tw-bg-opacity));
        }

        .bg-cyan-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 211 238 / var(--tw-bg-opacity));
        }

        .bg-cyan-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 254 255 / var(--tw-bg-opacity));
        }

        .bg-cyan-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(6 182 212 / var(--tw-bg-opacity));
        }

        .bg-cyan-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(8 145 178 / var(--tw-bg-opacity));
        }

        .bg-cyan-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(14 116 144 / var(--tw-bg-opacity));
        }

        .bg-cyan-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(21 94 117 / var(--tw-bg-opacity));
        }

        .bg-cyan-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 78 99 / var(--tw-bg-opacity));
        }

        .bg-emerald-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(209 250 229 / var(--tw-bg-opacity));
        }

        .bg-emerald-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(167 243 208 / var(--tw-bg-opacity));
        }

        .bg-emerald-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(110 231 183 / var(--tw-bg-opacity));
        }

        .bg-emerald-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(52 211 153 / var(--tw-bg-opacity));
        }

        .bg-emerald-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 253 245 / var(--tw-bg-opacity));
        }

        .bg-emerald-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(16 185 129 / var(--tw-bg-opacity));
        }

        .bg-emerald-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(5 150 105 / var(--tw-bg-opacity));
        }

        .bg-emerald-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(4 120 87 / var(--tw-bg-opacity));
        }

        .bg-emerald-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(6 95 70 / var(--tw-bg-opacity));
        }

        .bg-emerald-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(6 78 59 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 232 255 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 208 254 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 171 252 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(232 121 249 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 244 255 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(217 70 239 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(192 38 211 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(162 28 175 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(134 25 143 / var(--tw-bg-opacity));
        }

        .bg-fuchsia-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(112 26 117 / var(--tw-bg-opacity));
        }

        .bg-gray-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(243 244 246 / var(--tw-bg-opacity));
        }

        .bg-gray-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(229 231 235 / var(--tw-bg-opacity));
        }

        .bg-gray-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(209 213 219 / var(--tw-bg-opacity));
        }

        .bg-gray-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(156 163 175 / var(--tw-bg-opacity));
        }

        .bg-gray-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity));
        }

        .bg-gray-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(107 114 128 / var(--tw-bg-opacity));
        }

        .bg-gray-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(75 85 99 / var(--tw-bg-opacity));
        }

        .bg-gray-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(55 65 81 / var(--tw-bg-opacity));
        }

        .bg-gray-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(31 41 55 / var(--tw-bg-opacity));
        }

        .bg-gray-800\/50 {
            background-color: rgb(31 41 55 / 0.5);
        }

        .bg-gray-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(17 24 39 / var(--tw-bg-opacity));
        }

        .bg-green-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(220 252 231 / var(--tw-bg-opacity));
        }

        .bg-green-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(187 247 208 / var(--tw-bg-opacity));
        }

        .bg-green-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(134 239 172 / var(--tw-bg-opacity));
        }

        .bg-green-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(74 222 128 / var(--tw-bg-opacity));
        }

        .bg-green-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 244 / var(--tw-bg-opacity));
        }

        .bg-green-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94 / var(--tw-bg-opacity));
        }

        .bg-green-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 163 74 / var(--tw-bg-opacity));
        }

        .bg-green-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(21 128 61 / var(--tw-bg-opacity));
        }

        .bg-green-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 101 52 / var(--tw-bg-opacity));
        }

        .bg-green-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(20 83 45 / var(--tw-bg-opacity));
        }

        .bg-indigo-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(224 231 255 / var(--tw-bg-opacity));
        }

        .bg-indigo-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(199 210 254 / var(--tw-bg-opacity));
        }

        .bg-indigo-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(165 180 252 / var(--tw-bg-opacity));
        }

        .bg-indigo-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(129 140 248 / var(--tw-bg-opacity));
        }

        .bg-indigo-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(238 242 255 / var(--tw-bg-opacity));
        }

        .bg-indigo-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(99 102 241 / var(--tw-bg-opacity));
        }

        .bg-indigo-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(79 70 229 / var(--tw-bg-opacity));
        }

        .bg-indigo-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(67 56 202 / var(--tw-bg-opacity));
        }

        .bg-indigo-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(55 48 163 / var(--tw-bg-opacity));
        }

        .bg-indigo-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(49 46 129 / var(--tw-bg-opacity));
        }

        .bg-orange-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 237 213 / var(--tw-bg-opacity));
        }

        .bg-orange-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 215 170 / var(--tw-bg-opacity));
        }

        .bg-orange-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 186 116 / var(--tw-bg-opacity));
        }

        .bg-orange-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 146 60 / var(--tw-bg-opacity));
        }

        .bg-orange-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 247 237 / var(--tw-bg-opacity));
        }

        .bg-orange-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 115 22 / var(--tw-bg-opacity));
        }

        .bg-orange-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(234 88 12 / var(--tw-bg-opacity));
        }

        .bg-orange-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(194 65 12 / var(--tw-bg-opacity));
        }

        .bg-orange-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(154 52 18 / var(--tw-bg-opacity));
        }

        .bg-orange-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(124 45 18 / var(--tw-bg-opacity));
        }

        .bg-pink-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(252 231 243 / var(--tw-bg-opacity));
        }

        .bg-pink-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 207 232 / var(--tw-bg-opacity));
        }

        .bg-pink-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 168 212 / var(--tw-bg-opacity));
        }

        .bg-pink-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(244 114 182 / var(--tw-bg-opacity));
        }

        .bg-pink-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 242 248 / var(--tw-bg-opacity));
        }

        .bg-pink-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 72 153 / var(--tw-bg-opacity));
        }

        .bg-pink-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 39 119 / var(--tw-bg-opacity));
        }

        .bg-pink-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(190 24 93 / var(--tw-bg-opacity));
        }

        .bg-pink-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(157 23 77 / var(--tw-bg-opacity));
        }

        .bg-pink-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(131 24 67 / var(--tw-bg-opacity));
        }

        .bg-purple-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(243 232 255 / var(--tw-bg-opacity));
        }

        .bg-purple-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(233 213 255 / var(--tw-bg-opacity));
        }

        .bg-purple-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(216 180 254 / var(--tw-bg-opacity));
        }

        .bg-purple-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(192 132 252 / var(--tw-bg-opacity));
        }

        .bg-purple-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 245 255 / var(--tw-bg-opacity));
        }

        .bg-purple-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(168 85 247 / var(--tw-bg-opacity));
        }

        .bg-purple-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(147 51 234 / var(--tw-bg-opacity));
        }

        .bg-purple-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(126 34 206 / var(--tw-bg-opacity));
        }

        .bg-purple-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(107 33 168 / var(--tw-bg-opacity));
        }

        .bg-purple-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(88 28 135 / var(--tw-bg-opacity));
        }

        .bg-red-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 226 226 / var(--tw-bg-opacity));
        }

        .bg-red-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 202 202 / var(--tw-bg-opacity));
        }

        .bg-red-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(252 165 165 / var(--tw-bg-opacity));
        }

        .bg-red-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(248 113 113 / var(--tw-bg-opacity));
        }

        .bg-red-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 242 242 / var(--tw-bg-opacity));
        }

        .bg-red-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 68 68 / var(--tw-bg-opacity));
        }

        .bg-red-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(220 38 38 / var(--tw-bg-opacity));
        }

        .bg-red-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(185 28 28 / var(--tw-bg-opacity));
        }

        .bg-red-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(153 27 27 / var(--tw-bg-opacity));
        }

        .bg-red-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(127 29 29 / var(--tw-bg-opacity));
        }

        .bg-rose-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 228 230 / var(--tw-bg-opacity));
        }

        .bg-rose-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 205 211 / var(--tw-bg-opacity));
        }

        .bg-rose-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 164 175 / var(--tw-bg-opacity));
        }

        .bg-rose-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 113 133 / var(--tw-bg-opacity));
        }

        .bg-rose-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 241 242 / var(--tw-bg-opacity));
        }

        .bg-rose-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(244 63 94 / var(--tw-bg-opacity));
        }

        .bg-rose-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(225 29 72 / var(--tw-bg-opacity));
        }

        .bg-rose-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(190 18 60 / var(--tw-bg-opacity));
        }

        .bg-rose-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(159 18 57 / var(--tw-bg-opacity));
        }

        .bg-rose-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(136 19 55 / var(--tw-bg-opacity));
        }

        .bg-sky-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(224 242 254 / var(--tw-bg-opacity));
        }

        .bg-sky-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(186 230 253 / var(--tw-bg-opacity));
        }

        .bg-sky-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(125 211 252 / var(--tw-bg-opacity));
        }

        .bg-sky-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(56 189 248 / var(--tw-bg-opacity));
        }

        .bg-sky-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 249 255 / var(--tw-bg-opacity));
        }

        .bg-sky-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(14 165 233 / var(--tw-bg-opacity));
        }

        .bg-sky-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(2 132 199 / var(--tw-bg-opacity));
        }

        .bg-sky-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(3 105 161 / var(--tw-bg-opacity));
        }

        .bg-sky-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(7 89 133 / var(--tw-bg-opacity));
        }

        .bg-sky-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(12 74 110 / var(--tw-bg-opacity));
        }

        .bg-surface {
            --tw-bg-opacity: 1;
            background-color: rgb(248 250 252 / var(--tw-bg-opacity));
        }

        .bg-teal-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(204 251 241 / var(--tw-bg-opacity));
        }

        .bg-teal-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(153 246 228 / var(--tw-bg-opacity));
        }

        .bg-teal-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(94 234 212 / var(--tw-bg-opacity));
        }

        .bg-teal-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(45 212 191 / var(--tw-bg-opacity));
        }

        .bg-teal-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 250 / var(--tw-bg-opacity));
        }

        .bg-teal-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(20 184 166 / var(--tw-bg-opacity));
        }

        .bg-teal-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(13 148 136 / var(--tw-bg-opacity));
        }

        .bg-teal-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(15 118 110 / var(--tw-bg-opacity));
        }

        .bg-teal-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(17 94 89 / var(--tw-bg-opacity));
        }

        .bg-teal-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(19 78 74 / var(--tw-bg-opacity));
        }

        .bg-transparent {
            background-color: transparent;
        }

        .bg-violet-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(237 233 254 / var(--tw-bg-opacity));
        }

        .bg-violet-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(221 214 254 / var(--tw-bg-opacity));
        }

        .bg-violet-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(196 181 253 / var(--tw-bg-opacity));
        }

        .bg-violet-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(167 139 250 / var(--tw-bg-opacity));
        }

        .bg-violet-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 243 255 / var(--tw-bg-opacity));
        }

        .bg-violet-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(139 92 246 / var(--tw-bg-opacity));
        }

        .bg-violet-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(124 58 237 / var(--tw-bg-opacity));
        }

        .bg-violet-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(109 40 217 / var(--tw-bg-opacity));
        }

        .bg-violet-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(91 33 182 / var(--tw-bg-opacity));
        }

        .bg-violet-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(76 29 149 / var(--tw-bg-opacity));
        }

        .bg-white {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity));
        }

        .bg-white\/10 {
            background-color: rgb(255 255 255 / 0.1);
        }

        .bg-white\/20 {
            background-color: rgb(255 255 255 / 0.2);
        }

        .bg-yellow-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 249 195 / var(--tw-bg-opacity));
        }

        .bg-yellow-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 240 138 / var(--tw-bg-opacity));
        }

        .bg-yellow-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 224 71 / var(--tw-bg-opacity));
        }

        .bg-yellow-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 204 21 / var(--tw-bg-opacity));
        }

        .bg-yellow-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 252 232 / var(--tw-bg-opacity));
        }

        .bg-yellow-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(234 179 8 / var(--tw-bg-opacity));
        }

        .bg-yellow-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(202 138 4 / var(--tw-bg-opacity));
        }

        .bg-yellow-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(161 98 7 / var(--tw-bg-opacity));
        }

        .bg-yellow-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(133 77 14 / var(--tw-bg-opacity));
        }

        .bg-yellow-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(113 63 18 / var(--tw-bg-opacity));
        }

        .bg-opacity-20 {
            --tw-bg-opacity: 0.2;
        }

        .bg-gradient-to-r {
            background-image: linear-gradient(to right, var(--tw-gradient-stops));
        }

        .bg-none {
            background-image: none;
        }

        .from-gray-900 {
            --tw-gradient-from: #111827 var(--tw-gradient-from-position);
            --tw-gradient-to: rgb(17 24 39 / 0) var(--tw-gradient-to-position);
            --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
        }

        .to-gray-800 {
            --tw-gradient-to: #1f2937 var(--tw-gradient-to-position);
        }

        .decoration-slice {
            -webkit-box-decoration-break: slice;
            box-decoration-break: slice;
        }

        .decoration-clone {
            -webkit-box-decoration-break: clone;
            box-decoration-break: clone;
        }

        .box-decoration-slice {
            -webkit-box-decoration-break: slice;
            box-decoration-break: slice;
        }

        .box-decoration-clone {
            -webkit-box-decoration-break: clone;
            box-decoration-break: clone;
        }

        .bg-auto {
            background-size: auto;
        }

        .bg-contain {
            background-size: contain;
        }

        .bg-cover {
            background-size: cover;
        }

        .bg-fixed {
            background-attachment: fixed;
        }

        .bg-local {
            background-attachment: local;
        }

        .bg-scroll {
            background-attachment: scroll;
        }

        .bg-clip-border {
            background-clip: border-box;
        }

        .bg-clip-padding {
            background-clip: padding-box;
        }

        .bg-clip-content {
            background-clip: content-box;
        }

        .bg-clip-text {
            -webkit-background-clip: text;
            background-clip: text;
        }

        .bg-bottom {
            background-position: bottom;
        }

        .bg-center {
            background-position: center;
        }

        .bg-left {
            background-position: left;
        }

        .bg-left-bottom {
            background-position: left bottom;
        }

        .bg-left-top {
            background-position: left top;
        }

        .bg-right {
            background-position: right;
        }

        .bg-right-bottom {
            background-position: right bottom;
        }

        .bg-right-top {
            background-position: right top;
        }

        .bg-top {
            background-position: top;
        }

        .bg-repeat {
            background-repeat: repeat;
        }

        .bg-no-repeat {
            background-repeat: no-repeat;
        }

        .bg-repeat-x {
            background-repeat: repeat-x;
        }

        .bg-repeat-y {
            background-repeat: repeat-y;
        }

        .bg-repeat-round {
            background-repeat: round;
        }

        .bg-repeat-space {
            background-repeat: space;
        }

        .bg-origin-border {
            background-origin: border-box;
        }

        .bg-origin-padding {
            background-origin: padding-box;
        }

        .bg-origin-content {
            background-origin: content-box;
        }

        .fill-none {
            fill: none;
        }

        .stroke-none {
            stroke: none;
        }

        .object-contain {
            -o-object-fit: contain;
            object-fit: contain;
        }

        .object-cover {
            -o-object-fit: cover;
            object-fit: cover;
        }

        .object-fill {
            -o-object-fit: fill;
            object-fit: fill;
        }

        .object-none {
            -o-object-fit: none;
            object-fit: none;
        }

        .object-scale-down {
            -o-object-fit: scale-down;
            object-fit: scale-down;
        }

        .object-left-bottom {
            -o-object-position: left bottom;
            object-position: left bottom;
        }

        .object-left-top {
            -o-object-position: left top;
            object-position: left top;
        }

        .object-right-bottom {
            -o-object-position: right bottom;
            object-position: right bottom;
        }

        .object-right-top {
            -o-object-position: right top;
            object-position: right top;
        }

        .p-0 {
            padding: 0px;
        }

        .p-0\.5 {
            padding: 0.125rem;
        }

        .p-1 {
            padding: 0.25rem;
        }

        .p-10 {
            padding: 2.5rem;
        }

        .p-2 {
            padding: 0.5rem;
        }

        .p-3 {
            padding: 0.75rem;
        }

        .p-4 {
            padding: 1rem;
        }

        .p-5 {
            padding: 1.25rem;
        }

        .p-6 {
            padding: 1.5rem;
        }

        .p-8 {
            padding: 2rem;
        }

        .px-0 {
            padding-left: 0px;
            padding-right: 0px;
        }

        .px-1 {
            padding-left: 0.25rem;
            padding-right: 0.25rem;
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }

        .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .px-5 {
            padding-left: 1.25rem;
            padding-right: 1.25rem;
        }

        .px-6 {
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .px-8 {
            padding-left: 2rem;
            padding-right: 2rem;
        }

        .py-0 {
            padding-top: 0px;
            padding-bottom: 0px;
        }

        .py-0\.5 {
            padding-top: 0.125rem;
            padding-bottom: 0.125rem;
        }

        .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
        }

        .py-1\.5 {
            padding-top: 0.375rem;
            padding-bottom: 0.375rem;
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .py-2\.5 {
            padding-top: 0.625rem;
            padding-bottom: 0.625rem;
        }

        .py-3 {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
        }

        .py-3\.5 {
            padding-top: 0.875rem;
            padding-bottom: 0.875rem;
        }

        .py-4 {
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        .py-6 {
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
        }

        .py-8 {
            padding-top: 2rem;
            padding-bottom: 2rem;
        }

        .pb-1 {
            padding-bottom: 0.25rem;
        }

        .pb-10 {
            padding-bottom: 2.5rem;
        }

        .pb-2 {
            padding-bottom: 0.5rem;
        }

        .pb-20 {
            padding-bottom: 5rem;
        }

        .pb-32 {
            padding-bottom: 8rem;
        }

        .pb-4 {
            padding-bottom: 1rem;
        }

        .pb-8 {
            padding-bottom: 2rem;
        }

        .pb-\[env\(safe-area-inset-bottom\)\] {
            padding-bottom: env(safe-area-inset-bottom);
        }

        .pl-12 {
            padding-left: 3rem;
        }

        .pl-4 {
            padding-left: 1rem;
        }

        .pr-1 {
            padding-right: 0.25rem;
        }

        .pr-10 {
            padding-right: 2.5rem;
        }

        .pr-2 {
            padding-right: 0.5rem;
        }

        .pr-4 {
            padding-right: 1rem;
        }

        .pt-10 {
            padding-top: 2.5rem;
        }

        .pt-2 {
            padding-top: 0.5rem;
        }

        .pt-20 {
            padding-top: 5rem;
        }

        .pt-3 {
            padding-top: 0.75rem;
        }

        .pt-4 {
            padding-top: 1rem;
        }

        .pt-5 {
            padding-top: 1.25rem;
        }

        .pt-6 {
            padding-top: 1.5rem;
        }

        .pt-8 {
            padding-top: 2rem;
        }

        .text-left {
            text-align: left;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .text-justify {
            text-align: justify;
        }

        .text-start {
            text-align: start;
        }

        .text-end {
            text-align: end;
        }

        .align-baseline {
            vertical-align: baseline;
        }

        .align-top {
            vertical-align: top;
        }

        .align-middle {
            vertical-align: middle;
        }

        .align-bottom {
            vertical-align: bottom;
        }

        .align-text-top {
            vertical-align: text-top;
        }

        .align-text-bottom {
            vertical-align: text-bottom;
        }

        .align-sub {
            vertical-align: sub;
        }

        .align-super {
            vertical-align: super;
        }

        .font-mono {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }

        .font-sans {
            font-family: Inter, sans-serif;
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem;
        }

        .text-3xl {
            font-size: 1.875rem;
            line-height: 2.25rem;
        }

        .text-4xl {
            font-size: 2.25rem;
            line-height: 2.5rem;
        }

        .text-5xl {
            font-size: 3rem;
            line-height: 1;
        }

        .text-8xl {
            font-size: 6rem;
            line-height: 1;
        }

        .text-9xl {
            font-size: 8rem;
            line-height: 1;
        }

        .text-\[10px\] {
            font-size: 10px;
        }

        .text-\[8px\] {
            font-size: 8px;
        }

        .text-\[9px\] {
            font-size: 9px;
        }

        .text-base {
            font-size: 1rem;
            line-height: 1.5rem;
        }

        .text-lg {
            font-size: 1.125rem;
            line-height: 1.75rem;
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }

        .text-xl {
            font-size: 1.25rem;
            line-height: 1.75rem;
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem;
        }

        .font-black {
            font-weight: 900;
        }

        .font-bold {
            font-weight: 700;
        }

        .font-extrabold {
            font-weight: 800;
        }

        .font-medium {
            font-weight: 500;
        }

        .font-normal {
            font-weight: 400;
        }

        .font-semibold {
            font-weight: 600;
        }

        .uppercase {
            text-transform: uppercase;
        }

        .lowercase {
            text-transform: lowercase;
        }

        .capitalize {
            text-transform: capitalize;
        }

        .normal-case {
            text-transform: none;
        }

        .italic {
            font-style: italic;
        }

        .not-italic {
            font-style: normal;
        }

        .normal-nums {
            font-variant-numeric: normal;
        }

        .ordinal {
            --tw-ordinal: ordinal;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .slashed-zero {
            --tw-slashed-zero: slashed-zero;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .lining-nums {
            --tw-numeric-figure: lining-nums;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .oldstyle-nums {
            --tw-numeric-figure: oldstyle-nums;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .proportional-nums {
            --tw-numeric-spacing: proportional-nums;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .tabular-nums {
            --tw-numeric-spacing: tabular-nums;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .diagonal-fractions {
            --tw-numeric-fraction: diagonal-fractions;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .stacked-fractions {
            --tw-numeric-fraction: stacked-fractions;
            font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
        }

        .leading-none {
            line-height: 1;
        }

        .leading-relaxed {
            line-height: 1.625;
        }

        .leading-tight {
            line-height: 1.25;
        }

        .tracking-tight {
            letter-spacing: -0.025em;
        }

        .tracking-wide {
            letter-spacing: 0.025em;
        }

        .tracking-wider {
            letter-spacing: 0.05em;
        }

        .tracking-widest {
            letter-spacing: 0.1em;
        }

        .text-amber-100 {
            --tw-text-opacity: 1;
            color: rgb(254 243 199 / var(--tw-text-opacity));
        }

        .text-amber-200 {
            --tw-text-opacity: 1;
            color: rgb(253 230 138 / var(--tw-text-opacity));
        }

        .text-amber-300 {
            --tw-text-opacity: 1;
            color: rgb(252 211 77 / var(--tw-text-opacity));
        }

        .text-amber-400 {
            --tw-text-opacity: 1;
            color: rgb(251 191 36 / var(--tw-text-opacity));
        }

        .text-amber-50 {
            --tw-text-opacity: 1;
            color: rgb(255 251 235 / var(--tw-text-opacity));
        }

        .text-amber-500 {
            --tw-text-opacity: 1;
            color: rgb(245 158 11 / var(--tw-text-opacity));
        }

        .text-amber-600 {
            --tw-text-opacity: 1;
            color: rgb(217 119 6 / var(--tw-text-opacity));
        }

        .text-amber-700 {
            --tw-text-opacity: 1;
            color: rgb(180 83 9 / var(--tw-text-opacity));
        }

        .text-amber-800 {
            --tw-text-opacity: 1;
            color: rgb(146 64 14 / var(--tw-text-opacity));
        }

        .text-amber-900 {
            --tw-text-opacity: 1;
            color: rgb(120 53 15 / var(--tw-text-opacity));
        }

        .text-blue-100 {
            --tw-text-opacity: 1;
            color: rgb(219 234 254 / var(--tw-text-opacity));
        }

        .text-blue-200 {
            --tw-text-opacity: 1;
            color: rgb(191 219 254 / var(--tw-text-opacity));
        }

        .text-blue-300 {
            --tw-text-opacity: 1;
            color: rgb(147 197 253 / var(--tw-text-opacity));
        }

        .text-blue-400 {
            --tw-text-opacity: 1;
            color: rgb(96 165 250 / var(--tw-text-opacity));
        }

        .text-blue-50 {
            --tw-text-opacity: 1;
            color: rgb(239 246 255 / var(--tw-text-opacity));
        }

        .text-blue-500 {
            --tw-text-opacity: 1;
            color: rgb(59 130 246 / var(--tw-text-opacity));
        }

        .text-blue-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .text-blue-700 {
            --tw-text-opacity: 1;
            color: rgb(29 78 216 / var(--tw-text-opacity));
        }

        .text-blue-800 {
            --tw-text-opacity: 1;
            color: rgb(30 64 175 / var(--tw-text-opacity));
        }

        .text-blue-900 {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .text-brand-500 {
            --tw-text-opacity: 1;
            color: rgb(59 130 246 / var(--tw-text-opacity));
        }

        .text-brand-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .text-brand-700 {
            --tw-text-opacity: 1;
            color: rgb(29 78 216 / var(--tw-text-opacity));
        }

        .text-brand-900 {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .text-cyan-100 {
            --tw-text-opacity: 1;
            color: rgb(207 250 254 / var(--tw-text-opacity));
        }

        .text-cyan-200 {
            --tw-text-opacity: 1;
            color: rgb(165 243 252 / var(--tw-text-opacity));
        }

        .text-cyan-300 {
            --tw-text-opacity: 1;
            color: rgb(103 232 249 / var(--tw-text-opacity));
        }

        .text-cyan-400 {
            --tw-text-opacity: 1;
            color: rgb(34 211 238 / var(--tw-text-opacity));
        }

        .text-cyan-50 {
            --tw-text-opacity: 1;
            color: rgb(236 254 255 / var(--tw-text-opacity));
        }

        .text-cyan-500 {
            --tw-text-opacity: 1;
            color: rgb(6 182 212 / var(--tw-text-opacity));
        }

        .text-cyan-600 {
            --tw-text-opacity: 1;
            color: rgb(8 145 178 / var(--tw-text-opacity));
        }

        .text-cyan-700 {
            --tw-text-opacity: 1;
            color: rgb(14 116 144 / var(--tw-text-opacity));
        }

        .text-cyan-800 {
            --tw-text-opacity: 1;
            color: rgb(21 94 117 / var(--tw-text-opacity));
        }

        .text-cyan-900 {
            --tw-text-opacity: 1;
            color: rgb(22 78 99 / var(--tw-text-opacity));
        }

        .text-emerald-100 {
            --tw-text-opacity: 1;
            color: rgb(209 250 229 / var(--tw-text-opacity));
        }

        .text-emerald-200 {
            --tw-text-opacity: 1;
            color: rgb(167 243 208 / var(--tw-text-opacity));
        }

        .text-emerald-300 {
            --tw-text-opacity: 1;
            color: rgb(110 231 183 / var(--tw-text-opacity));
        }

        .text-emerald-400 {
            --tw-text-opacity: 1;
            color: rgb(52 211 153 / var(--tw-text-opacity));
        }

        .text-emerald-50 {
            --tw-text-opacity: 1;
            color: rgb(236 253 245 / var(--tw-text-opacity));
        }

        .text-emerald-500 {
            --tw-text-opacity: 1;
            color: rgb(16 185 129 / var(--tw-text-opacity));
        }

        .text-emerald-600 {
            --tw-text-opacity: 1;
            color: rgb(5 150 105 / var(--tw-text-opacity));
        }

        .text-emerald-700 {
            --tw-text-opacity: 1;
            color: rgb(4 120 87 / var(--tw-text-opacity));
        }

        .text-emerald-800 {
            --tw-text-opacity: 1;
            color: rgb(6 95 70 / var(--tw-text-opacity));
        }

        .text-emerald-900 {
            --tw-text-opacity: 1;
            color: rgb(6 78 59 / var(--tw-text-opacity));
        }

        .text-fuchsia-100 {
            --tw-text-opacity: 1;
            color: rgb(250 232 255 / var(--tw-text-opacity));
        }

        .text-fuchsia-200 {
            --tw-text-opacity: 1;
            color: rgb(245 208 254 / var(--tw-text-opacity));
        }

        .text-fuchsia-300 {
            --tw-text-opacity: 1;
            color: rgb(240 171 252 / var(--tw-text-opacity));
        }

        .text-fuchsia-400 {
            --tw-text-opacity: 1;
            color: rgb(232 121 249 / var(--tw-text-opacity));
        }

        .text-fuchsia-50 {
            --tw-text-opacity: 1;
            color: rgb(253 244 255 / var(--tw-text-opacity));
        }

        .text-fuchsia-500 {
            --tw-text-opacity: 1;
            color: rgb(217 70 239 / var(--tw-text-opacity));
        }

        .text-fuchsia-600 {
            --tw-text-opacity: 1;
            color: rgb(192 38 211 / var(--tw-text-opacity));
        }

        .text-fuchsia-700 {
            --tw-text-opacity: 1;
            color: rgb(162 28 175 / var(--tw-text-opacity));
        }

        .text-fuchsia-800 {
            --tw-text-opacity: 1;
            color: rgb(134 25 143 / var(--tw-text-opacity));
        }

        .text-fuchsia-900 {
            --tw-text-opacity: 1;
            color: rgb(112 26 117 / var(--tw-text-opacity));
        }

        .text-gray-100 {
            --tw-text-opacity: 1;
            color: rgb(243 244 246 / var(--tw-text-opacity));
        }

        .text-gray-200 {
            --tw-text-opacity: 1;
            color: rgb(229 231 235 / var(--tw-text-opacity));
        }

        .text-gray-300 {
            --tw-text-opacity: 1;
            color: rgb(209 213 219 / var(--tw-text-opacity));
        }

        .text-gray-400 {
            --tw-text-opacity: 1;
            color: rgb(156 163 175 / var(--tw-text-opacity));
        }

        .text-gray-50 {
            --tw-text-opacity: 1;
            color: rgb(249 250 251 / var(--tw-text-opacity));
        }

        .text-gray-500 {
            --tw-text-opacity: 1;
            color: rgb(107 114 128 / var(--tw-text-opacity));
        }

        .text-gray-600 {
            --tw-text-opacity: 1;
            color: rgb(75 85 99 / var(--tw-text-opacity));
        }

        .text-gray-700 {
            --tw-text-opacity: 1;
            color: rgb(55 65 81 / var(--tw-text-opacity));
        }

        .text-gray-700\/50 {
            color: rgb(55 65 81 / 0.5);
        }

        .text-gray-800 {
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity));
        }

        .text-gray-900 {
            --tw-text-opacity: 1;
            color: rgb(17 24 39 / var(--tw-text-opacity));
        }

        .text-green-100 {
            --tw-text-opacity: 1;
            color: rgb(220 252 231 / var(--tw-text-opacity));
        }

        .text-green-200 {
            --tw-text-opacity: 1;
            color: rgb(187 247 208 / var(--tw-text-opacity));
        }

        .text-green-300 {
            --tw-text-opacity: 1;
            color: rgb(134 239 172 / var(--tw-text-opacity));
        }

        .text-green-400 {
            --tw-text-opacity: 1;
            color: rgb(74 222 128 / var(--tw-text-opacity));
        }

        .text-green-50 {
            --tw-text-opacity: 1;
            color: rgb(240 253 244 / var(--tw-text-opacity));
        }

        .text-green-500 {
            --tw-text-opacity: 1;
            color: rgb(34 197 94 / var(--tw-text-opacity));
        }

        .text-green-600 {
            --tw-text-opacity: 1;
            color: rgb(22 163 74 / var(--tw-text-opacity));
        }

        .text-green-700 {
            --tw-text-opacity: 1;
            color: rgb(21 128 61 / var(--tw-text-opacity));
        }

        .text-green-800 {
            --tw-text-opacity: 1;
            color: rgb(22 101 52 / var(--tw-text-opacity));
        }

        .text-green-900 {
            --tw-text-opacity: 1;
            color: rgb(20 83 45 / var(--tw-text-opacity));
        }

        .text-indigo-100 {
            --tw-text-opacity: 1;
            color: rgb(224 231 255 / var(--tw-text-opacity));
        }

        .text-indigo-200 {
            --tw-text-opacity: 1;
            color: rgb(199 210 254 / var(--tw-text-opacity));
        }

        .text-indigo-300 {
            --tw-text-opacity: 1;
            color: rgb(165 180 252 / var(--tw-text-opacity));
        }

        .text-indigo-400 {
            --tw-text-opacity: 1;
            color: rgb(129 140 248 / var(--tw-text-opacity));
        }

        .text-indigo-50 {
            --tw-text-opacity: 1;
            color: rgb(238 242 255 / var(--tw-text-opacity));
        }

        .text-indigo-500 {
            --tw-text-opacity: 1;
            color: rgb(99 102 241 / var(--tw-text-opacity));
        }

        .text-indigo-600 {
            --tw-text-opacity: 1;
            color: rgb(79 70 229 / var(--tw-text-opacity));
        }

        .text-indigo-700 {
            --tw-text-opacity: 1;
            color: rgb(67 56 202 / var(--tw-text-opacity));
        }

        .text-indigo-800 {
            --tw-text-opacity: 1;
            color: rgb(55 48 163 / var(--tw-text-opacity));
        }

        .text-indigo-900 {
            --tw-text-opacity: 1;
            color: rgb(49 46 129 / var(--tw-text-opacity));
        }

        .text-orange-100 {
            --tw-text-opacity: 1;
            color: rgb(255 237 213 / var(--tw-text-opacity));
        }

        .text-orange-200 {
            --tw-text-opacity: 1;
            color: rgb(254 215 170 / var(--tw-text-opacity));
        }

        .text-orange-300 {
            --tw-text-opacity: 1;
            color: rgb(253 186 116 / var(--tw-text-opacity));
        }

        .text-orange-400 {
            --tw-text-opacity: 1;
            color: rgb(251 146 60 / var(--tw-text-opacity));
        }

        .text-orange-50 {
            --tw-text-opacity: 1;
            color: rgb(255 247 237 / var(--tw-text-opacity));
        }

        .text-orange-500 {
            --tw-text-opacity: 1;
            color: rgb(249 115 22 / var(--tw-text-opacity));
        }

        .text-orange-600 {
            --tw-text-opacity: 1;
            color: rgb(234 88 12 / var(--tw-text-opacity));
        }

        .text-orange-700 {
            --tw-text-opacity: 1;
            color: rgb(194 65 12 / var(--tw-text-opacity));
        }

        .text-orange-800 {
            --tw-text-opacity: 1;
            color: rgb(154 52 18 / var(--tw-text-opacity));
        }

        .text-orange-900 {
            --tw-text-opacity: 1;
            color: rgb(124 45 18 / var(--tw-text-opacity));
        }

        .text-pink-100 {
            --tw-text-opacity: 1;
            color: rgb(252 231 243 / var(--tw-text-opacity));
        }

        .text-pink-200 {
            --tw-text-opacity: 1;
            color: rgb(251 207 232 / var(--tw-text-opacity));
        }

        .text-pink-300 {
            --tw-text-opacity: 1;
            color: rgb(249 168 212 / var(--tw-text-opacity));
        }

        .text-pink-400 {
            --tw-text-opacity: 1;
            color: rgb(244 114 182 / var(--tw-text-opacity));
        }

        .text-pink-50 {
            --tw-text-opacity: 1;
            color: rgb(253 242 248 / var(--tw-text-opacity));
        }

        .text-pink-500 {
            --tw-text-opacity: 1;
            color: rgb(236 72 153 / var(--tw-text-opacity));
        }

        .text-pink-600 {
            --tw-text-opacity: 1;
            color: rgb(219 39 119 / var(--tw-text-opacity));
        }

        .text-pink-700 {
            --tw-text-opacity: 1;
            color: rgb(190 24 93 / var(--tw-text-opacity));
        }

        .text-pink-800 {
            --tw-text-opacity: 1;
            color: rgb(157 23 77 / var(--tw-text-opacity));
        }

        .text-pink-900 {
            --tw-text-opacity: 1;
            color: rgb(131 24 67 / var(--tw-text-opacity));
        }

        .text-purple-100 {
            --tw-text-opacity: 1;
            color: rgb(243 232 255 / var(--tw-text-opacity));
        }

        .text-purple-200 {
            --tw-text-opacity: 1;
            color: rgb(233 213 255 / var(--tw-text-opacity));
        }

        .text-purple-300 {
            --tw-text-opacity: 1;
            color: rgb(216 180 254 / var(--tw-text-opacity));
        }

        .text-purple-400 {
            --tw-text-opacity: 1;
            color: rgb(192 132 252 / var(--tw-text-opacity));
        }

        .text-purple-50 {
            --tw-text-opacity: 1;
            color: rgb(250 245 255 / var(--tw-text-opacity));
        }

        .text-purple-500 {
            --tw-text-opacity: 1;
            color: rgb(168 85 247 / var(--tw-text-opacity));
        }

        .text-purple-600 {
            --tw-text-opacity: 1;
            color: rgb(147 51 234 / var(--tw-text-opacity));
        }

        .text-purple-700 {
            --tw-text-opacity: 1;
            color: rgb(126 34 206 / var(--tw-text-opacity));
        }

        .text-purple-800 {
            --tw-text-opacity: 1;
            color: rgb(107 33 168 / var(--tw-text-opacity));
        }

        .text-purple-900 {
            --tw-text-opacity: 1;
            color: rgb(88 28 135 / var(--tw-text-opacity));
        }

        .text-red-100 {
            --tw-text-opacity: 1;
            color: rgb(254 226 226 / var(--tw-text-opacity));
        }

        .text-red-200 {
            --tw-text-opacity: 1;
            color: rgb(254 202 202 / var(--tw-text-opacity));
        }

        .text-red-300 {
            --tw-text-opacity: 1;
            color: rgb(252 165 165 / var(--tw-text-opacity));
        }

        .text-red-400 {
            --tw-text-opacity: 1;
            color: rgb(248 113 113 / var(--tw-text-opacity));
        }

        .text-red-50 {
            --tw-text-opacity: 1;
            color: rgb(254 242 242 / var(--tw-text-opacity));
        }

        .text-red-500 {
            --tw-text-opacity: 1;
            color: rgb(239 68 68 / var(--tw-text-opacity));
        }

        .text-red-600 {
            --tw-text-opacity: 1;
            color: rgb(220 38 38 / var(--tw-text-opacity));
        }

        .text-red-700 {
            --tw-text-opacity: 1;
            color: rgb(185 28 28 / var(--tw-text-opacity));
        }

        .text-red-800 {
            --tw-text-opacity: 1;
            color: rgb(153 27 27 / var(--tw-text-opacity));
        }

        .text-red-900 {
            --tw-text-opacity: 1;
            color: rgb(127 29 29 / var(--tw-text-opacity));
        }

        .text-rose-100 {
            --tw-text-opacity: 1;
            color: rgb(255 228 230 / var(--tw-text-opacity));
        }

        .text-rose-200 {
            --tw-text-opacity: 1;
            color: rgb(254 205 211 / var(--tw-text-opacity));
        }

        .text-rose-300 {
            --tw-text-opacity: 1;
            color: rgb(253 164 175 / var(--tw-text-opacity));
        }

        .text-rose-400 {
            --tw-text-opacity: 1;
            color: rgb(251 113 133 / var(--tw-text-opacity));
        }

        .text-rose-50 {
            --tw-text-opacity: 1;
            color: rgb(255 241 242 / var(--tw-text-opacity));
        }

        .text-rose-500 {
            --tw-text-opacity: 1;
            color: rgb(244 63 94 / var(--tw-text-opacity));
        }

        .text-rose-600 {
            --tw-text-opacity: 1;
            color: rgb(225 29 72 / var(--tw-text-opacity));
        }

        .text-rose-700 {
            --tw-text-opacity: 1;
            color: rgb(190 18 60 / var(--tw-text-opacity));
        }

        .text-rose-800 {
            --tw-text-opacity: 1;
            color: rgb(159 18 57 / var(--tw-text-opacity));
        }

        .text-rose-900 {
            --tw-text-opacity: 1;
            color: rgb(136 19 55 / var(--tw-text-opacity));
        }

        .text-sky-100 {
            --tw-text-opacity: 1;
            color: rgb(224 242 254 / var(--tw-text-opacity));
        }

        .text-sky-200 {
            --tw-text-opacity: 1;
            color: rgb(186 230 253 / var(--tw-text-opacity));
        }

        .text-sky-300 {
            --tw-text-opacity: 1;
            color: rgb(125 211 252 / var(--tw-text-opacity));
        }

        .text-sky-400 {
            --tw-text-opacity: 1;
            color: rgb(56 189 248 / var(--tw-text-opacity));
        }

        .text-sky-50 {
            --tw-text-opacity: 1;
            color: rgb(240 249 255 / var(--tw-text-opacity));
        }

        .text-sky-500 {
            --tw-text-opacity: 1;
            color: rgb(14 165 233 / var(--tw-text-opacity));
        }

        .text-sky-600 {
            --tw-text-opacity: 1;
            color: rgb(2 132 199 / var(--tw-text-opacity));
        }

        .text-sky-700 {
            --tw-text-opacity: 1;
            color: rgb(3 105 161 / var(--tw-text-opacity));
        }

        .text-sky-800 {
            --tw-text-opacity: 1;
            color: rgb(7 89 133 / var(--tw-text-opacity));
        }

        .text-sky-900 {
            --tw-text-opacity: 1;
            color: rgb(12 74 110 / var(--tw-text-opacity));
        }

        .text-teal-100 {
            --tw-text-opacity: 1;
            color: rgb(204 251 241 / var(--tw-text-opacity));
        }

        .text-teal-200 {
            --tw-text-opacity: 1;
            color: rgb(153 246 228 / var(--tw-text-opacity));
        }

        .text-teal-300 {
            --tw-text-opacity: 1;
            color: rgb(94 234 212 / var(--tw-text-opacity));
        }

        .text-teal-400 {
            --tw-text-opacity: 1;
            color: rgb(45 212 191 / var(--tw-text-opacity));
        }

        .text-teal-50 {
            --tw-text-opacity: 1;
            color: rgb(240 253 250 / var(--tw-text-opacity));
        }

        .text-teal-500 {
            --tw-text-opacity: 1;
            color: rgb(20 184 166 / var(--tw-text-opacity));
        }

        .text-teal-600 {
            --tw-text-opacity: 1;
            color: rgb(13 148 136 / var(--tw-text-opacity));
        }

        .text-teal-700 {
            --tw-text-opacity: 1;
            color: rgb(15 118 110 / var(--tw-text-opacity));
        }

        .text-teal-800 {
            --tw-text-opacity: 1;
            color: rgb(17 94 89 / var(--tw-text-opacity));
        }

        .text-teal-900 {
            --tw-text-opacity: 1;
            color: rgb(19 78 74 / var(--tw-text-opacity));
        }

        .text-violet-100 {
            --tw-text-opacity: 1;
            color: rgb(237 233 254 / var(--tw-text-opacity));
        }

        .text-violet-200 {
            --tw-text-opacity: 1;
            color: rgb(221 214 254 / var(--tw-text-opacity));
        }

        .text-violet-300 {
            --tw-text-opacity: 1;
            color: rgb(196 181 253 / var(--tw-text-opacity));
        }

        .text-violet-400 {
            --tw-text-opacity: 1;
            color: rgb(167 139 250 / var(--tw-text-opacity));
        }

        .text-violet-50 {
            --tw-text-opacity: 1;
            color: rgb(245 243 255 / var(--tw-text-opacity));
        }

        .text-violet-500 {
            --tw-text-opacity: 1;
            color: rgb(139 92 246 / var(--tw-text-opacity));
        }

        .text-violet-600 {
            --tw-text-opacity: 1;
            color: rgb(124 58 237 / var(--tw-text-opacity));
        }

        .text-violet-700 {
            --tw-text-opacity: 1;
            color: rgb(109 40 217 / var(--tw-text-opacity));
        }

        .text-violet-800 {
            --tw-text-opacity: 1;
            color: rgb(91 33 182 / var(--tw-text-opacity));
        }

        .text-violet-900 {
            --tw-text-opacity: 1;
            color: rgb(76 29 149 / var(--tw-text-opacity));
        }

        .text-white {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity));
        }

        .text-yellow-100 {
            --tw-text-opacity: 1;
            color: rgb(254 249 195 / var(--tw-text-opacity));
        }

        .text-yellow-200 {
            --tw-text-opacity: 1;
            color: rgb(254 240 138 / var(--tw-text-opacity));
        }

        .text-yellow-300 {
            --tw-text-opacity: 1;
            color: rgb(253 224 71 / var(--tw-text-opacity));
        }

        .text-yellow-400 {
            --tw-text-opacity: 1;
            color: rgb(250 204 21 / var(--tw-text-opacity));
        }

        .text-yellow-50 {
            --tw-text-opacity: 1;
            color: rgb(254 252 232 / var(--tw-text-opacity));
        }

        .text-yellow-500 {
            --tw-text-opacity: 1;
            color: rgb(234 179 8 / var(--tw-text-opacity));
        }

        .text-yellow-600 {
            --tw-text-opacity: 1;
            color: rgb(202 138 4 / var(--tw-text-opacity));
        }

        .text-yellow-700 {
            --tw-text-opacity: 1;
            color: rgb(161 98 7 / var(--tw-text-opacity));
        }

        .text-yellow-800 {
            --tw-text-opacity: 1;
            color: rgb(133 77 14 / var(--tw-text-opacity));
        }

        .text-yellow-900 {
            --tw-text-opacity: 1;
            color: rgb(113 63 18 / var(--tw-text-opacity));
        }

        .underline {
            text-decoration-line: underline;
        }

        .overline {
            text-decoration-line: overline;
        }

        .line-through {
            text-decoration-line: line-through;
        }

        .no-underline {
            text-decoration-line: none;
        }

        .decoration-solid {
            text-decoration-style: solid;
        }

        .decoration-double {
            text-decoration-style: double;
        }

        .decoration-dotted {
            text-decoration-style: dotted;
        }

        .decoration-dashed {
            text-decoration-style: dashed;
        }

        .decoration-wavy {
            text-decoration-style: wavy;
        }

        .decoration-auto {
            text-decoration-thickness: auto;
        }

        .decoration-from-font {
            text-decoration-thickness: from-font;
        }

        .underline-offset-4 {
            text-underline-offset: 4px;
        }

        .antialiased {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .subpixel-antialiased {
            -webkit-font-smoothing: auto;
            -moz-osx-font-smoothing: auto;
        }

        .placeholder-gray-400::-moz-placeholder {
            --tw-placeholder-opacity: 1;
            color: rgb(156 163 175 / var(--tw-placeholder-opacity));
        }

        .placeholder-gray-400::placeholder {
            --tw-placeholder-opacity: 1;
            color: rgb(156 163 175 / var(--tw-placeholder-opacity));
        }

        .accent-auto {
            accent-color: auto;
        }

        .opacity-0 {
            opacity: 0;
        }

        .opacity-10 {
            opacity: 0.1;
        }

        .opacity-100 {
            opacity: 1;
        }

        .opacity-30 {
            opacity: 0.3;
        }

        .opacity-50 {
            opacity: 0.5;
        }

        .opacity-60 {
            opacity: 0.6;
        }

        .mix-blend-plus-lighter {
            mix-blend-mode: plus-lighter;
        }

        .shadow-2xl {
            --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .shadow-inner {
            --tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
            --tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .shadow-lg {
            --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .shadow-md {
            --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .shadow-sm {
            --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .shadow-xl {
            --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .shadow-red-200 {
            --tw-shadow-color: #fecaca;
            --tw-shadow: var(--tw-shadow-colored);
        }

        .outline-none {
            outline: 2px solid transparent;
            outline-offset: 2px;
        }

        .outline {
            outline-style: solid;
        }

        .outline-dashed {
            outline-style: dashed;
        }

        .outline-dotted {
            outline-style: dotted;
        }

        .outline-double {
            outline-style: double;
        }

        .ring {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
        }

        .ring-2 {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
        }

        .ring-4 {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
        }

        .ring-inset {
            --tw-ring-inset: inset;
        }

        .ring-brand-600 {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity));
        }

        .ring-transparent {
            --tw-ring-color: transparent;
        }

        .blur {
            --tw-blur: blur(8px);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .blur-3xl {
            --tw-blur: blur(64px);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .brightness-90 {
            --tw-brightness: brightness(.9);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .drop-shadow {
            --tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / 0.1)) drop-shadow(0 1px 1px rgb(0 0 0 / 0.06));
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .drop-shadow-none {
            --tw-drop-shadow: drop-shadow(0 0 #0000);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .grayscale {
            --tw-grayscale: grayscale(100%);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .invert {
            --tw-invert: invert(100%);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .sepia {
            --tw-sepia: sepia(100%);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .filter {
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .backdrop-blur-sm {
            --tw-backdrop-blur: blur(4px);
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
        }

        .backdrop-grayscale {
            --tw-backdrop-grayscale: grayscale(100%);
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
        }

        .backdrop-invert {
            --tw-backdrop-invert: invert(100%);
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
        }

        .backdrop-sepia {
            --tw-backdrop-sepia: sepia(100%);
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
        }

        .backdrop-filter {
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
        }

        .transition {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .transition-colors {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .transition-opacity {
            transition-property: opacity;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .transition-transform {
            transition-property: transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .delay-0 {
            transition-delay: 0s;
        }

        .delay-\[1000ms\] {
            transition-delay: 1000ms;
        }

        .duration-100 {
            transition-duration: 100ms;
        }

        .duration-200 {
            transition-duration: 200ms;
        }

        .duration-300 {
            transition-duration: 300ms;
        }

        .duration-500 {
            transition-duration: 500ms;
        }

        .duration-700 {
            transition-duration: 700ms;
        }

        .ease-out {
            transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
        }

        .will-change-auto {
            will-change: auto;
        }

        .will-change-contents {
            will-change: contents;
        }

        .will-change-scroll {
            will-change: scroll-position;
        }

        .will-change-transform {
            will-change: transform;
        }

        .content-none {
            --tw-content: none;
            content: var(--tw-content);
        }

        .forced-color-adjust-auto {
            forced-color-adjust: auto;
        }

        .forced-color-adjust-none {
            forced-color-adjust: none;
        }

        .selection\:bg-brand-100 *::-moz-selection {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .selection\:bg-brand-100 *::selection {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .selection\:text-brand-900 *::-moz-selection {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .selection\:text-brand-900 *::selection {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .selection\:bg-brand-100::-moz-selection {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .selection\:bg-brand-100::selection {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .selection\:text-brand-900::-moz-selection {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .selection\:text-brand-900::selection {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .after\:absolute::after {
            content: var(--tw-content);
            position: absolute;
        }

        .after\:left-\[2px\]::after {
            content: var(--tw-content);
            left: 2px;
        }

        .after\:top-\[2px\]::after {
            content: var(--tw-content);
            top: 2px;
        }

        .after\:h-5::after {
            content: var(--tw-content);
            height: 1.25rem;
        }

        .after\:w-5::after {
            content: var(--tw-content);
            width: 1.25rem;
        }

        .after\:rounded-full::after {
            content: var(--tw-content);
            border-radius: 9999px;
        }

        .after\:border::after {
            content: var(--tw-content);
            border-width: 1px;
        }

        .after\:border-gray-300::after {
            content: var(--tw-content);
            --tw-border-opacity: 1;
            border-color: rgb(209 213 219 / var(--tw-border-opacity));
        }

        .after\:bg-white::after {
            content: var(--tw-content);
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity));
        }

        .after\:transition-all::after {
            content: var(--tw-content);
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        .after\:content-\[\'\'\]::after {
            --tw-content: '';
            content: var(--tw-content);
        }

        .last\:border-0:last-child {
            border-width: 0px;
        }

        .focus-within\:bg-white:focus-within {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity));
        }

        .focus-within\:ring-2:focus-within {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
        }

        .focus-within\:ring-brand-100:focus-within {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(219 234 254 / var(--tw-ring-opacity));
        }

        .hover\:scale-105:hover {
            --tw-scale-x: 1.05;
            --tw-scale-y: 1.05;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .hover\:border-amber-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 243 199 / var(--tw-border-opacity));
        }

        .hover\:border-amber-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(253 230 138 / var(--tw-border-opacity));
        }

        .hover\:border-amber-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(252 211 77 / var(--tw-border-opacity));
        }

        .hover\:border-amber-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(251 191 36 / var(--tw-border-opacity));
        }

        .hover\:border-amber-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(255 251 235 / var(--tw-border-opacity));
        }

        .hover\:border-amber-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(245 158 11 / var(--tw-border-opacity));
        }

        .hover\:border-amber-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(217 119 6 / var(--tw-border-opacity));
        }

        .hover\:border-amber-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(180 83 9 / var(--tw-border-opacity));
        }

        .hover\:border-amber-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(146 64 14 / var(--tw-border-opacity));
        }

        .hover\:border-amber-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(120 53 15 / var(--tw-border-opacity));
        }

        .hover\:border-blue-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(219 234 254 / var(--tw-border-opacity));
        }

        .hover\:border-blue-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(191 219 254 / var(--tw-border-opacity));
        }

        .hover\:border-blue-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(147 197 253 / var(--tw-border-opacity));
        }

        .hover\:border-blue-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(96 165 250 / var(--tw-border-opacity));
        }

        .hover\:border-blue-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(239 246 255 / var(--tw-border-opacity));
        }

        .hover\:border-blue-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(59 130 246 / var(--tw-border-opacity));
        }

        .hover\:border-blue-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(37 99 235 / var(--tw-border-opacity));
        }

        .hover\:border-blue-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(29 78 216 / var(--tw-border-opacity));
        }

        .hover\:border-blue-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(30 64 175 / var(--tw-border-opacity));
        }

        .hover\:border-blue-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(30 58 138 / var(--tw-border-opacity));
        }

        .hover\:border-brand-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(59 130 246 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(207 250 254 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(165 243 252 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(103 232 249 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(34 211 238 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(236 254 255 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(6 182 212 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(8 145 178 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(14 116 144 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(21 94 117 / var(--tw-border-opacity));
        }

        .hover\:border-cyan-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(22 78 99 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(209 250 229 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(167 243 208 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(110 231 183 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(52 211 153 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(236 253 245 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(16 185 129 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(5 150 105 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(4 120 87 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(6 95 70 / var(--tw-border-opacity));
        }

        .hover\:border-emerald-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(6 78 59 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(250 232 255 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(245 208 254 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(240 171 252 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(232 121 249 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(253 244 255 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(217 70 239 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(192 38 211 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(162 28 175 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(134 25 143 / var(--tw-border-opacity));
        }

        .hover\:border-fuchsia-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(112 26 117 / var(--tw-border-opacity));
        }

        .hover\:border-gray-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(243 244 246 / var(--tw-border-opacity));
        }

        .hover\:border-gray-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(229 231 235 / var(--tw-border-opacity));
        }

        .hover\:border-gray-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(209 213 219 / var(--tw-border-opacity));
        }

        .hover\:border-gray-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(156 163 175 / var(--tw-border-opacity));
        }

        .hover\:border-gray-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(249 250 251 / var(--tw-border-opacity));
        }

        .hover\:border-gray-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(107 114 128 / var(--tw-border-opacity));
        }

        .hover\:border-gray-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(75 85 99 / var(--tw-border-opacity));
        }

        .hover\:border-gray-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(55 65 81 / var(--tw-border-opacity));
        }

        .hover\:border-gray-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(31 41 55 / var(--tw-border-opacity));
        }

        .hover\:border-gray-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(17 24 39 / var(--tw-border-opacity));
        }

        .hover\:border-green-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(220 252 231 / var(--tw-border-opacity));
        }

        .hover\:border-green-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(187 247 208 / var(--tw-border-opacity));
        }

        .hover\:border-green-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(134 239 172 / var(--tw-border-opacity));
        }

        .hover\:border-green-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(74 222 128 / var(--tw-border-opacity));
        }

        .hover\:border-green-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(240 253 244 / var(--tw-border-opacity));
        }

        .hover\:border-green-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(34 197 94 / var(--tw-border-opacity));
        }

        .hover\:border-green-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(22 163 74 / var(--tw-border-opacity));
        }

        .hover\:border-green-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(21 128 61 / var(--tw-border-opacity));
        }

        .hover\:border-green-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(22 101 52 / var(--tw-border-opacity));
        }

        .hover\:border-green-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(20 83 45 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(224 231 255 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(199 210 254 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(165 180 252 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(129 140 248 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(238 242 255 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(99 102 241 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(79 70 229 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(67 56 202 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(55 48 163 / var(--tw-border-opacity));
        }

        .hover\:border-indigo-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(49 46 129 / var(--tw-border-opacity));
        }

        .hover\:border-orange-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(255 237 213 / var(--tw-border-opacity));
        }

        .hover\:border-orange-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 215 170 / var(--tw-border-opacity));
        }

        .hover\:border-orange-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(253 186 116 / var(--tw-border-opacity));
        }

        .hover\:border-orange-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(251 146 60 / var(--tw-border-opacity));
        }

        .hover\:border-orange-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(255 247 237 / var(--tw-border-opacity));
        }

        .hover\:border-orange-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(249 115 22 / var(--tw-border-opacity));
        }

        .hover\:border-orange-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(234 88 12 / var(--tw-border-opacity));
        }

        .hover\:border-orange-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(194 65 12 / var(--tw-border-opacity));
        }

        .hover\:border-orange-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(154 52 18 / var(--tw-border-opacity));
        }

        .hover\:border-orange-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(124 45 18 / var(--tw-border-opacity));
        }

        .hover\:border-pink-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(252 231 243 / var(--tw-border-opacity));
        }

        .hover\:border-pink-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(251 207 232 / var(--tw-border-opacity));
        }

        .hover\:border-pink-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(249 168 212 / var(--tw-border-opacity));
        }

        .hover\:border-pink-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(244 114 182 / var(--tw-border-opacity));
        }

        .hover\:border-pink-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(253 242 248 / var(--tw-border-opacity));
        }

        .hover\:border-pink-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(236 72 153 / var(--tw-border-opacity));
        }

        .hover\:border-pink-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(219 39 119 / var(--tw-border-opacity));
        }

        .hover\:border-pink-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(190 24 93 / var(--tw-border-opacity));
        }

        .hover\:border-pink-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(157 23 77 / var(--tw-border-opacity));
        }

        .hover\:border-pink-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(131 24 67 / var(--tw-border-opacity));
        }

        .hover\:border-purple-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(243 232 255 / var(--tw-border-opacity));
        }

        .hover\:border-purple-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(233 213 255 / var(--tw-border-opacity));
        }

        .hover\:border-purple-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(216 180 254 / var(--tw-border-opacity));
        }

        .hover\:border-purple-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(192 132 252 / var(--tw-border-opacity));
        }

        .hover\:border-purple-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(250 245 255 / var(--tw-border-opacity));
        }

        .hover\:border-purple-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(168 85 247 / var(--tw-border-opacity));
        }

        .hover\:border-purple-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(147 51 234 / var(--tw-border-opacity));
        }

        .hover\:border-purple-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(126 34 206 / var(--tw-border-opacity));
        }

        .hover\:border-purple-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(107 33 168 / var(--tw-border-opacity));
        }

        .hover\:border-purple-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(88 28 135 / var(--tw-border-opacity));
        }

        .hover\:border-red-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 226 226 / var(--tw-border-opacity));
        }

        .hover\:border-red-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 202 202 / var(--tw-border-opacity));
        }

        .hover\:border-red-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(252 165 165 / var(--tw-border-opacity));
        }

        .hover\:border-red-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(248 113 113 / var(--tw-border-opacity));
        }

        .hover\:border-red-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 242 242 / var(--tw-border-opacity));
        }

        .hover\:border-red-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(239 68 68 / var(--tw-border-opacity));
        }

        .hover\:border-red-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(220 38 38 / var(--tw-border-opacity));
        }

        .hover\:border-red-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(185 28 28 / var(--tw-border-opacity));
        }

        .hover\:border-red-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(153 27 27 / var(--tw-border-opacity));
        }

        .hover\:border-red-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(127 29 29 / var(--tw-border-opacity));
        }

        .hover\:border-rose-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(255 228 230 / var(--tw-border-opacity));
        }

        .hover\:border-rose-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 205 211 / var(--tw-border-opacity));
        }

        .hover\:border-rose-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(253 164 175 / var(--tw-border-opacity));
        }

        .hover\:border-rose-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(251 113 133 / var(--tw-border-opacity));
        }

        .hover\:border-rose-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(255 241 242 / var(--tw-border-opacity));
        }

        .hover\:border-rose-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(244 63 94 / var(--tw-border-opacity));
        }

        .hover\:border-rose-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(225 29 72 / var(--tw-border-opacity));
        }

        .hover\:border-rose-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(190 18 60 / var(--tw-border-opacity));
        }

        .hover\:border-rose-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(159 18 57 / var(--tw-border-opacity));
        }

        .hover\:border-rose-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(136 19 55 / var(--tw-border-opacity));
        }

        .hover\:border-sky-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(224 242 254 / var(--tw-border-opacity));
        }

        .hover\:border-sky-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(186 230 253 / var(--tw-border-opacity));
        }

        .hover\:border-sky-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(125 211 252 / var(--tw-border-opacity));
        }

        .hover\:border-sky-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(56 189 248 / var(--tw-border-opacity));
        }

        .hover\:border-sky-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(240 249 255 / var(--tw-border-opacity));
        }

        .hover\:border-sky-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(14 165 233 / var(--tw-border-opacity));
        }

        .hover\:border-sky-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(2 132 199 / var(--tw-border-opacity));
        }

        .hover\:border-sky-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(3 105 161 / var(--tw-border-opacity));
        }

        .hover\:border-sky-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(7 89 133 / var(--tw-border-opacity));
        }

        .hover\:border-sky-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(12 74 110 / var(--tw-border-opacity));
        }

        .hover\:border-teal-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(204 251 241 / var(--tw-border-opacity));
        }

        .hover\:border-teal-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(153 246 228 / var(--tw-border-opacity));
        }

        .hover\:border-teal-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(94 234 212 / var(--tw-border-opacity));
        }

        .hover\:border-teal-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(45 212 191 / var(--tw-border-opacity));
        }

        .hover\:border-teal-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(240 253 250 / var(--tw-border-opacity));
        }

        .hover\:border-teal-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(20 184 166 / var(--tw-border-opacity));
        }

        .hover\:border-teal-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(13 148 136 / var(--tw-border-opacity));
        }

        .hover\:border-teal-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(15 118 110 / var(--tw-border-opacity));
        }

        .hover\:border-teal-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(17 94 89 / var(--tw-border-opacity));
        }

        .hover\:border-teal-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(19 78 74 / var(--tw-border-opacity));
        }

        .hover\:border-violet-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(237 233 254 / var(--tw-border-opacity));
        }

        .hover\:border-violet-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(221 214 254 / var(--tw-border-opacity));
        }

        .hover\:border-violet-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(196 181 253 / var(--tw-border-opacity));
        }

        .hover\:border-violet-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(167 139 250 / var(--tw-border-opacity));
        }

        .hover\:border-violet-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(245 243 255 / var(--tw-border-opacity));
        }

        .hover\:border-violet-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(139 92 246 / var(--tw-border-opacity));
        }

        .hover\:border-violet-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(124 58 237 / var(--tw-border-opacity));
        }

        .hover\:border-violet-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(109 40 217 / var(--tw-border-opacity));
        }

        .hover\:border-violet-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(91 33 182 / var(--tw-border-opacity));
        }

        .hover\:border-violet-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(76 29 149 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-100:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 249 195 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-200:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 240 138 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-300:hover {
            --tw-border-opacity: 1;
            border-color: rgb(253 224 71 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-400:hover {
            --tw-border-opacity: 1;
            border-color: rgb(250 204 21 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-50:hover {
            --tw-border-opacity: 1;
            border-color: rgb(254 252 232 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-500:hover {
            --tw-border-opacity: 1;
            border-color: rgb(234 179 8 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-600:hover {
            --tw-border-opacity: 1;
            border-color: rgb(202 138 4 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-700:hover {
            --tw-border-opacity: 1;
            border-color: rgb(161 98 7 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-800:hover {
            --tw-border-opacity: 1;
            border-color: rgb(133 77 14 / var(--tw-border-opacity));
        }

        .hover\:border-yellow-900:hover {
            --tw-border-opacity: 1;
            border-color: rgb(113 63 18 / var(--tw-border-opacity));
        }

        .hover\:bg-amber-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 243 199 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(253 230 138 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(252 211 77 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(251 191 36 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(255 251 235 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(245 158 11 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(217 119 6 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(180 83 9 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(146 64 14 / var(--tw-bg-opacity));
        }

        .hover\:bg-amber-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(120 53 15 / var(--tw-bg-opacity));
        }

        .hover\:bg-black:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(0 0 0 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(191 219 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(147 197 253 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(96 165 250 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(30 64 175 / var(--tw-bg-opacity));
        }

        .hover\:bg-blue-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(30 58 138 / var(--tw-bg-opacity));
        }

        .hover\:bg-brand-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-brand-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-brand-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(207 250 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(165 243 252 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(103 232 249 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(34 211 238 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(236 254 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(6 182 212 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(8 145 178 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(14 116 144 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(21 94 117 / var(--tw-bg-opacity));
        }

        .hover\:bg-cyan-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(22 78 99 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(209 250 229 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(167 243 208 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(110 231 183 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(52 211 153 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(236 253 245 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(16 185 129 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(5 150 105 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(4 120 87 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(6 95 70 / var(--tw-bg-opacity));
        }

        .hover\:bg-emerald-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(6 78 59 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(250 232 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(245 208 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(240 171 252 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(232 121 249 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(253 244 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(217 70 239 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(192 38 211 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(162 28 175 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(134 25 143 / var(--tw-bg-opacity));
        }

        .hover\:bg-fuchsia-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(112 26 117 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(243 244 246 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(229 231 235 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(209 213 219 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(156 163 175 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(107 114 128 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(75 85 99 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(55 65 81 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(31 41 55 / var(--tw-bg-opacity));
        }

        .hover\:bg-gray-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(17 24 39 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(220 252 231 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(187 247 208 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(134 239 172 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(74 222 128 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 244 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(22 163 74 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(21 128 61 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(22 101 52 / var(--tw-bg-opacity));
        }

        .hover\:bg-green-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(20 83 45 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(224 231 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(199 210 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(165 180 252 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(129 140 248 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(238 242 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(99 102 241 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(79 70 229 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(67 56 202 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(55 48 163 / var(--tw-bg-opacity));
        }

        .hover\:bg-indigo-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(49 46 129 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(255 237 213 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 215 170 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(253 186 116 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(251 146 60 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(255 247 237 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(249 115 22 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(234 88 12 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(194 65 12 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(154 52 18 / var(--tw-bg-opacity));
        }

        .hover\:bg-orange-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(124 45 18 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(252 231 243 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(251 207 232 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(249 168 212 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(244 114 182 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(253 242 248 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(236 72 153 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(219 39 119 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(190 24 93 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(157 23 77 / var(--tw-bg-opacity));
        }

        .hover\:bg-pink-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(131 24 67 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(243 232 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(233 213 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(216 180 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(192 132 252 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(250 245 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(168 85 247 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(147 51 234 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(126 34 206 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(107 33 168 / var(--tw-bg-opacity));
        }

        .hover\:bg-purple-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(88 28 135 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 226 226 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 202 202 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(252 165 165 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(248 113 113 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 242 242 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(239 68 68 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(220 38 38 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(185 28 28 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(153 27 27 / var(--tw-bg-opacity));
        }

        .hover\:bg-red-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(127 29 29 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(255 228 230 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 205 211 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(253 164 175 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(251 113 133 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(255 241 242 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(244 63 94 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(225 29 72 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(190 18 60 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(159 18 57 / var(--tw-bg-opacity));
        }

        .hover\:bg-rose-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(136 19 55 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(224 242 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(186 230 253 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(125 211 252 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(56 189 248 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(240 249 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(14 165 233 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(2 132 199 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(3 105 161 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(7 89 133 / var(--tw-bg-opacity));
        }

        .hover\:bg-sky-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(12 74 110 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(204 251 241 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(153 246 228 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(94 234 212 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(45 212 191 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 250 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(20 184 166 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(13 148 136 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(15 118 110 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(17 94 89 / var(--tw-bg-opacity));
        }

        .hover\:bg-teal-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(19 78 74 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(237 233 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(221 214 254 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(196 181 253 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(167 139 250 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(245 243 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(139 92 246 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(124 58 237 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(109 40 217 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(91 33 182 / var(--tw-bg-opacity));
        }

        .hover\:bg-violet-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(76 29 149 / var(--tw-bg-opacity));
        }

        .hover\:bg-white:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-100:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 249 195 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 240 138 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-300:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(253 224 71 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-400:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(250 204 21 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-50:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(254 252 232 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-500:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(234 179 8 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-600:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(202 138 4 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(161 98 7 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-800:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(133 77 14 / var(--tw-bg-opacity));
        }

        .hover\:bg-yellow-900:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(113 63 18 / var(--tw-bg-opacity));
        }

        .hover\:text-amber-100:hover {
            --tw-text-opacity: 1;
            color: rgb(254 243 199 / var(--tw-text-opacity));
        }

        .hover\:text-amber-200:hover {
            --tw-text-opacity: 1;
            color: rgb(253 230 138 / var(--tw-text-opacity));
        }

        .hover\:text-amber-300:hover {
            --tw-text-opacity: 1;
            color: rgb(252 211 77 / var(--tw-text-opacity));
        }

        .hover\:text-amber-400:hover {
            --tw-text-opacity: 1;
            color: rgb(251 191 36 / var(--tw-text-opacity));
        }

        .hover\:text-amber-50:hover {
            --tw-text-opacity: 1;
            color: rgb(255 251 235 / var(--tw-text-opacity));
        }

        .hover\:text-amber-500:hover {
            --tw-text-opacity: 1;
            color: rgb(245 158 11 / var(--tw-text-opacity));
        }

        .hover\:text-amber-600:hover {
            --tw-text-opacity: 1;
            color: rgb(217 119 6 / var(--tw-text-opacity));
        }

        .hover\:text-amber-700:hover {
            --tw-text-opacity: 1;
            color: rgb(180 83 9 / var(--tw-text-opacity));
        }

        .hover\:text-amber-800:hover {
            --tw-text-opacity: 1;
            color: rgb(146 64 14 / var(--tw-text-opacity));
        }

        .hover\:text-amber-900:hover {
            --tw-text-opacity: 1;
            color: rgb(120 53 15 / var(--tw-text-opacity));
        }

        .hover\:text-blue-100:hover {
            --tw-text-opacity: 1;
            color: rgb(219 234 254 / var(--tw-text-opacity));
        }

        .hover\:text-blue-200:hover {
            --tw-text-opacity: 1;
            color: rgb(191 219 254 / var(--tw-text-opacity));
        }

        .hover\:text-blue-300:hover {
            --tw-text-opacity: 1;
            color: rgb(147 197 253 / var(--tw-text-opacity));
        }

        .hover\:text-blue-400:hover {
            --tw-text-opacity: 1;
            color: rgb(96 165 250 / var(--tw-text-opacity));
        }

        .hover\:text-blue-50:hover {
            --tw-text-opacity: 1;
            color: rgb(239 246 255 / var(--tw-text-opacity));
        }

        .hover\:text-blue-500:hover {
            --tw-text-opacity: 1;
            color: rgb(59 130 246 / var(--tw-text-opacity));
        }

        .hover\:text-blue-600:hover {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .hover\:text-blue-700:hover {
            --tw-text-opacity: 1;
            color: rgb(29 78 216 / var(--tw-text-opacity));
        }

        .hover\:text-blue-800:hover {
            --tw-text-opacity: 1;
            color: rgb(30 64 175 / var(--tw-text-opacity));
        }

        .hover\:text-blue-900:hover {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .hover\:text-brand-600:hover {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .hover\:text-brand-700:hover {
            --tw-text-opacity: 1;
            color: rgb(29 78 216 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-100:hover {
            --tw-text-opacity: 1;
            color: rgb(207 250 254 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-200:hover {
            --tw-text-opacity: 1;
            color: rgb(165 243 252 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-300:hover {
            --tw-text-opacity: 1;
            color: rgb(103 232 249 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-400:hover {
            --tw-text-opacity: 1;
            color: rgb(34 211 238 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-50:hover {
            --tw-text-opacity: 1;
            color: rgb(236 254 255 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-500:hover {
            --tw-text-opacity: 1;
            color: rgb(6 182 212 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-600:hover {
            --tw-text-opacity: 1;
            color: rgb(8 145 178 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-700:hover {
            --tw-text-opacity: 1;
            color: rgb(14 116 144 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-800:hover {
            --tw-text-opacity: 1;
            color: rgb(21 94 117 / var(--tw-text-opacity));
        }

        .hover\:text-cyan-900:hover {
            --tw-text-opacity: 1;
            color: rgb(22 78 99 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-100:hover {
            --tw-text-opacity: 1;
            color: rgb(209 250 229 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-200:hover {
            --tw-text-opacity: 1;
            color: rgb(167 243 208 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-300:hover {
            --tw-text-opacity: 1;
            color: rgb(110 231 183 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-400:hover {
            --tw-text-opacity: 1;
            color: rgb(52 211 153 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-50:hover {
            --tw-text-opacity: 1;
            color: rgb(236 253 245 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-500:hover {
            --tw-text-opacity: 1;
            color: rgb(16 185 129 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-600:hover {
            --tw-text-opacity: 1;
            color: rgb(5 150 105 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-700:hover {
            --tw-text-opacity: 1;
            color: rgb(4 120 87 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-800:hover {
            --tw-text-opacity: 1;
            color: rgb(6 95 70 / var(--tw-text-opacity));
        }

        .hover\:text-emerald-900:hover {
            --tw-text-opacity: 1;
            color: rgb(6 78 59 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-100:hover {
            --tw-text-opacity: 1;
            color: rgb(250 232 255 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-200:hover {
            --tw-text-opacity: 1;
            color: rgb(245 208 254 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-300:hover {
            --tw-text-opacity: 1;
            color: rgb(240 171 252 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-400:hover {
            --tw-text-opacity: 1;
            color: rgb(232 121 249 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-50:hover {
            --tw-text-opacity: 1;
            color: rgb(253 244 255 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-500:hover {
            --tw-text-opacity: 1;
            color: rgb(217 70 239 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-600:hover {
            --tw-text-opacity: 1;
            color: rgb(192 38 211 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-700:hover {
            --tw-text-opacity: 1;
            color: rgb(162 28 175 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-800:hover {
            --tw-text-opacity: 1;
            color: rgb(134 25 143 / var(--tw-text-opacity));
        }

        .hover\:text-fuchsia-900:hover {
            --tw-text-opacity: 1;
            color: rgb(112 26 117 / var(--tw-text-opacity));
        }

        .hover\:text-gray-100:hover {
            --tw-text-opacity: 1;
            color: rgb(243 244 246 / var(--tw-text-opacity));
        }

        .hover\:text-gray-200:hover {
            --tw-text-opacity: 1;
            color: rgb(229 231 235 / var(--tw-text-opacity));
        }

        .hover\:text-gray-300:hover {
            --tw-text-opacity: 1;
            color: rgb(209 213 219 / var(--tw-text-opacity));
        }

        .hover\:text-gray-400:hover {
            --tw-text-opacity: 1;
            color: rgb(156 163 175 / var(--tw-text-opacity));
        }

        .hover\:text-gray-50:hover {
            --tw-text-opacity: 1;
            color: rgb(249 250 251 / var(--tw-text-opacity));
        }

        .hover\:text-gray-500:hover {
            --tw-text-opacity: 1;
            color: rgb(107 114 128 / var(--tw-text-opacity));
        }

        .hover\:text-gray-600:hover {
            --tw-text-opacity: 1;
            color: rgb(75 85 99 / var(--tw-text-opacity));
        }

        .hover\:text-gray-700:hover {
            --tw-text-opacity: 1;
            color: rgb(55 65 81 / var(--tw-text-opacity));
        }

        .hover\:text-gray-800:hover {
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity));
        }

        .hover\:text-gray-900:hover {
            --tw-text-opacity: 1;
            color: rgb(17 24 39 / var(--tw-text-opacity));
        }

        .hover\:text-green-100:hover {
            --tw-text-opacity: 1;
            color: rgb(220 252 231 / var(--tw-text-opacity));
        }

        .hover\:text-green-200:hover {
            --tw-text-opacity: 1;
            color: rgb(187 247 208 / var(--tw-text-opacity));
        }

        .hover\:text-green-300:hover {
            --tw-text-opacity: 1;
            color: rgb(134 239 172 / var(--tw-text-opacity));
        }

        .hover\:text-green-400:hover {
            --tw-text-opacity: 1;
            color: rgb(74 222 128 / var(--tw-text-opacity));
        }

        .hover\:text-green-50:hover {
            --tw-text-opacity: 1;
            color: rgb(240 253 244 / var(--tw-text-opacity));
        }

        .hover\:text-green-500:hover {
            --tw-text-opacity: 1;
            color: rgb(34 197 94 / var(--tw-text-opacity));
        }

        .hover\:text-green-600:hover {
            --tw-text-opacity: 1;
            color: rgb(22 163 74 / var(--tw-text-opacity));
        }

        .hover\:text-green-700:hover {
            --tw-text-opacity: 1;
            color: rgb(21 128 61 / var(--tw-text-opacity));
        }

        .hover\:text-green-800:hover {
            --tw-text-opacity: 1;
            color: rgb(22 101 52 / var(--tw-text-opacity));
        }

        .hover\:text-green-900:hover {
            --tw-text-opacity: 1;
            color: rgb(20 83 45 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-100:hover {
            --tw-text-opacity: 1;
            color: rgb(224 231 255 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-200:hover {
            --tw-text-opacity: 1;
            color: rgb(199 210 254 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-300:hover {
            --tw-text-opacity: 1;
            color: rgb(165 180 252 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-400:hover {
            --tw-text-opacity: 1;
            color: rgb(129 140 248 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-50:hover {
            --tw-text-opacity: 1;
            color: rgb(238 242 255 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-500:hover {
            --tw-text-opacity: 1;
            color: rgb(99 102 241 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-600:hover {
            --tw-text-opacity: 1;
            color: rgb(79 70 229 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-700:hover {
            --tw-text-opacity: 1;
            color: rgb(67 56 202 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-800:hover {
            --tw-text-opacity: 1;
            color: rgb(55 48 163 / var(--tw-text-opacity));
        }

        .hover\:text-indigo-900:hover {
            --tw-text-opacity: 1;
            color: rgb(49 46 129 / var(--tw-text-opacity));
        }

        .hover\:text-orange-100:hover {
            --tw-text-opacity: 1;
            color: rgb(255 237 213 / var(--tw-text-opacity));
        }

        .hover\:text-orange-200:hover {
            --tw-text-opacity: 1;
            color: rgb(254 215 170 / var(--tw-text-opacity));
        }

        .hover\:text-orange-300:hover {
            --tw-text-opacity: 1;
            color: rgb(253 186 116 / var(--tw-text-opacity));
        }

        .hover\:text-orange-400:hover {
            --tw-text-opacity: 1;
            color: rgb(251 146 60 / var(--tw-text-opacity));
        }

        .hover\:text-orange-50:hover {
            --tw-text-opacity: 1;
            color: rgb(255 247 237 / var(--tw-text-opacity));
        }

        .hover\:text-orange-500:hover {
            --tw-text-opacity: 1;
            color: rgb(249 115 22 / var(--tw-text-opacity));
        }

        .hover\:text-orange-600:hover {
            --tw-text-opacity: 1;
            color: rgb(234 88 12 / var(--tw-text-opacity));
        }

        .hover\:text-orange-700:hover {
            --tw-text-opacity: 1;
            color: rgb(194 65 12 / var(--tw-text-opacity));
        }

        .hover\:text-orange-800:hover {
            --tw-text-opacity: 1;
            color: rgb(154 52 18 / var(--tw-text-opacity));
        }

        .hover\:text-orange-900:hover {
            --tw-text-opacity: 1;
            color: rgb(124 45 18 / var(--tw-text-opacity));
        }

        .hover\:text-pink-100:hover {
            --tw-text-opacity: 1;
            color: rgb(252 231 243 / var(--tw-text-opacity));
        }

        .hover\:text-pink-200:hover {
            --tw-text-opacity: 1;
            color: rgb(251 207 232 / var(--tw-text-opacity));
        }

        .hover\:text-pink-300:hover {
            --tw-text-opacity: 1;
            color: rgb(249 168 212 / var(--tw-text-opacity));
        }

        .hover\:text-pink-400:hover {
            --tw-text-opacity: 1;
            color: rgb(244 114 182 / var(--tw-text-opacity));
        }

        .hover\:text-pink-50:hover {
            --tw-text-opacity: 1;
            color: rgb(253 242 248 / var(--tw-text-opacity));
        }

        .hover\:text-pink-500:hover {
            --tw-text-opacity: 1;
            color: rgb(236 72 153 / var(--tw-text-opacity));
        }

        .hover\:text-pink-600:hover {
            --tw-text-opacity: 1;
            color: rgb(219 39 119 / var(--tw-text-opacity));
        }

        .hover\:text-pink-700:hover {
            --tw-text-opacity: 1;
            color: rgb(190 24 93 / var(--tw-text-opacity));
        }

        .hover\:text-pink-800:hover {
            --tw-text-opacity: 1;
            color: rgb(157 23 77 / var(--tw-text-opacity));
        }

        .hover\:text-pink-900:hover {
            --tw-text-opacity: 1;
            color: rgb(131 24 67 / var(--tw-text-opacity));
        }

        .hover\:text-purple-100:hover {
            --tw-text-opacity: 1;
            color: rgb(243 232 255 / var(--tw-text-opacity));
        }

        .hover\:text-purple-200:hover {
            --tw-text-opacity: 1;
            color: rgb(233 213 255 / var(--tw-text-opacity));
        }

        .hover\:text-purple-300:hover {
            --tw-text-opacity: 1;
            color: rgb(216 180 254 / var(--tw-text-opacity));
        }

        .hover\:text-purple-400:hover {
            --tw-text-opacity: 1;
            color: rgb(192 132 252 / var(--tw-text-opacity));
        }

        .hover\:text-purple-50:hover {
            --tw-text-opacity: 1;
            color: rgb(250 245 255 / var(--tw-text-opacity));
        }

        .hover\:text-purple-500:hover {
            --tw-text-opacity: 1;
            color: rgb(168 85 247 / var(--tw-text-opacity));
        }

        .hover\:text-purple-600:hover {
            --tw-text-opacity: 1;
            color: rgb(147 51 234 / var(--tw-text-opacity));
        }

        .hover\:text-purple-700:hover {
            --tw-text-opacity: 1;
            color: rgb(126 34 206 / var(--tw-text-opacity));
        }

        .hover\:text-purple-800:hover {
            --tw-text-opacity: 1;
            color: rgb(107 33 168 / var(--tw-text-opacity));
        }

        .hover\:text-purple-900:hover {
            --tw-text-opacity: 1;
            color: rgb(88 28 135 / var(--tw-text-opacity));
        }

        .hover\:text-red-100:hover {
            --tw-text-opacity: 1;
            color: rgb(254 226 226 / var(--tw-text-opacity));
        }

        .hover\:text-red-200:hover {
            --tw-text-opacity: 1;
            color: rgb(254 202 202 / var(--tw-text-opacity));
        }

        .hover\:text-red-300:hover {
            --tw-text-opacity: 1;
            color: rgb(252 165 165 / var(--tw-text-opacity));
        }

        .hover\:text-red-400:hover {
            --tw-text-opacity: 1;
            color: rgb(248 113 113 / var(--tw-text-opacity));
        }

        .hover\:text-red-50:hover {
            --tw-text-opacity: 1;
            color: rgb(254 242 242 / var(--tw-text-opacity));
        }

        .hover\:text-red-500:hover {
            --tw-text-opacity: 1;
            color: rgb(239 68 68 / var(--tw-text-opacity));
        }

        .hover\:text-red-600:hover {
            --tw-text-opacity: 1;
            color: rgb(220 38 38 / var(--tw-text-opacity));
        }

        .hover\:text-red-700:hover {
            --tw-text-opacity: 1;
            color: rgb(185 28 28 / var(--tw-text-opacity));
        }

        .hover\:text-red-800:hover {
            --tw-text-opacity: 1;
            color: rgb(153 27 27 / var(--tw-text-opacity));
        }

        .hover\:text-red-900:hover {
            --tw-text-opacity: 1;
            color: rgb(127 29 29 / var(--tw-text-opacity));
        }

        .hover\:text-rose-100:hover {
            --tw-text-opacity: 1;
            color: rgb(255 228 230 / var(--tw-text-opacity));
        }

        .hover\:text-rose-200:hover {
            --tw-text-opacity: 1;
            color: rgb(254 205 211 / var(--tw-text-opacity));
        }

        .hover\:text-rose-300:hover {
            --tw-text-opacity: 1;
            color: rgb(253 164 175 / var(--tw-text-opacity));
        }

        .hover\:text-rose-400:hover {
            --tw-text-opacity: 1;
            color: rgb(251 113 133 / var(--tw-text-opacity));
        }

        .hover\:text-rose-50:hover {
            --tw-text-opacity: 1;
            color: rgb(255 241 242 / var(--tw-text-opacity));
        }

        .hover\:text-rose-500:hover {
            --tw-text-opacity: 1;
            color: rgb(244 63 94 / var(--tw-text-opacity));
        }

        .hover\:text-rose-600:hover {
            --tw-text-opacity: 1;
            color: rgb(225 29 72 / var(--tw-text-opacity));
        }

        .hover\:text-rose-700:hover {
            --tw-text-opacity: 1;
            color: rgb(190 18 60 / var(--tw-text-opacity));
        }

        .hover\:text-rose-800:hover {
            --tw-text-opacity: 1;
            color: rgb(159 18 57 / var(--tw-text-opacity));
        }

        .hover\:text-rose-900:hover {
            --tw-text-opacity: 1;
            color: rgb(136 19 55 / var(--tw-text-opacity));
        }

        .hover\:text-sky-100:hover {
            --tw-text-opacity: 1;
            color: rgb(224 242 254 / var(--tw-text-opacity));
        }

        .hover\:text-sky-200:hover {
            --tw-text-opacity: 1;
            color: rgb(186 230 253 / var(--tw-text-opacity));
        }

        .hover\:text-sky-300:hover {
            --tw-text-opacity: 1;
            color: rgb(125 211 252 / var(--tw-text-opacity));
        }

        .hover\:text-sky-400:hover {
            --tw-text-opacity: 1;
            color: rgb(56 189 248 / var(--tw-text-opacity));
        }

        .hover\:text-sky-50:hover {
            --tw-text-opacity: 1;
            color: rgb(240 249 255 / var(--tw-text-opacity));
        }

        .hover\:text-sky-500:hover {
            --tw-text-opacity: 1;
            color: rgb(14 165 233 / var(--tw-text-opacity));
        }

        .hover\:text-sky-600:hover {
            --tw-text-opacity: 1;
            color: rgb(2 132 199 / var(--tw-text-opacity));
        }

        .hover\:text-sky-700:hover {
            --tw-text-opacity: 1;
            color: rgb(3 105 161 / var(--tw-text-opacity));
        }

        .hover\:text-sky-800:hover {
            --tw-text-opacity: 1;
            color: rgb(7 89 133 / var(--tw-text-opacity));
        }

        .hover\:text-sky-900:hover {
            --tw-text-opacity: 1;
            color: rgb(12 74 110 / var(--tw-text-opacity));
        }

        .hover\:text-teal-100:hover {
            --tw-text-opacity: 1;
            color: rgb(204 251 241 / var(--tw-text-opacity));
        }

        .hover\:text-teal-200:hover {
            --tw-text-opacity: 1;
            color: rgb(153 246 228 / var(--tw-text-opacity));
        }

        .hover\:text-teal-300:hover {
            --tw-text-opacity: 1;
            color: rgb(94 234 212 / var(--tw-text-opacity));
        }

        .hover\:text-teal-400:hover {
            --tw-text-opacity: 1;
            color: rgb(45 212 191 / var(--tw-text-opacity));
        }

        .hover\:text-teal-50:hover {
            --tw-text-opacity: 1;
            color: rgb(240 253 250 / var(--tw-text-opacity));
        }

        .hover\:text-teal-500:hover {
            --tw-text-opacity: 1;
            color: rgb(20 184 166 / var(--tw-text-opacity));
        }

        .hover\:text-teal-600:hover {
            --tw-text-opacity: 1;
            color: rgb(13 148 136 / var(--tw-text-opacity));
        }

        .hover\:text-teal-700:hover {
            --tw-text-opacity: 1;
            color: rgb(15 118 110 / var(--tw-text-opacity));
        }

        .hover\:text-teal-800:hover {
            --tw-text-opacity: 1;
            color: rgb(17 94 89 / var(--tw-text-opacity));
        }

        .hover\:text-teal-900:hover {
            --tw-text-opacity: 1;
            color: rgb(19 78 74 / var(--tw-text-opacity));
        }

        .hover\:text-violet-100:hover {
            --tw-text-opacity: 1;
            color: rgb(237 233 254 / var(--tw-text-opacity));
        }

        .hover\:text-violet-200:hover {
            --tw-text-opacity: 1;
            color: rgb(221 214 254 / var(--tw-text-opacity));
        }

        .hover\:text-violet-300:hover {
            --tw-text-opacity: 1;
            color: rgb(196 181 253 / var(--tw-text-opacity));
        }

        .hover\:text-violet-400:hover {
            --tw-text-opacity: 1;
            color: rgb(167 139 250 / var(--tw-text-opacity));
        }

        .hover\:text-violet-50:hover {
            --tw-text-opacity: 1;
            color: rgb(245 243 255 / var(--tw-text-opacity));
        }

        .hover\:text-violet-500:hover {
            --tw-text-opacity: 1;
            color: rgb(139 92 246 / var(--tw-text-opacity));
        }

        .hover\:text-violet-600:hover {
            --tw-text-opacity: 1;
            color: rgb(124 58 237 / var(--tw-text-opacity));
        }

        .hover\:text-violet-700:hover {
            --tw-text-opacity: 1;
            color: rgb(109 40 217 / var(--tw-text-opacity));
        }

        .hover\:text-violet-800:hover {
            --tw-text-opacity: 1;
            color: rgb(91 33 182 / var(--tw-text-opacity));
        }

        .hover\:text-violet-900:hover {
            --tw-text-opacity: 1;
            color: rgb(76 29 149 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-100:hover {
            --tw-text-opacity: 1;
            color: rgb(254 249 195 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-200:hover {
            --tw-text-opacity: 1;
            color: rgb(254 240 138 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-300:hover {
            --tw-text-opacity: 1;
            color: rgb(253 224 71 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-400:hover {
            --tw-text-opacity: 1;
            color: rgb(250 204 21 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-50:hover {
            --tw-text-opacity: 1;
            color: rgb(254 252 232 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-500:hover {
            --tw-text-opacity: 1;
            color: rgb(234 179 8 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-600:hover {
            --tw-text-opacity: 1;
            color: rgb(202 138 4 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-700:hover {
            --tw-text-opacity: 1;
            color: rgb(161 98 7 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-800:hover {
            --tw-text-opacity: 1;
            color: rgb(133 77 14 / var(--tw-text-opacity));
        }

        .hover\:text-yellow-900:hover {
            --tw-text-opacity: 1;
            color: rgb(113 63 18 / var(--tw-text-opacity));
        }

        .hover\:underline:hover {
            text-decoration-line: underline;
        }

        .hover\:shadow-2xl:hover {
            --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .hover\:shadow-md:hover {
            --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .hover\:shadow-xl:hover {
            --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
        }

        .focus\:border-green-500:focus {
            --tw-border-opacity: 1;
            border-color: rgb(34 197 94 / var(--tw-border-opacity));
        }

        .focus\:ring-2:focus {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
        }

        .focus\:ring-brand-100:focus {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(219 234 254 / var(--tw-ring-opacity));
        }

        .focus\:ring-brand-500:focus {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity));
        }

        .active\:scale-125:active {
            --tw-scale-x: 1.25;
            --tw-scale-y: 1.25;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .active\:scale-95:active {
            --tw-scale-x: .95;
            --tw-scale-y: .95;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .group\/menu:hover .group-hover\/menu\:visible {
            visibility: visible;
        }

        .group:hover .group-hover\:translate-x-1 {
            --tw-translate-x: 0.25rem;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .group:hover .group-hover\:scale-110 {
            --tw-scale-x: 1.1;
            --tw-scale-y: 1.1;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .group:hover .group-hover\:scale-125 {
            --tw-scale-x: 1.25;
            --tw-scale-y: 1.25;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .group:hover .group-hover\:scale-150 {
            --tw-scale-x: 1.5;
            --tw-scale-y: 1.5;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .group:hover .group-hover\:border-amber-100 {
            --tw-border-opacity: 1;
            border-color: rgb(254 243 199 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-200 {
            --tw-border-opacity: 1;
            border-color: rgb(253 230 138 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-300 {
            --tw-border-opacity: 1;
            border-color: rgb(252 211 77 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-400 {
            --tw-border-opacity: 1;
            border-color: rgb(251 191 36 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-50 {
            --tw-border-opacity: 1;
            border-color: rgb(255 251 235 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-500 {
            --tw-border-opacity: 1;
            border-color: rgb(245 158 11 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-600 {
            --tw-border-opacity: 1;
            border-color: rgb(217 119 6 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-700 {
            --tw-border-opacity: 1;
            border-color: rgb(180 83 9 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-800 {
            --tw-border-opacity: 1;
            border-color: rgb(146 64 14 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-amber-900 {
            --tw-border-opacity: 1;
            border-color: rgb(120 53 15 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-100 {
            --tw-border-opacity: 1;
            border-color: rgb(219 234 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-200 {
            --tw-border-opacity: 1;
            border-color: rgb(191 219 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-300 {
            --tw-border-opacity: 1;
            border-color: rgb(147 197 253 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-400 {
            --tw-border-opacity: 1;
            border-color: rgb(96 165 250 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-50 {
            --tw-border-opacity: 1;
            border-color: rgb(239 246 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-500 {
            --tw-border-opacity: 1;
            border-color: rgb(59 130 246 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-600 {
            --tw-border-opacity: 1;
            border-color: rgb(37 99 235 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-700 {
            --tw-border-opacity: 1;
            border-color: rgb(29 78 216 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-800 {
            --tw-border-opacity: 1;
            border-color: rgb(30 64 175 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-blue-900 {
            --tw-border-opacity: 1;
            border-color: rgb(30 58 138 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-100 {
            --tw-border-opacity: 1;
            border-color: rgb(207 250 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-200 {
            --tw-border-opacity: 1;
            border-color: rgb(165 243 252 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-300 {
            --tw-border-opacity: 1;
            border-color: rgb(103 232 249 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-400 {
            --tw-border-opacity: 1;
            border-color: rgb(34 211 238 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-50 {
            --tw-border-opacity: 1;
            border-color: rgb(236 254 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-500 {
            --tw-border-opacity: 1;
            border-color: rgb(6 182 212 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-600 {
            --tw-border-opacity: 1;
            border-color: rgb(8 145 178 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-700 {
            --tw-border-opacity: 1;
            border-color: rgb(14 116 144 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-800 {
            --tw-border-opacity: 1;
            border-color: rgb(21 94 117 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-cyan-900 {
            --tw-border-opacity: 1;
            border-color: rgb(22 78 99 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-100 {
            --tw-border-opacity: 1;
            border-color: rgb(209 250 229 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-200 {
            --tw-border-opacity: 1;
            border-color: rgb(167 243 208 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-300 {
            --tw-border-opacity: 1;
            border-color: rgb(110 231 183 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-400 {
            --tw-border-opacity: 1;
            border-color: rgb(52 211 153 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-50 {
            --tw-border-opacity: 1;
            border-color: rgb(236 253 245 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-500 {
            --tw-border-opacity: 1;
            border-color: rgb(16 185 129 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-600 {
            --tw-border-opacity: 1;
            border-color: rgb(5 150 105 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-700 {
            --tw-border-opacity: 1;
            border-color: rgb(4 120 87 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-800 {
            --tw-border-opacity: 1;
            border-color: rgb(6 95 70 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-emerald-900 {
            --tw-border-opacity: 1;
            border-color: rgb(6 78 59 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-100 {
            --tw-border-opacity: 1;
            border-color: rgb(250 232 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-200 {
            --tw-border-opacity: 1;
            border-color: rgb(245 208 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-300 {
            --tw-border-opacity: 1;
            border-color: rgb(240 171 252 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-400 {
            --tw-border-opacity: 1;
            border-color: rgb(232 121 249 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-50 {
            --tw-border-opacity: 1;
            border-color: rgb(253 244 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-500 {
            --tw-border-opacity: 1;
            border-color: rgb(217 70 239 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-600 {
            --tw-border-opacity: 1;
            border-color: rgb(192 38 211 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-700 {
            --tw-border-opacity: 1;
            border-color: rgb(162 28 175 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-800 {
            --tw-border-opacity: 1;
            border-color: rgb(134 25 143 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-fuchsia-900 {
            --tw-border-opacity: 1;
            border-color: rgb(112 26 117 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-100 {
            --tw-border-opacity: 1;
            border-color: rgb(243 244 246 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-200 {
            --tw-border-opacity: 1;
            border-color: rgb(229 231 235 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-300 {
            --tw-border-opacity: 1;
            border-color: rgb(209 213 219 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-400 {
            --tw-border-opacity: 1;
            border-color: rgb(156 163 175 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-50 {
            --tw-border-opacity: 1;
            border-color: rgb(249 250 251 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-500 {
            --tw-border-opacity: 1;
            border-color: rgb(107 114 128 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-600 {
            --tw-border-opacity: 1;
            border-color: rgb(75 85 99 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-700 {
            --tw-border-opacity: 1;
            border-color: rgb(55 65 81 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-800 {
            --tw-border-opacity: 1;
            border-color: rgb(31 41 55 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-gray-900 {
            --tw-border-opacity: 1;
            border-color: rgb(17 24 39 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-100 {
            --tw-border-opacity: 1;
            border-color: rgb(220 252 231 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-200 {
            --tw-border-opacity: 1;
            border-color: rgb(187 247 208 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-300 {
            --tw-border-opacity: 1;
            border-color: rgb(134 239 172 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-400 {
            --tw-border-opacity: 1;
            border-color: rgb(74 222 128 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-50 {
            --tw-border-opacity: 1;
            border-color: rgb(240 253 244 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-500 {
            --tw-border-opacity: 1;
            border-color: rgb(34 197 94 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-600 {
            --tw-border-opacity: 1;
            border-color: rgb(22 163 74 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-700 {
            --tw-border-opacity: 1;
            border-color: rgb(21 128 61 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-800 {
            --tw-border-opacity: 1;
            border-color: rgb(22 101 52 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-green-900 {
            --tw-border-opacity: 1;
            border-color: rgb(20 83 45 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-100 {
            --tw-border-opacity: 1;
            border-color: rgb(224 231 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-200 {
            --tw-border-opacity: 1;
            border-color: rgb(199 210 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-300 {
            --tw-border-opacity: 1;
            border-color: rgb(165 180 252 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-400 {
            --tw-border-opacity: 1;
            border-color: rgb(129 140 248 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-50 {
            --tw-border-opacity: 1;
            border-color: rgb(238 242 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-500 {
            --tw-border-opacity: 1;
            border-color: rgb(99 102 241 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-600 {
            --tw-border-opacity: 1;
            border-color: rgb(79 70 229 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-700 {
            --tw-border-opacity: 1;
            border-color: rgb(67 56 202 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-800 {
            --tw-border-opacity: 1;
            border-color: rgb(55 48 163 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-indigo-900 {
            --tw-border-opacity: 1;
            border-color: rgb(49 46 129 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-100 {
            --tw-border-opacity: 1;
            border-color: rgb(255 237 213 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 215 170 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-300 {
            --tw-border-opacity: 1;
            border-color: rgb(253 186 116 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-400 {
            --tw-border-opacity: 1;
            border-color: rgb(251 146 60 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-50 {
            --tw-border-opacity: 1;
            border-color: rgb(255 247 237 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-500 {
            --tw-border-opacity: 1;
            border-color: rgb(249 115 22 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-600 {
            --tw-border-opacity: 1;
            border-color: rgb(234 88 12 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-700 {
            --tw-border-opacity: 1;
            border-color: rgb(194 65 12 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-800 {
            --tw-border-opacity: 1;
            border-color: rgb(154 52 18 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-orange-900 {
            --tw-border-opacity: 1;
            border-color: rgb(124 45 18 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-100 {
            --tw-border-opacity: 1;
            border-color: rgb(252 231 243 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-200 {
            --tw-border-opacity: 1;
            border-color: rgb(251 207 232 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-300 {
            --tw-border-opacity: 1;
            border-color: rgb(249 168 212 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-400 {
            --tw-border-opacity: 1;
            border-color: rgb(244 114 182 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-50 {
            --tw-border-opacity: 1;
            border-color: rgb(253 242 248 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-500 {
            --tw-border-opacity: 1;
            border-color: rgb(236 72 153 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-600 {
            --tw-border-opacity: 1;
            border-color: rgb(219 39 119 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-700 {
            --tw-border-opacity: 1;
            border-color: rgb(190 24 93 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-800 {
            --tw-border-opacity: 1;
            border-color: rgb(157 23 77 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-pink-900 {
            --tw-border-opacity: 1;
            border-color: rgb(131 24 67 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-100 {
            --tw-border-opacity: 1;
            border-color: rgb(243 232 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-200 {
            --tw-border-opacity: 1;
            border-color: rgb(233 213 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-300 {
            --tw-border-opacity: 1;
            border-color: rgb(216 180 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-400 {
            --tw-border-opacity: 1;
            border-color: rgb(192 132 252 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-50 {
            --tw-border-opacity: 1;
            border-color: rgb(250 245 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-500 {
            --tw-border-opacity: 1;
            border-color: rgb(168 85 247 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-600 {
            --tw-border-opacity: 1;
            border-color: rgb(147 51 234 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-700 {
            --tw-border-opacity: 1;
            border-color: rgb(126 34 206 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-800 {
            --tw-border-opacity: 1;
            border-color: rgb(107 33 168 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-purple-900 {
            --tw-border-opacity: 1;
            border-color: rgb(88 28 135 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-100 {
            --tw-border-opacity: 1;
            border-color: rgb(254 226 226 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 202 202 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-300 {
            --tw-border-opacity: 1;
            border-color: rgb(252 165 165 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-400 {
            --tw-border-opacity: 1;
            border-color: rgb(248 113 113 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-50 {
            --tw-border-opacity: 1;
            border-color: rgb(254 242 242 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-500 {
            --tw-border-opacity: 1;
            border-color: rgb(239 68 68 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-600 {
            --tw-border-opacity: 1;
            border-color: rgb(220 38 38 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-700 {
            --tw-border-opacity: 1;
            border-color: rgb(185 28 28 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-800 {
            --tw-border-opacity: 1;
            border-color: rgb(153 27 27 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-red-900 {
            --tw-border-opacity: 1;
            border-color: rgb(127 29 29 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-100 {
            --tw-border-opacity: 1;
            border-color: rgb(255 228 230 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 205 211 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-300 {
            --tw-border-opacity: 1;
            border-color: rgb(253 164 175 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-400 {
            --tw-border-opacity: 1;
            border-color: rgb(251 113 133 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-50 {
            --tw-border-opacity: 1;
            border-color: rgb(255 241 242 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-500 {
            --tw-border-opacity: 1;
            border-color: rgb(244 63 94 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-600 {
            --tw-border-opacity: 1;
            border-color: rgb(225 29 72 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-700 {
            --tw-border-opacity: 1;
            border-color: rgb(190 18 60 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-800 {
            --tw-border-opacity: 1;
            border-color: rgb(159 18 57 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-rose-900 {
            --tw-border-opacity: 1;
            border-color: rgb(136 19 55 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-100 {
            --tw-border-opacity: 1;
            border-color: rgb(224 242 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-200 {
            --tw-border-opacity: 1;
            border-color: rgb(186 230 253 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-300 {
            --tw-border-opacity: 1;
            border-color: rgb(125 211 252 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-400 {
            --tw-border-opacity: 1;
            border-color: rgb(56 189 248 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-50 {
            --tw-border-opacity: 1;
            border-color: rgb(240 249 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-500 {
            --tw-border-opacity: 1;
            border-color: rgb(14 165 233 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-600 {
            --tw-border-opacity: 1;
            border-color: rgb(2 132 199 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-700 {
            --tw-border-opacity: 1;
            border-color: rgb(3 105 161 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-800 {
            --tw-border-opacity: 1;
            border-color: rgb(7 89 133 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-sky-900 {
            --tw-border-opacity: 1;
            border-color: rgb(12 74 110 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-100 {
            --tw-border-opacity: 1;
            border-color: rgb(204 251 241 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-200 {
            --tw-border-opacity: 1;
            border-color: rgb(153 246 228 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-300 {
            --tw-border-opacity: 1;
            border-color: rgb(94 234 212 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-400 {
            --tw-border-opacity: 1;
            border-color: rgb(45 212 191 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-50 {
            --tw-border-opacity: 1;
            border-color: rgb(240 253 250 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-500 {
            --tw-border-opacity: 1;
            border-color: rgb(20 184 166 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-600 {
            --tw-border-opacity: 1;
            border-color: rgb(13 148 136 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-700 {
            --tw-border-opacity: 1;
            border-color: rgb(15 118 110 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-800 {
            --tw-border-opacity: 1;
            border-color: rgb(17 94 89 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-teal-900 {
            --tw-border-opacity: 1;
            border-color: rgb(19 78 74 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-100 {
            --tw-border-opacity: 1;
            border-color: rgb(237 233 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-200 {
            --tw-border-opacity: 1;
            border-color: rgb(221 214 254 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-300 {
            --tw-border-opacity: 1;
            border-color: rgb(196 181 253 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-400 {
            --tw-border-opacity: 1;
            border-color: rgb(167 139 250 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-50 {
            --tw-border-opacity: 1;
            border-color: rgb(245 243 255 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-500 {
            --tw-border-opacity: 1;
            border-color: rgb(139 92 246 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-600 {
            --tw-border-opacity: 1;
            border-color: rgb(124 58 237 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-700 {
            --tw-border-opacity: 1;
            border-color: rgb(109 40 217 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-800 {
            --tw-border-opacity: 1;
            border-color: rgb(91 33 182 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-violet-900 {
            --tw-border-opacity: 1;
            border-color: rgb(76 29 149 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-100 {
            --tw-border-opacity: 1;
            border-color: rgb(254 249 195 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 240 138 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-300 {
            --tw-border-opacity: 1;
            border-color: rgb(253 224 71 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-400 {
            --tw-border-opacity: 1;
            border-color: rgb(250 204 21 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-50 {
            --tw-border-opacity: 1;
            border-color: rgb(254 252 232 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-500 {
            --tw-border-opacity: 1;
            border-color: rgb(234 179 8 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-600 {
            --tw-border-opacity: 1;
            border-color: rgb(202 138 4 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-700 {
            --tw-border-opacity: 1;
            border-color: rgb(161 98 7 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-800 {
            --tw-border-opacity: 1;
            border-color: rgb(133 77 14 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:border-yellow-900 {
            --tw-border-opacity: 1;
            border-color: rgb(113 63 18 / var(--tw-border-opacity));
        }

        .group:hover .group-hover\:bg-amber-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 243 199 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 230 138 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(252 211 77 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 191 36 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 251 235 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 158 11 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(217 119 6 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(180 83 9 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(146 64 14 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-amber-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(120 53 15 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(191 219 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(147 197 253 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(96 165 250 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(30 64 175 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-blue-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(30 58 138 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(207 250 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(165 243 252 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(103 232 249 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 211 238 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 254 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(6 182 212 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(8 145 178 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(14 116 144 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(21 94 117 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-cyan-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 78 99 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(209 250 229 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(167 243 208 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(110 231 183 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(52 211 153 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 253 245 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(16 185 129 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(5 150 105 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(4 120 87 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(6 95 70 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-emerald-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(6 78 59 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 232 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 208 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 171 252 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(232 121 249 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 244 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(217 70 239 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(192 38 211 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(162 28 175 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(134 25 143 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-fuchsia-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(112 26 117 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(243 244 246 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(229 231 235 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(209 213 219 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(156 163 175 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(107 114 128 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(75 85 99 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(55 65 81 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(31 41 55 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-gray-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(17 24 39 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(220 252 231 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(187 247 208 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(134 239 172 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(74 222 128 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 244 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 163 74 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(21 128 61 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 101 52 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-green-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(20 83 45 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(224 231 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(199 210 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(165 180 252 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(129 140 248 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(238 242 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(99 102 241 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(79 70 229 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(67 56 202 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(55 48 163 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-indigo-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(49 46 129 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 237 213 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 215 170 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 186 116 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 146 60 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 247 237 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 115 22 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(234 88 12 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(194 65 12 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(154 52 18 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-orange-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(124 45 18 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(252 231 243 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 207 232 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 168 212 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(244 114 182 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 242 248 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(236 72 153 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 39 119 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(190 24 93 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(157 23 77 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-pink-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(131 24 67 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(243 232 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(233 213 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(216 180 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(192 132 252 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 245 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(168 85 247 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(147 51 234 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(126 34 206 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(107 33 168 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-purple-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(88 28 135 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 226 226 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 202 202 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(252 165 165 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(248 113 113 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 242 242 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 68 68 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(220 38 38 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(185 28 28 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(153 27 27 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-red-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(127 29 29 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 228 230 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 205 211 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 164 175 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(251 113 133 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(255 241 242 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(244 63 94 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(225 29 72 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(190 18 60 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(159 18 57 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-rose-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(136 19 55 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(224 242 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(186 230 253 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(125 211 252 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(56 189 248 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 249 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(14 165 233 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(2 132 199 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(3 105 161 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(7 89 133 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-sky-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(12 74 110 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(204 251 241 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(153 246 228 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(94 234 212 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(45 212 191 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 250 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(20 184 166 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(13 148 136 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(15 118 110 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(17 94 89 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-teal-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(19 78 74 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(237 233 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(221 214 254 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(196 181 253 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(167 139 250 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(245 243 255 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(139 92 246 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(124 58 237 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(109 40 217 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(91 33 182 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-violet-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(76 29 149 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 249 195 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 240 138 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-300 {
            --tw-bg-opacity: 1;
            background-color: rgb(253 224 71 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(250 204 21 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 252 232 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(234 179 8 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(202 138 4 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-700 {
            --tw-bg-opacity: 1;
            background-color: rgb(161 98 7 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(133 77 14 / var(--tw-bg-opacity));
        }

        .group:hover .group-hover\:bg-yellow-900 {
            --tw-bg-opacity: 1;
            background-color: rgb(113 63 18 / var(--tw-bg-opacity));
        }

        .group\/card:hover .group-hover\/card\:text-brand-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-100 {
            --tw-text-opacity: 1;
            color: rgb(254 243 199 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-200 {
            --tw-text-opacity: 1;
            color: rgb(253 230 138 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-300 {
            --tw-text-opacity: 1;
            color: rgb(252 211 77 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-400 {
            --tw-text-opacity: 1;
            color: rgb(251 191 36 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-50 {
            --tw-text-opacity: 1;
            color: rgb(255 251 235 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-500 {
            --tw-text-opacity: 1;
            color: rgb(245 158 11 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-600 {
            --tw-text-opacity: 1;
            color: rgb(217 119 6 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-700 {
            --tw-text-opacity: 1;
            color: rgb(180 83 9 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-800 {
            --tw-text-opacity: 1;
            color: rgb(146 64 14 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-amber-900 {
            --tw-text-opacity: 1;
            color: rgb(120 53 15 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-100 {
            --tw-text-opacity: 1;
            color: rgb(219 234 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-200 {
            --tw-text-opacity: 1;
            color: rgb(191 219 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-300 {
            --tw-text-opacity: 1;
            color: rgb(147 197 253 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-400 {
            --tw-text-opacity: 1;
            color: rgb(96 165 250 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-50 {
            --tw-text-opacity: 1;
            color: rgb(239 246 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-500 {
            --tw-text-opacity: 1;
            color: rgb(59 130 246 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-700 {
            --tw-text-opacity: 1;
            color: rgb(29 78 216 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-800 {
            --tw-text-opacity: 1;
            color: rgb(30 64 175 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-blue-900 {
            --tw-text-opacity: 1;
            color: rgb(30 58 138 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-brand-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-100 {
            --tw-text-opacity: 1;
            color: rgb(207 250 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-200 {
            --tw-text-opacity: 1;
            color: rgb(165 243 252 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-300 {
            --tw-text-opacity: 1;
            color: rgb(103 232 249 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-400 {
            --tw-text-opacity: 1;
            color: rgb(34 211 238 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-50 {
            --tw-text-opacity: 1;
            color: rgb(236 254 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-500 {
            --tw-text-opacity: 1;
            color: rgb(6 182 212 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-600 {
            --tw-text-opacity: 1;
            color: rgb(8 145 178 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-700 {
            --tw-text-opacity: 1;
            color: rgb(14 116 144 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-800 {
            --tw-text-opacity: 1;
            color: rgb(21 94 117 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-cyan-900 {
            --tw-text-opacity: 1;
            color: rgb(22 78 99 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-100 {
            --tw-text-opacity: 1;
            color: rgb(209 250 229 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-200 {
            --tw-text-opacity: 1;
            color: rgb(167 243 208 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-300 {
            --tw-text-opacity: 1;
            color: rgb(110 231 183 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-400 {
            --tw-text-opacity: 1;
            color: rgb(52 211 153 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-50 {
            --tw-text-opacity: 1;
            color: rgb(236 253 245 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-500 {
            --tw-text-opacity: 1;
            color: rgb(16 185 129 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-600 {
            --tw-text-opacity: 1;
            color: rgb(5 150 105 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-700 {
            --tw-text-opacity: 1;
            color: rgb(4 120 87 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-800 {
            --tw-text-opacity: 1;
            color: rgb(6 95 70 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-emerald-900 {
            --tw-text-opacity: 1;
            color: rgb(6 78 59 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-100 {
            --tw-text-opacity: 1;
            color: rgb(250 232 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-200 {
            --tw-text-opacity: 1;
            color: rgb(245 208 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-300 {
            --tw-text-opacity: 1;
            color: rgb(240 171 252 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-400 {
            --tw-text-opacity: 1;
            color: rgb(232 121 249 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-50 {
            --tw-text-opacity: 1;
            color: rgb(253 244 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-500 {
            --tw-text-opacity: 1;
            color: rgb(217 70 239 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-600 {
            --tw-text-opacity: 1;
            color: rgb(192 38 211 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-700 {
            --tw-text-opacity: 1;
            color: rgb(162 28 175 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-800 {
            --tw-text-opacity: 1;
            color: rgb(134 25 143 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-fuchsia-900 {
            --tw-text-opacity: 1;
            color: rgb(112 26 117 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-100 {
            --tw-text-opacity: 1;
            color: rgb(243 244 246 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-200 {
            --tw-text-opacity: 1;
            color: rgb(229 231 235 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-300 {
            --tw-text-opacity: 1;
            color: rgb(209 213 219 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-400 {
            --tw-text-opacity: 1;
            color: rgb(156 163 175 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-50 {
            --tw-text-opacity: 1;
            color: rgb(249 250 251 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-500 {
            --tw-text-opacity: 1;
            color: rgb(107 114 128 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-600 {
            --tw-text-opacity: 1;
            color: rgb(75 85 99 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-700 {
            --tw-text-opacity: 1;
            color: rgb(55 65 81 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-800 {
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-gray-900 {
            --tw-text-opacity: 1;
            color: rgb(17 24 39 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-100 {
            --tw-text-opacity: 1;
            color: rgb(220 252 231 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-200 {
            --tw-text-opacity: 1;
            color: rgb(187 247 208 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-300 {
            --tw-text-opacity: 1;
            color: rgb(134 239 172 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-400 {
            --tw-text-opacity: 1;
            color: rgb(74 222 128 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-50 {
            --tw-text-opacity: 1;
            color: rgb(240 253 244 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-500 {
            --tw-text-opacity: 1;
            color: rgb(34 197 94 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-600 {
            --tw-text-opacity: 1;
            color: rgb(22 163 74 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-700 {
            --tw-text-opacity: 1;
            color: rgb(21 128 61 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-800 {
            --tw-text-opacity: 1;
            color: rgb(22 101 52 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-green-900 {
            --tw-text-opacity: 1;
            color: rgb(20 83 45 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-100 {
            --tw-text-opacity: 1;
            color: rgb(224 231 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-200 {
            --tw-text-opacity: 1;
            color: rgb(199 210 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-300 {
            --tw-text-opacity: 1;
            color: rgb(165 180 252 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-400 {
            --tw-text-opacity: 1;
            color: rgb(129 140 248 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-50 {
            --tw-text-opacity: 1;
            color: rgb(238 242 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-500 {
            --tw-text-opacity: 1;
            color: rgb(99 102 241 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-600 {
            --tw-text-opacity: 1;
            color: rgb(79 70 229 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-700 {
            --tw-text-opacity: 1;
            color: rgb(67 56 202 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-800 {
            --tw-text-opacity: 1;
            color: rgb(55 48 163 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-indigo-900 {
            --tw-text-opacity: 1;
            color: rgb(49 46 129 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-100 {
            --tw-text-opacity: 1;
            color: rgb(255 237 213 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-200 {
            --tw-text-opacity: 1;
            color: rgb(254 215 170 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-300 {
            --tw-text-opacity: 1;
            color: rgb(253 186 116 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-400 {
            --tw-text-opacity: 1;
            color: rgb(251 146 60 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-50 {
            --tw-text-opacity: 1;
            color: rgb(255 247 237 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-500 {
            --tw-text-opacity: 1;
            color: rgb(249 115 22 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-600 {
            --tw-text-opacity: 1;
            color: rgb(234 88 12 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-700 {
            --tw-text-opacity: 1;
            color: rgb(194 65 12 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-800 {
            --tw-text-opacity: 1;
            color: rgb(154 52 18 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-orange-900 {
            --tw-text-opacity: 1;
            color: rgb(124 45 18 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-100 {
            --tw-text-opacity: 1;
            color: rgb(252 231 243 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-200 {
            --tw-text-opacity: 1;
            color: rgb(251 207 232 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-300 {
            --tw-text-opacity: 1;
            color: rgb(249 168 212 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-400 {
            --tw-text-opacity: 1;
            color: rgb(244 114 182 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-50 {
            --tw-text-opacity: 1;
            color: rgb(253 242 248 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-500 {
            --tw-text-opacity: 1;
            color: rgb(236 72 153 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-600 {
            --tw-text-opacity: 1;
            color: rgb(219 39 119 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-700 {
            --tw-text-opacity: 1;
            color: rgb(190 24 93 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-800 {
            --tw-text-opacity: 1;
            color: rgb(157 23 77 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-pink-900 {
            --tw-text-opacity: 1;
            color: rgb(131 24 67 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-100 {
            --tw-text-opacity: 1;
            color: rgb(243 232 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-200 {
            --tw-text-opacity: 1;
            color: rgb(233 213 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-300 {
            --tw-text-opacity: 1;
            color: rgb(216 180 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-400 {
            --tw-text-opacity: 1;
            color: rgb(192 132 252 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-50 {
            --tw-text-opacity: 1;
            color: rgb(250 245 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-500 {
            --tw-text-opacity: 1;
            color: rgb(168 85 247 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-600 {
            --tw-text-opacity: 1;
            color: rgb(147 51 234 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-700 {
            --tw-text-opacity: 1;
            color: rgb(126 34 206 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-800 {
            --tw-text-opacity: 1;
            color: rgb(107 33 168 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-purple-900 {
            --tw-text-opacity: 1;
            color: rgb(88 28 135 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-100 {
            --tw-text-opacity: 1;
            color: rgb(254 226 226 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-200 {
            --tw-text-opacity: 1;
            color: rgb(254 202 202 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-300 {
            --tw-text-opacity: 1;
            color: rgb(252 165 165 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-400 {
            --tw-text-opacity: 1;
            color: rgb(248 113 113 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-50 {
            --tw-text-opacity: 1;
            color: rgb(254 242 242 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-500 {
            --tw-text-opacity: 1;
            color: rgb(239 68 68 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-600 {
            --tw-text-opacity: 1;
            color: rgb(220 38 38 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-700 {
            --tw-text-opacity: 1;
            color: rgb(185 28 28 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-800 {
            --tw-text-opacity: 1;
            color: rgb(153 27 27 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-red-900 {
            --tw-text-opacity: 1;
            color: rgb(127 29 29 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-100 {
            --tw-text-opacity: 1;
            color: rgb(255 228 230 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-200 {
            --tw-text-opacity: 1;
            color: rgb(254 205 211 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-300 {
            --tw-text-opacity: 1;
            color: rgb(253 164 175 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-400 {
            --tw-text-opacity: 1;
            color: rgb(251 113 133 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-50 {
            --tw-text-opacity: 1;
            color: rgb(255 241 242 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-500 {
            --tw-text-opacity: 1;
            color: rgb(244 63 94 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-600 {
            --tw-text-opacity: 1;
            color: rgb(225 29 72 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-700 {
            --tw-text-opacity: 1;
            color: rgb(190 18 60 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-800 {
            --tw-text-opacity: 1;
            color: rgb(159 18 57 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-rose-900 {
            --tw-text-opacity: 1;
            color: rgb(136 19 55 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-100 {
            --tw-text-opacity: 1;
            color: rgb(224 242 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-200 {
            --tw-text-opacity: 1;
            color: rgb(186 230 253 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-300 {
            --tw-text-opacity: 1;
            color: rgb(125 211 252 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-400 {
            --tw-text-opacity: 1;
            color: rgb(56 189 248 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-50 {
            --tw-text-opacity: 1;
            color: rgb(240 249 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-500 {
            --tw-text-opacity: 1;
            color: rgb(14 165 233 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-600 {
            --tw-text-opacity: 1;
            color: rgb(2 132 199 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-700 {
            --tw-text-opacity: 1;
            color: rgb(3 105 161 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-800 {
            --tw-text-opacity: 1;
            color: rgb(7 89 133 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-sky-900 {
            --tw-text-opacity: 1;
            color: rgb(12 74 110 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-100 {
            --tw-text-opacity: 1;
            color: rgb(204 251 241 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-200 {
            --tw-text-opacity: 1;
            color: rgb(153 246 228 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-300 {
            --tw-text-opacity: 1;
            color: rgb(94 234 212 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-400 {
            --tw-text-opacity: 1;
            color: rgb(45 212 191 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-50 {
            --tw-text-opacity: 1;
            color: rgb(240 253 250 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-500 {
            --tw-text-opacity: 1;
            color: rgb(20 184 166 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-600 {
            --tw-text-opacity: 1;
            color: rgb(13 148 136 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-700 {
            --tw-text-opacity: 1;
            color: rgb(15 118 110 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-800 {
            --tw-text-opacity: 1;
            color: rgb(17 94 89 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-teal-900 {
            --tw-text-opacity: 1;
            color: rgb(19 78 74 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-100 {
            --tw-text-opacity: 1;
            color: rgb(237 233 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-200 {
            --tw-text-opacity: 1;
            color: rgb(221 214 254 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-300 {
            --tw-text-opacity: 1;
            color: rgb(196 181 253 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-400 {
            --tw-text-opacity: 1;
            color: rgb(167 139 250 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-50 {
            --tw-text-opacity: 1;
            color: rgb(245 243 255 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-500 {
            --tw-text-opacity: 1;
            color: rgb(139 92 246 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-600 {
            --tw-text-opacity: 1;
            color: rgb(124 58 237 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-700 {
            --tw-text-opacity: 1;
            color: rgb(109 40 217 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-800 {
            --tw-text-opacity: 1;
            color: rgb(91 33 182 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-violet-900 {
            --tw-text-opacity: 1;
            color: rgb(76 29 149 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-100 {
            --tw-text-opacity: 1;
            color: rgb(254 249 195 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-200 {
            --tw-text-opacity: 1;
            color: rgb(254 240 138 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-300 {
            --tw-text-opacity: 1;
            color: rgb(253 224 71 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-400 {
            --tw-text-opacity: 1;
            color: rgb(250 204 21 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-50 {
            --tw-text-opacity: 1;
            color: rgb(254 252 232 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-500 {
            --tw-text-opacity: 1;
            color: rgb(234 179 8 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-600 {
            --tw-text-opacity: 1;
            color: rgb(202 138 4 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-700 {
            --tw-text-opacity: 1;
            color: rgb(161 98 7 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-800 {
            --tw-text-opacity: 1;
            color: rgb(133 77 14 / var(--tw-text-opacity));
        }

        .group:hover .group-hover\:text-yellow-900 {
            --tw-text-opacity: 1;
            color: rgb(113 63 18 / var(--tw-text-opacity));
        }

        .group\/editname:hover .group-hover\/editname\:opacity-100 {
            opacity: 1;
        }

        .group\/menu:hover .group-hover\/menu\:opacity-100 {
            opacity: 1;
        }

        .group:hover .group-hover\:opacity-100 {
            opacity: 1;
        }

        .group:hover .group-hover\:brightness-90 {
            --tw-brightness: brightness(.9);
            filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
        }

        .group\/menu:hover .group-hover\/menu\:delay-0 {
            transition-delay: 0s;
        }

        .group.active .group-\[\.active\]\:text-brand-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity));
        }

        .group.active .group-\[\.active\]\:ring-brand-600 {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity));
        }

        .peer:checked~.peer-checked\:border-brand-600 {
            --tw-border-opacity: 1;
            border-color: rgb(37 99 235 / var(--tw-border-opacity));
        }

        .peer:checked~.peer-checked\:bg-brand-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246 / var(--tw-bg-opacity));
        }

        .peer:checked~.peer-checked\:bg-brand-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity));
        }

        .peer:checked~.peer-checked\:text-white {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity));
        }

        .peer:checked~.peer-checked\:after\:translate-x-full::after {
            content: var(--tw-content);
            --tw-translate-x: 100%;
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
        }

        .peer:checked~.peer-checked\:after\:border-white::after {
            content: var(--tw-content);
            --tw-border-opacity: 1;
            border-color: rgb(255 255 255 / var(--tw-border-opacity));
        }

        .peer:focus~.peer-focus\:outline-none {
            outline: 2px solid transparent;
            outline-offset: 2px;
        }

        .peer:focus~.peer-focus\:ring-4 {
            --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
            --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);
            box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
        }

        @media (min-width: 768px) {
            .md\:left-auto {
                left: auto;
            }

            .md\:right-6 {
                right: 1.5rem;
            }

            .md\:top-6 {
                top: 1.5rem;
            }

            .md\:col-span-1 {
                grid-column: span 1 / span 1;
            }

            .md\:col-span-4 {
                grid-column: span 4 / span 4;
            }

            .md\:my-4 {
                margin-top: 1rem;
                margin-bottom: 1rem;
            }

            .md\:mb-4 {
                margin-bottom: 1rem;
            }

            .md\:flex {
                display: flex;
            }

            .md\:hidden {
                display: none;
            }

            .md\:h-32 {
                height: 8rem;
            }

            .md\:w-32 {
                width: 8rem;
            }

            .md\:w-64 {
                width: 16rem;
            }

            .md\:w-\[90\%\] {
                width: 90%;
            }

            .md\:w-auto {
                width: auto;
            }

            .md\:max-w-6xl {
                max-width: 72rem;
            }

            .md\:translate-x-0 {
                --tw-translate-x: 0px;
                transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
            }

            .md\:translate-y-0 {
                --tw-translate-y: 0px;
                transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
            }

            .md\:translate-y-10 {
                --tw-translate-y: 2.5rem;
                transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
            }

            .md\:grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            .md\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }

            .md\:grid-cols-4 {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }

            .md\:flex-row {
                flex-direction: row;
            }

            .md\:items-end {
                align-items: flex-end;
            }

            .md\:items-center {
                align-items: center;
            }

            .md\:rounded-2xl {
                border-radius: 1rem;
            }

            .md\:rounded-3xl {
                border-radius: 1.5rem;
            }

            .md\:border {
                border-width: 1px;
            }

            .md\:border-gray-100 {
                --tw-border-opacity: 1;
                border-color: rgb(243 244 246 / var(--tw-border-opacity));
            }

            .md\:bg-surface {
                --tw-bg-opacity: 1;
                background-color: rgb(248 250 252 / var(--tw-bg-opacity));
            }

            .md\:p-10 {
                padding: 2.5rem;
            }

            .md\:px-0 {
                padding-left: 0px;
                padding-right: 0px;
            }

            .md\:px-8 {
                padding-left: 2rem;
                padding-right: 2rem;
            }

            .md\:pb-0 {
                padding-bottom: 0px;
            }

            .md\:pb-8 {
                padding-bottom: 2rem;
            }

            .md\:pt-8 {
                padding-top: 2rem;
            }

            .md\:text-3xl {
                font-size: 1.875rem;
                line-height: 2.25rem;
            }

            .md\:text-4xl {
                font-size: 2.25rem;
                line-height: 2.5rem;
            }

            .md\:shadow-sm {
                --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
                --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
                box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
            }

            .md\:shadow-xl {
                --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
                --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
                box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
            }
        }

        @media (min-width: 1024px) {
            .lg\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }
    </style>

    <style>
        /* Custom Scrollbar */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Desktop Scrollbar Styling */
        @media (min-width: 768px) {
            .custom-scroll::-webkit-scrollbar {
                width: 6px;
            }

            .custom-scroll::-webkit-scrollbar-track {
                background: transparent;
            }

            .custom-scroll::-webkit-scrollbar-thumb {
                background-color: #cbd5e1;
                border-radius: 20px;
            }
        }

        .input-field {
            /* High visibility borders as requested - Fixed for browser compatibility */
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            background-color: #f9fafb;
            border: 2px solid #9ca3af;
            outline: none;
            transition: all 0.2s;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .input-field:focus {
            background-color: #ffffff;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px #dbeafe;
        }

        /* Custom Dropdown Styling (Chevron) */
        select.input-field {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Dynamic Classes for Dev Mode Customization */
        .app-opaque-bg {
            background-color: #f8fafc !important;
            /* Force opaque surface */
            background-image: none !important;
        }

        .like-active {
            color: #ef4444;
            fill: currentColor;
            animation: likeBounce 0.3s forwards;
        }

        /* Slider Styling */
        input[type=range] {
            accent-color: #22c55e;
        }

        /* Loader Overlay */
        #global-loader {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
        }

        /* Rich Text Editor Typography Restores */
        .prose ul {
            list-style-type: disc !important;
            padding-left: 1.5rem !important;
            margin-top: 0.5rem !important;
            margin-bottom: 0.5rem !important;
        }

        .prose ol {
            list-style-type: decimal !important;
            padding-left: 1.5rem !important;
            margin-top: 0.5rem !important;
            margin-bottom: 0.5rem !important;
        }

        .prose li {
            margin-top: 0.25rem !important;
            margin-bottom: 0.25rem !important;
        }
    </style>

    <!-- Preconnects for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com">

    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>

<body id="body-root"
    class="bg-surface text-gray-800 font-sans antialiased h-[100dvh] w-screen overflow-hidden selection:bg-brand-100 selection:text-brand-900 transition-colors duration-300">

    <!-- GLOBAL LOADER -->
    <div id="global-loader" class="fixed inset-0 z-[100] hidden flex-col items-center justify-center">
        <div class="w-12 h-12 border-4 border-brand-200 border-t-brand-600 rounded-full animate-spin"></div>
        <p class="mt-4 text-sm font-bold text-brand-600 animate-pulse">Connecting to Database...</p>
    </div>

    <!-- APP SHELL -->
    <div id="app" class="flex h-full w-full overflow-hidden">

        <!-- SIDEBAR (Desktop Only) -->
        <aside id="sidebar"
            class="hidden w-72 flex-col bg-white border-r border-gray-200 h-full z-30 transition-all duration-300">
            <div class="p-6 border-b border-gray-100">
                <div class="flex items-center gap-3">
                    <div id="sidebar-logo-container"
                        class="w-10 h-10 bg-brand-600 rounded-full flex items-center justify-center text-white shadow-lg shadow-brand-200 overflow-hidden">
                        <i id="sidebar-logo-icon" class="ph-fill ph-student text-xl"></i>
                        <img id="sidebar-logo-img" src="" class="w-full h-full object-cover hidden">
                    </div>
                    <div>
                        <h1 id="app-name-sidebar" class="font-bold text-gray-900 leading-tight">School Portal</h1>
                        <p class="text-xs text-gray-500 font-medium">School Portal</p>
                    </div>
                </div>
            </div>

            <div class="flex-1 py-6 px-4 space-y-2 overflow-y-auto">
                <button onclick="App.router('home')"
                    class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="home" data-tooltip="View School Announcements">
                    <i class="ph ph-house text-xl"></i>
                    <span class="font-medium">Bulletin Board</span>
                </button>
                <button onclick="App.router('groups')"
                    class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="groups" data-tooltip="Access Department Chat & Groups">
                    <i class="ph ph-users-three text-xl"></i>
                    <span class="font-medium">My Department</span>
                </button>
                <!-- [ADDED] Directory Sidebar Button -->
                <button onclick="App.router('directory')"
                    class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="directory" data-tooltip="Search for Personnel">
                    <i class="ph ph-address-book text-xl"></i>
                    <span class="font-medium">Directory</span>
                </button>
                <button onclick="App.router('reports')"
                    class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="reports" data-tooltip="Submit & View Analytics">
                    <i class="ph ph-chart-pie-slice text-xl"></i>
                    <span class="font-medium">Reports & Analytics</span>
                </button>
                <!-- DRRM SIDEBAR BUTTON -->
                <button id="nav-sidebar-drrm" onclick="App.router('drrm')"
                    class="sidebar-btn hidden w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="drrm" data-tooltip="Disaster Risk Reduction Management">
                    <i class="ph ph-siren text-xl"></i>
                    <span class="font-medium">DRRM Corner</span>
                </button>
                <button onclick="App.router('profile')"
                    class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="profile" data-tooltip="Manage Your Account">
                    <i class="ph ph-user text-xl"></i>
                    <span class="font-medium">My Profile</span>
                </button>
                <!-- [ADDED] User Guide Button -->
                <button onclick="App.renderUserGuide()"
                    class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-500 hover:bg-gray-50 hover:text-brand-600 transition-colors"
                    data-target="guide" data-tooltip="Open the System User Guide">
                    <i class="ph ph-book-open text-xl"></i>
                    <span class="font-medium">User Guide</span>
                </button>
            </div>

            <div class="p-4 border-t border-gray-100">
                <div class="flex items-center gap-3 p-3 rounded-xl bg-gray-50 mb-3">
                    <img id="sidebar-avatar" src="" class="w-10 h-10 rounded-full bg-gray-200 object-cover">
                    <div class="flex-1 min-w-0">
                        <p id="sidebar-name" class="text-sm font-bold text-gray-900 truncate">User Name</p>
                        <p id="sidebar-role" class="text-xs text-gray-500 truncate">Faculty</p>
                    </div>
                </div>
                <button onclick="App.logout()"
                    class="w-full flex items-center justify-center gap-2 text-red-500 text-sm font-medium py-2 hover:bg-red-50 rounded-lg transition-colors mb-4">
                    <i class="ph ph-sign-out"></i> Sign Out
                </button>
                <div class="text-center">
                    <p class="text-[10px] text-gray-400 font-medium">School Portal v2.9.5</p>
                    <p class="text-[9px] text-gray-300 mt-0.5">Developed by Rion</p>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT COLUMN -->
        <div class="flex-1 flex flex-col h-full relative min-w-0">

            <!-- MOBILE HEADER (Portrait Only) -->
            <header id="mobile-header"
                class="hidden md:hidden glass absolute top-0 left-0 right-0 z-40 px-5 py-4 flex justify-between items-center border-b border-gray-100">
                <h1 class="text-lg font-bold text-brand-900 tracking-tight flex items-center gap-2 truncate">
                    <div id="mobile-logo-container"
                        class="w-8 h-8 rounded-full overflow-hidden flex items-center justify-center">
                        <i id="mobile-logo-icon" class="ph-fill ph-student text-brand-600 text-2xl"></i>
                        <img id="mobile-logo-img" src="" class="w-full h-full object-cover hidden">
                    </div>
                    <span id="app-name-mobile">School Portal</span>
                </h1>
                <button onclick="App.logout()" class="text-gray-400 hover:text-red-500 transition-colors">
                    <i class="ph ph-sign-out text-xl"></i>
                </button>
            </header>

            <!-- SCROLLABLE VIEWPORT -->
            <main id="main-view"
                class="flex-1 overflow-y-auto custom-scroll scroll-smooth pt-20 pb-32 md:pt-8 md:pb-8 md:px-8 relative bg-surface transition-colors duration-300">
                <!-- Content injected here -->
            </main>

            <!-- MOBILE BOTTOM NAV (Portrait Only) -->
            <nav id="bottom-nav"
                class="hidden md:hidden glass absolute bottom-0 left-0 right-0 z-40 border-t border-gray-100 pb-[env(safe-area-inset-bottom)]">
                <div class="flex justify-around items-center py-3 h-16">
                    <button onclick="App.router('home')" class="nav-btn group flex flex-col items-center gap-1 w-14"
                        data-target="home">
                        <i
                            class="ph ph-house text-2xl text-gray-400 group-[.active]:text-brand-600 transition-colors"></i>
                        <span
                            class="text-[10px] font-medium text-gray-400 group-[.active]:text-brand-600">Bulletin</span>
                    </button>
                    <button onclick="App.router('groups')" class="nav-btn group flex flex-col items-center gap-1 w-14"
                        data-target="groups">
                        <i
                            class="ph ph-users-three text-2xl text-gray-400 group-[.active]:text-brand-600 transition-colors"></i>
                        <span class="text-[10px] font-medium text-gray-400 group-[.active]:text-brand-600">Groups</span>
                    </button>
                    <!-- [ADDED] Directory Mobile Button -->
                    <button onclick="App.router('directory')"
                        class="nav-btn group flex flex-col items-center gap-1 w-14" data-target="directory">
                        <i
                            class="ph ph-address-book text-2xl text-gray-400 group-[.active]:text-brand-600 transition-colors"></i>
                        <span
                            class="text-[10px] font-medium text-gray-400 group-[.active]:text-brand-600">Directory</span>
                    </button>
                    <button onclick="App.router('reports')" class="nav-btn group flex flex-col items-center gap-1 w-14"
                        data-target="reports">
                        <i
                            class="ph ph-chart-pie-slice text-2xl text-gray-400 group-[.active]:text-brand-600 transition-colors"></i>
                        <span
                            class="text-[10px] font-medium text-gray-400 group-[.active]:text-brand-600">Reports</span>
                    </button>
                    <!-- DRRM MOBILE BUTTON -->
                    <button id="nav-mobile-drrm" onclick="App.router('drrm')"
                        class="nav-btn hidden group flex flex-col items-center gap-1 w-14" data-target="drrm">
                        <i
                            class="ph ph-siren text-2xl text-gray-400 group-[.active]:text-brand-600 transition-colors"></i>
                        <span class="text-[10px] font-medium text-gray-400 group-[.active]:text-brand-600">DRRM</span>
                    </button>
                    <button onclick="App.router('profile')" class="nav-btn group flex flex-col items-center gap-1 w-14"
                        data-target="profile">
                        <div
                            class="w-7 h-7 rounded-full bg-gray-200 overflow-hidden ring-2 ring-transparent group-[.active]:ring-brand-600 transition-all">
                            <img id="nav-avatar" src="" alt="Profile" class="w-full h-full object-cover">
                        </div>
                        <span
                            class="text-[10px] font-medium text-gray-400 group-[.active]:text-brand-600">Profile</span>
                    </button>
                </div>
            </nav>
        </div>

        <!-- TOAST NOTIFICATION -->
        <div id="toast"
            class="absolute top-6 left-1/2 transform -translate-x-1/2 md:top-6 md:right-6 md:left-auto md:translate-x-0 bg-gray-900 text-white px-6 py-3 rounded-full shadow-xl z-[70] transition-all duration-300 opacity-0 translate-y-[-20px] pointer-events-none flex items-center gap-3">
            <i id="toast-icon" class="ph-fill ph-check-circle text-green-400"></i>
            <span id="toast-msg" class="text-sm font-medium">Notification</span>
        </div>

        <!-- MODALS & OVERLAYS -->
        <div id="modal-overlay"
            class="fixed inset-0 bg-black/40 z-50 hidden backdrop-blur-sm transition-opacity opacity-0 flex items-end md:items-center justify-center">
            <!-- Dynamic Modal Content -->
            <div id="modal-content"
                class="bg-white w-full md:w-[90%] md:max-w-6xl md:rounded-2xl rounded-t-3xl p-6 transform translate-y-full md:translate-y-10 transition-transform duration-300 max-h-[95vh] overflow-y-auto shadow-2xl relative">
                <!-- Content goes here -->
            </div>
        </div>

    </div>

    <!-- LOGIC -->
    <script>
        // ==========================================
        //  CONFIGURATION: BACKEND URL
        // ==========================================
        // Base64 encoded to prevent casual scraping from source code inspection
        const API_URL = atob('aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4MVViQTg3UDhwT1ZBYVJUTWljbzhPY0dobWxEbmVEbU0yOWthT3pqaFJKRkF3Q2w2dkRac0dvVm52NDVFR082RDYvZXhlYw==');

        const DB_KEY_CURRENT = 'School_session_v2.8'; // Only stores session locally now
        const DB_CACHE_DATA = 'School_cache_v2.8'; // [ADDED] Stale-While-Revalidate Cache

        // --- EMBEDDED TEMPLATES ---
        const STUDENT_GEN_INFO_TEMPLATE = "UEsDBBQABgAIAAAAIQBPUzvMfQEAADgFAAATAAgCW0NvbnRlbnRfVHlwZXNdLnhtbCCiBAIooAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsVEluwzAMvBfoHwxdC1tJD0VRxOmhy7ENkPQBqkXHQqwFIrP9vrSSFEWQBUFzsWFRnBmOSQ6eV7bNFhDReFeKftETGbjKa+OmpfiavOePIkNSTqvWOyjFGlA8D29vBpN1AMw422EpGqLwJCVWDViFhQ/gOFL7aBXxZ5zKoKqZmoK87/UeZOUdgaOcOgwxHLxCreYtZW8rPt4o+TZOZC+bex1VKVQIrakUsVC5cHqPJPd1bSrQvppbhi4wRFAaGwCybRGiYcY4BiIuDIU8yLm09R6nsZ3mVd5FDudEaPEyoVsnCs5MxWBjAt6xXUcYushxJ7Z5n/wLo9GQjVSkD2XZL7lq5dLH2bf3s+I0yKV2JlsLq4zb6T7Bny6jTK/+lYV09SXgMzqI+xJkev5fQoI5Q4i0bgGvbXsCPcfcqAh6TNzx06sL+It9SgeP4Sj6gDzpES53YTciXXYeGAgiGfgdkkPN9svIa+LftkO3hzToA9wy7b3hDwAAAP//AwBQSwMEFAAGAAgAAAAhAOT5JVMGAQAA3AIAAAsACAJfcmVscy8ucmVscyCiBAIooAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACs0t1qwyAUB/D7wd5Bzn1j2o0xRpPejEHvxsge4FRPEkn0iNo1ffvJYB+BrgzWS/X496fH9Wayo3ijEA27CpZFCYKcYm1cV8Fr87S4BxETOo0jO6rgSBE29fXV+oVGTHlT7I2PIqe4WEGfkn+QMqqeLMaCPbm80nKwmPIwdNKjGrAjuSrLOxl+ZkA9yxRbXUHY6hsQzdHnk/+TLS0l1JhQKg608CHLQjL5LqLB0FGqQLN6ztPxo6LIapCnQavLglK/tzuHZjxB9KorDrb9zbP8u4fb1ih6ZLW35NKJHsh5xTdpGuWBw7BjHs69ze0lLTQlcpr0+Xah58iOfuT9TsAAAD//wMAUEsDBBQABgAIAAAAIQCBPpSX8wAAALoCAAAaAAgBeGwvX3JlbHMvd29ya2Jvb2sueG1sLnJlbHMgogQBKKAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsUk1LxDAQvQv+hzB3m3YVEdl0LyLsVesPCMm0KdsmITN+9N8bKrpdWNZLLwNvhnnvzcd29zUO4gMT9cErqIoSBHoTbO87BW/N880DCGLtrR6CRwUTEuxq66vtCw6acxO5PpLILJ4UOOb4KCUZh6OmIkT0udKGNGrOMHUmanPQHcpNWd7LtOSA+oRT7K2CtLe3IJopZuX/uUPb9gafgnkf0fMZCUk8DXkA0ejUISv4wUX2CPK8/GZNec5rwaP6DOUcq0seqjU9fIZ0IIfIRx9/KZJz5aKZu1Xv4XRC+8opv9vyLMv072bkycfV3wAAAP//AwBQSwMEFAAGAAgAAAAhADwNHrMjAwAABAcAAA8AAAB4bC93b3JrYm9vay54bWysVW1vmzoY/T7p/geL7xTbvCWo6QSB3EVq02p9mSZFqlxwilXAXGOaVNX++x6T0nbtl267EbHBNsfnPM95zOHnXV2he646IZuZRQ6whXiTy0I0tzPr8mJhTyzUadYUrJINn1kPvLM+H/3z6XAr1d2NlHcIAJpuZpVat5HjdHnJa9YdyJY3MLORqmYaHtWt07WKs6IrOdd15VCMA6dmobH2CJH6CIbcbETOU5n3NW/0HkTximmg35Wi7Ua0Ov8IXM3UXd/auaxbgLgRldAPA6iF6jxa3jZSsZsKZO+Ij3YKrgD+BENDx51g6t1WtciV7ORGHwC0syf9Tj/BDiG/hGD3PgYfQ/Icxe+FyeEzKxX8IavgGSt4ASP4r9EIWGvwSgTB+0M0/5kbtY4ON6LiV3vrIta2K1abTFUWqlins0JoXsysEB7llv8yoPo26UUFsxR7JLSco2c7nylU8A3rK30BRh7hoTKCYEp9sxKMEVeaq4ZpPpeNBh8+6fpbzw3Y81KCw9FX/l8vFIfCAn+BVmhZHrGb7ozpEvWqmllptL7sQP46vsqOl6sYpcur5er0PF6P9dGtz79TTH0bmmBNKIqTE5SiV4MoPZ1fnmSri/P1Kz+z98XzG45muQmTA3Haa9nfv40ZSFLR6NozrRDcL9NjyNw5u4c8gluKpzJfQqKIe93kKiLXj+FkgkOcLOwEu6HthaFvxx5d2Bmdk4DSZBFi/weIUUGUS9br8skiBnpmucbUb6dO2G6cITjqRfFC4xE//WzTv2nGuR9GsDkMrwTfdi9mMo9o9000hdwOih5e3W+H4W+i0OXgwyko3o994eK2BK6h7/mGLTWUZtbjhLjuNJxT26VzUB5jYscuTm3XT5JsQQIvTtOBivOKy3DeAqehR81QI/9mq+vlanEKR7s5jYf4WkhFZhe1LMiQv/HFnFU5VIXphoVTgunUrOA7fdzpoQdDCiBIPByHeOrZOHN925tMqT3xXGrPvZRmfpilWTKkxnwxov/j3BzqIho/RYZlyZS+UCy/gw/YV75JWAde2gsCvmDFkbUzvnX0EwAA//8DAFBLAwQUAAYACAAAACEAeaJGnekJAACYHAAAFAAAAHhsL3NoYXJlZFN0cmluZ3MueG1sfFltb9vIEf5eoP9h4U8psI4kJ5fLFU4OI3JFrrTk8nZJ+6hvQqJejPoltZSi9+/7DCk7KWddwIYTvszMzsszzwwvf/3P3a369/7xcPNw/+Fs8Xp+pvb3nx4+39z/8eGsa1fn78/U4bi7/7y7fbjffzj7c384+/XjX/9yeTgcFd69P3w4+3I8fv37bHb49GV/tzu8fvi6v8edfzw83u2O+O/jH7PD18f97vPhy35/vLudXcwv72Z3u5v7M/Xp4dv98cPZu4t3Z+rb/c2/vu2z8crFxeLs4+Xh5uPl8eOSsi5qZ1QwPdUq87911jm6nB0/Xs74kfGxanphMZ/N37O299M72ZfHm8PxZnd/c/xzcm/2vzKpNV68bdte+ZXa2JwauoZJr7Ld15vj7vZv00drH9oSFre0pFYIGg/Gx6qpbo1aUl/7KA72dGC9NCFaZ41uTfBLS1FP1a12n/bq+KD47/Qe3qbK6GX4XVHR2ZpcLiya/zJbXCRdVlERqcdPUqzVCiIdVLQq0tqH6VPPGvXaUG1cX2tciq2txRmCcdTaKyPcnrXTS3lHoTUa8q5srdZB5Za204eQA/Of+Ew/T+84qkm44CRTnYTmJlqcSj4GTbqES3WkguMmzlEgph3VReZ18JlZrdoyGKNKu025HZ5PZWrjl44y6+up7T9IV8HjJLlXhalbG3wtXMc6dUWhP6e61plfU8JeR9fnBFMhRVV+qdaUbVROGeTFRGldvORTlgKTqj6oihw5+EDEbZSqC+eDgT7dICeClT5sKOBMoqrgEQCALgknz6Gl96GyrSgczuZ5MvJsGEpJYghtcFVer08aFYWaVcLfBa1tPrXs2RxdmBD6pXHOwKUuJ5nnnPEVQEHniK5RTYnKbtSyK3qZk/OL2SKdHxUiWRfeCRedhCOAjCzwY6RMHHfUxplhr2ymMwpZZ65IpLKvKNMwbEtq7WPZEXxeO1t0RlQbw8dgqqi2QQgSIzcOSOc6YJ5030nqYFKMpBvvgFRBWNQgg1ptnF1TCejpVWaBUInIzX9+CdFGEcoiw4xXPuQ2yhR6EssGBQuDnN3YNmFOzDrSG1PXBoC/7pyJqqBGC7hke94kS33DOdmhw0290tAgXJWmRk4pcv7ci5oYlGmUN8HF0SCWayRUIdEV3dPoyrKBa1RXWxqFiMB7KdwceoGI5AaOQFZNXwiDaGQIAhxMlsDMQc8Q28w4vTIBOZCbrTAyIuoR6AB3osviUEZltAxAW2Hk29liACLR4wHLaHLF9IVRtEKnqi3zimWXCPqoa0BM5fwVvOmBN7nEJ7T1XDdIIOcbozZma5GOBFgSQVwJy2F2OhEGoVxopoGwgiopbVChUa4AGHS+DKmpTTBrI1zJlZb5CKzcIiwVMcsIFEXw5m9mizRZepKgTLhmXUDbWiLJIFSvcQsGGW3yDh5DkkiOgkhSPeA3KEydkYoIU5RnRKXgJ0nfniWgGEC/0lE8iX1Ot4qxHaqCizJkSo7aBd7AQQFpsabcKKQnMi6RcBcvkMpBDGd+CZuart6ycdP3R6lMWSw32wpMLmFQ1Xj92/m2d05tyr6qlYmtB2BZWQBIo7cveImlqDXOhVMNnkKzmNrzLHiEXO+0D4XsABnaJVy3LsdqHLBfuObdbPEuTR6Nh1MkkR6FquLEHJlLT4UOmpBXaKBMchKcN/MB7CHqJtg6w2FVKA2pFuWaiB0mjyTNQvGIVvYkmJNi3dXw4BUAUzzGmmAgaKIukJi9kwE1FYpoy89lJUq1JIUH18K+xWJ2kUbc7wJ4WlDfq2t6xEEutJjQ86CASiOSGW9QdsBe5pXf3QZKA4TwTdMJujdfzBbpJPtRElKt6iCipV7GepCrGajaHqkG1nLuU4aBS7P5PSAf4Q6W1IpJomSgoESDSaI7GVCzXjN/B6gMo45w9ChyyHhSzniMaaTJVV1kQv9SyVp0AaPOU4iQbkGnWr8CuUL65kBGzE9yToDBYIDQj16MxAUAcYZkjjrBLzHLvNDuig4TZopRFY2RZOGkEp2/rm1UPFCDioriG2wYScUAjMinFiOvPIKH0VvSmCssAB3nQMRwBGY0aAzCY4sZ2k2qDpkDITmilX27czie2nQ5BMoDnQxA16ypZfwNZoWhQM7SJ5M0eobJMtJLH5aogqmJFk2u0GZbBu4Jw+pB5uAcCZg+h3Vgu1dWZO0oVgGw8p7H/RTiocCBZqFbWp6SG+q7SiIKOhRIJiq8Bycfm5aJjZX4Dj7OsJKYfu3hdncn6BH8CzHTy8/q0BrdkmKJmRhDhcX8LiI12gGiDMKhK9Ructbk3g/YBA/AP3geANmjVJVfDBxAVDm3I4kyjka5yoy7CKwEYodhD44Rdj7pxEZiXEhg0AZiiFRADre2wl4GhQCEBLtJozeDZBoHanOtlr6UU9p30SNrzmkg5mlQR5SLlyEdbKtCc+QhnwdieLRrUwMNViFvhplYEOYNti5gLYkWPIpWHXhErZCNYtp8UqYZWO2Kp4/aS6RDIDoGZzh5TVvseQDxTCid5VIQSccOHVJXmIq2VvDv1FEV4AnGysvPenkeRulxP5WvP1uC5IVNmI00EDBYDOlSZOC9xaZnumicsdxrcoORQ449fI6XlmqDFOBBtLlqwAWzUm6aRqkaGupeF0jnZcqersAureV1SeyZUifOxwvRdDVVNLyuuBZ5L9hFtbQoXQEPg1zsvSJjUzSFR2uTznn4/O1296hefX28uT+KpSiWEQR/jb4dSTfPdwFYICkb4Cs9BDxJGSsHQw68NzX3JFSv4Jbaoi6sKQFJGEsSrLvxORhaQAn1aMLmdwT2/xTRC0MALxWmVjwJ5uaEeQ1xTgH1cw1VaKDcP7HQ0rmpiBueHOMBmCgjGOn8gP9b7D6x/xCt9pcZd6nEDjyMEnhTh/VH5uEWKxesLBO7rNqAxPCiNVg5rFOJRTjWcejbMFW1r6dGoIpHzPlJ5NPTu0ACvAyXixZwzdlSY1SKxDl3LvV3S6wPsQ8Fw8JM70hdGYwwCdrB6Jz0RXwWoVZITXJYYmMfJCeIk2R8jIC3cGRhTEsYu6KOrVmBheA8GWGhnAsewnvJgTqIxnaSgGUuL3sw/khgPMnUra8qIAJ14BMyRWLLNGPq8SJgthVhwLYmsWOmpYBSIc8FOeJi9K/xqWGqZWnxMSSXXxCokKsk9NkiYRHvLriDiELHJ5lZ1YF92gbtpBUPNAFIhfFw+uIKbFEO+ZVPXR0/TPga7KcR/QDgkdL7tjlMH6UcxFDqzDEl8NcfreiKWYZImdh2oOutqr0osHFNnrpTGluUrXp1tz/iI5+A4uvT7X/e3D7Iu1Yanzh5F7E9nB7SRSPyIhqToIsAl/xHb8zwZfHjfwEAAP//AwBQSwMEFAAGAAgAAAAhADttMkvBAAAAQgEAACMAAAB4bC93b3Jrc2hlZXRzL19yZWxzL3NoZWV0MS54bWwucmVsCj0s07CMBBD+XfIfxN6b9lQoJm13I7hV5wNha9sE25eQe4r+u9mOMuBy8rhnsptN/Z5UjbMHSJLUlQoF5GMHaLDwe9otv0GxuOrcFAlNPIBh0y6+mgNOjkpRx5BYFQuxhcEk/RjDfsTYsY4JqZC+5tlJiXkwyfmLG9Csqupt8l8HtC9Ote8s5H1Xgzp9Uln+7I59Hzxuo7/OSPLPhEk5kGA+okg5yEXt8oBiQet35prbQ4Epm3Mz/P2CQAA//8DAFBLAwQUAAYACAAAACEAwRcQvk4HAADGIAAAEwAAAHhsL3RoZW1lL3RoZW1lMS54bWw7FnNixs3FL8X+j8Mc3f8NeOPJd7gz2yT3SRknZQctbbsUVYzMpK8GxMCJTn1UiikpZdCbz2U0kADDb30jwkktOkf0SfN2COt5SSbbEpadg2LR/69p6f3nn5683Tx0r2YekeYC8KSll++UPJ9nIzYmCTTln9rOCg0fE9IlIwRZQlu+Qss/Evbn35yEW3JCMfYA/lEbKGWH0k52yoWxQiGkbjAZjiB3yaMx0jCI58Wxxwdg96YFiulUq0YI5L4XoJiUHt9MiEj7A2VSn97qbxP4TGRQg2MKN9XqrElobHjw7JCiIXoUu4dIdryYZ4xOx7ie9L3KBISfmj5Jf3nF7cvFtFWJkTlBllDbqD/MrlMYHxY0XPy6cFq0iAIg1p7pV8DqFzH9ev9Wr+20qcBaDSClaa22DrrlW6QYQ1Q+tWhu1fvVcsW3tBfXbO5HaqPhdegVH+whh8MuuBFC69BKT5cw4edZqdn69egFF9bw9dL7V5Qt/RrUERJcriGLoW1ane52hVkwuiOE94Mg0G9kinPUZANq+xSU0xYIjflWozuMj4AgAJSJEniycUMT9AIsriLKDngxNsl0wgSb4YSJmC4VCkNSlX4rz6B/qYjirYwMqSVXWCJWBtS9nhixMlMtvwroNU3IC+ePXv+8Onzh789f/To+cNfsrm1KktuByVTU+7Vj1///f0X3l+//vDq8Tfp1CfxwsS//PnLl7//8Tr1sOLcFS++ffLy6ZMX33150+PHdrbHB2Y8CGJsfCu4WPvJothgQ778QE/ncQwQsSSQBHodqjuy8gCXlsg6sJ1sO3C2xxYxgW8PL9r2bof8bkkjpmvRrEF3GOMdhh3OuCqmsvw8HCeTN2T87mJu4nQkWvuLkqsAPfnM6BX4lLZjbBl5g2KEommOMHSU7+xQ4wdq7tDiOXXPTLiTLCJ9O4Qr4OI0yVDcmAlUi60Q2KIy8JlIITa8s3eba/DqGvVPXxkI2FbIOowfoip5cbLaC5R7FI5RDE1Hb6LZOQycn/BRyauLyREeoop8/pjLIRL5jqH9RpBvwoM4w77Hl3ENpJLcujSuYsYM5E9dtiNUDxz2mySyMR+Jg4hRZF3g0kXfI/ZO0Q9QxxQsjHctwm2wv1mIrgF5qalCeI+mXOHbG8jJm9Hxd0grCLZdo8tti1zYkzOzrzqZXauxhTdIzGGHu3PnNY0GEzy+e50VciYJUd7EqsK8jOVfWcYAFlkqpr1ilylwgrZffxlG2wZ29xgngWKIkR36T5GkTdSl045ZxUep2ODk3gNQLlH+SL0ynXBegwkru/SeuNCFlnl3oW7nxdcCt+b7PHYF/ePe2+BBl8ahkg9rf2zRBRa4I8YYYICgwX3YKIFf5cRJ2rWmzulJvYmzYPAxRGVr0Tk+SNxc+Jsif8d8oedwFzBgWPW/H7lDqbKGXnRIGzCfcfLGt6aJ7cwHCSrHPWeVVzXtX4//uqZtNePq9lzmuZ81rG9fb1QWqZvHyByibv8uieT7yx5TMhlO7LBcW7Qnd9BLzRjAcwqNtRuie5agHOIviaNZgs3JQjLeNxJj8nMtqP0AxaQ2XdwJyKTPVUeDMmoGOkh3UrFZ/QrftO83iPjdNOZ7zaJtZz8e+R/GE33m0fh1xv3kW/Z1PNW7TVzh778X8wazormyGUoW+Cjg+FzU4XPZmKnhWRz16bfRKyefKjxMhpLWqyr3840Z1U67H8v70jrfeb90VO8Rjpov2hqpwnXMrzI3/opPNeb7iDa8h0HH4fExihuPZ/R4U7vGNTxmHiXD2/BZvTdmjmjZvWfq9YydszvqERQfI7d82s5gbpN67gwzeLyN+nS/OCfjlhCNe/wnL/M8Gnyu8DWJ6/vPuu7ng09GzveedSyLnnXM6KXPqmLiN3bGcXS+93/3zveOPoVaqx+ff+gvfvLXx8/85KGHfvq3/btoyEQzGCfU4PbSV6HBMz7Jg0JndV+T+F2b77P33jN/pprRMR7o/TvS+/mf2HHX7pmv8goT/cvoXUK09cM26rMLP7j39I/OiMSnMe/XKwDrxev80taZr953+uzCPfaTjNaI1mUmOIqUfUb3D++Bwba7Z+IX/TPfL28m4mQd3Eb7uUmj5dVp/vt/avvP6hWG/d+UeECvU4nEyVP7dfTR6+pNiYd7r7SZxA29tX6pZ43eNZy+7/SZH52d/87x+fsWfnj6zLxYPKJTvbExumh8zCdL4zP543v2q44nzvXB7fV2RN+2zxPXcd968tbb7jx564kTJ07don2O/he3/il7/J3KzY+ZjfkRszG/ZzbmE///2Yger0f0nGH2/2gwihN3nWQUJ269/FHcP2YU948Yxf17RnH/FRvFvcP3xW0nbztx4o47L38UD44ZxYMjRvHgnlE8eMVG8Ze9UZw6eeL2E6fsEXXy8kfxyJhRPDJiFI/sGcUjV2wU/zh0X5z6LvfFya/wiDo3ZhTnRozi3J5RnLtio/jn/ihOnGQEenJ/hWf3+TGjOD9iFOf3jOL8FRvFs4NRnLrtDh5Rd9x1+Y+oi2NGcXHEKC7uGcXFKzaKN4ceUbfr1Vb3x8TnRdzVSNy43cXvpS5tFvGrYXQbNYZkii0H+T1oGsR+TP/000/79Oh91Rd65xttxc+ixoGD/YWaD13ot0SdvuLl/H1U3NcubSa07sHfQnnrcaY0fw/trcf5aZezHmcFXM56/L+Yy1mP3wVF74yiGRie8YM2K7vfGV06Y2wV74k1SynmBncs9e9y42bxrUtmMdr2GjsPPNo2nrn9e7rhm9qWNXfv9xo7Iy/aNp7NcdsOZjveL+dGRNvGMzxu28E9EG8bPSoZbzzr47Yd3Cvxtvy+MNovvzXkHhu3bfzzwV/uXd875lKi5vzl3vWXzNWseka031lnW9bcPc9z/W3nnG1Zc/e2S/1tl5xtWXP3tsv9bZedbVlz97Zr/W3XnG1Zc/e26/1t151tWXP3tlv9bbecbVlz97bb/W23nW1Zc/e2v+5v+2tnW9aMto3e5fFqGX0/7jV58How6rU4ftc3nb6gvyfl9yUhNF5dRr8+7R4v60WP58TEv2K92941jdt28FeLe5+DF+ydT/xaF80V74R/X3ueP/TzxH/Z74Y4DsbNLb+nwUSaYZHNhZlL/sM7sETi/wAAAP//AwBQSwMEFAAGAAgAAAAhAEsGrAlNAQAAcQIAABEACAFkb2NQcm9wcy9jb3JlLnhtbCCiBAEooAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIySUU/CMBSF3038D0vft26DoGnGCIokJIAmIBrfmvYCi2vXtNXBv7fbYM7Ag4/tOffrOTdNRgeRe9+gTVbIIYqCEHkgWcEzuRui1/XUv0eesVRymhcShugIBo3S25uEKcIKDS+6UKBtBsZzJGkIU0O0t1YRjA3bg6AmcA7pxG2hBbXuqHdYUfZJd4DjMBxgAZZyaimugL5qieiE5KxFqi+d1wDOMOQgQFqDoyDCv14LWpirA7XScYrMHpXrdIrbZXPWiK37YLLWWJZlUPbqGC5/hN8X81Vd1c9ktSsGKE04I0wDtYVOx5un+Ww59iazzWz5vBonuCNWi8ypsQu3820G/OF4xX/pcfy6TvMIcM8FJE2ds/LWe5yspyiNw3jgh5Ef99fhgPTvSBx9VBH+zFeBmwtxCvJPosOFpBd3iGdAmuCLT5L+AAAA//8DAFBLAwQUAAYACAAAACEAQLMyK1ABAABUDwAAJwAAAHhsL3ByaW50ZXJTZXR0aW5ncy9wcmludGVyU2V0dGluZ3MxLmJpbuxXvU7DMBD+zknaVBWhE2NV8QQIKoTE0oFuiCL1BRiKFFZYOoaNlbUsPAYPwsjAYzARvnNwMSitEBFTfZZ/ZJ/Pnz+dz7oxzjHFBGcY4BQHOMQeR1Nc4hpXbG+wXiSGecE8234o2gLIojtMZxAkkothn3PyvySiYcO66oh5xjWKKvk6R9xTbAFPrCOO39gXHsgInXjckBfFpdIjBieKwUBR75KXXJIKlAzTRbePquj4OLqPdSnDjofKDdVyazlvz2HjuKjZEKYCA4GBDWZgxLvHrDMWP9b4QbEsfYI0+kR4dUEseE9g4M8MGPrelyMJ9lme35sT+s1h15iTpZt39BHUSC/lv/yY2BXVXqHWELK+KVdrUWQlJThaYCAwEBjYVAbuKE3vntq86sLmRAMaO/mM7L+xW/1ULlt0fctmZ/5+96Pd/jCq+eYHAAAA//8DAFBLAwQUAAYACAAAACEA8zh/R48BAAATAwAAEAAIAWRvY1Byb3BzL2FwcC54bWwgogQBKKAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACckk9v2zAMxe8D+h0M3Rs53VAMgaxiSP8N2NoASdvjoMl0LFSWDJE1kn360TaaOutOvZF8D08/UVIXu8ZnHSR0MRRiPstFBsHG0oVtIR4216dfRYZkQml8DFCIPaC40Cef1CrFFhI5wIwjAhaiJmoXUqKtoTE4YzmwUsXUGOI2bWWsKmfhMtqXBgLJszw/l7AjCCWUp+0hUIyJi44+GlpG2/Ph42bfMrBW39rWO2uIb6l/Opsixoqyq50Fr+RUVEy3BvuSHO11ruS0VWtrPCw5WFfGIyj5NlC3YPqlrYxLqFVHiw4sxZSh+8NrOxPZb4PQ4xSiM8mZQIzV28ZmqH2LlPRTTM9YAxAqyYZxOJRT77R2X/R8MHBxbOwDRhAWjhE3jjzgfbUyif5DPJ8SDwwj74hzc3X36/vd9f07wuHSfNY/6cvYtCbsWThUP1x4xod2Ey8NwetCj4dqXZsEJb/BYeGHgbrlXSbfhyxrE7ZQvnreC/3zP45/XM/PZ/nnnF92MlPy7TfrvwAAAP//AwBQSwECLQAUAAYACAAAACEAT1M7zH0BAAA4BQAAEwAAAAAAAAAAAAAAAAAAAAAAW0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQDk+SVTBgEAANwCAAALAAAAAAAAAAAAAAAAALYDAABfcmVscy8ucmVscy1BLAQItABQABgAIAAAAIQCBPpSX8wAAALoCAAAaAAAAAAAAAAAAAAAAAO0GAAB4bC9fcmVscy93b3JrYm9vay54bWwucmVsc1BLAQItABQABgAIAAAAIQA8DR6zIwMAAAQHAAAPAAAAAAAAAAAAAAAAACAJAAB4bC93b3JrYm9vay54bWxQSwECLQAUAAYACAAAACEAeaJGnekJAACYHAAAFAAAAAAAAAAAAAAAAABwDAAAeGwvc2hhcmVkU3RyaW5ncy54bWxQSwECLQAUAAYACAAAACEAO20yS8EAAABCAQAAIwAAAAAAAAAAAAAAAACLFgAAeGwvd29ya3NoZWV0cy9fcmVscy9zaGVldDEueG1sLnJlbHNQSwECLQAUAAYACAAAACEAwRcQvk4HAADGIAAAEwAAAAAAAAAAAAAAAACNFwAAeGwvdGhlbWUvdGhlbWUxLnhtbFBLAQItABQABgAIAAAAIQC4EIlO/wMAAPkNAAANAAAAAAAAAAAAAAAAAAwfAAB4bC9zdHlsZXMueG1sUEsBAi0AFAAGAAgAAAAhAMfBJ08wGQAA9pkAABgAAAAAAAAAAAAAAAAANiMAAHhsL3dvcmtzaGVldHMvc2hlZXQxLnhtbFBLAQItABQABgAIAAAAIQCDj4xIMBYAAMKJAAAWAAAAAAAAAAAAAAAAAJw8AABkb2NQcm9wcy90aHVtYm5haWwud21mUEsBAi0AFAAGAAgAAAAhAEsGrAlNAQAAcQIAABEAAAAAAAAAAAAAAAAAAFMAAGRvY3Byb3BzL2NvcmUueG1sUEsBAi0AFAAGAAgAAAAhAECzMitQAQAAVA8AACcAAAAAAAAAAAAAAAAAhFUAAHhsL3ByaW50ZXJTZXR0aW5ncy9wcmludGVyU2V0dGluZ3MxLmJpblBLAQItABQABgAIAAAAIQDzOH9HjwEAABMDAAAQAAAAAAAAAAAAAAAAABlXAABkb2NQcm9wcy9hcHAueG1sUEsFBgAAAAANAA0AagMAAN5ZAAAAAA==";

        // --- ENCRYPTION SIMULATION (E2EE) ---
        const Crypto = {
            encrypt: (text) => {
                try {
                    return btoa(text + '_YOUR_SALT_HERE_');
                } catch (e) { return text; }
            },
            decrypt: (encoded) => {
                try {
                    const decoded = atob(encoded);
                    return decoded.replace('_YOUR_SALT_HERE_', '');
                } catch (e) { return encoded; }
            }
        };

        /* ====================================================================
         * BUILT-IN REPORT TYPES - v3.0
         * ====================================================================
         * These 11 report types are always available. They cannot be deleted
         * by users. User-created types from the backend are merged alongside.
         * ==================================================================== */
        const BUILT_IN_REPORT_TYPES = [
            {
                id: 'learner_profile',
                label: 'Learner Profile',
                metricLabel: 'Total Learners',
                unit: 'learners',
                headers: ['LRN', 'Last Name', 'First Name', 'Middle Name', 'Suffix', 'Gender', 'Birthdate', 'Age', 'Ethnicity', 'Religion', 'Address', 'Contact No', 'Parent/Guardian', 'Guardian Contact', '4Ps', 'Weight (kg)', 'Height (m)', 'BMI', 'Nutritional Status', 'IP'],
                color: 'blue',
                icon: 'ph-student',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'academic_performance',
                label: 'Academic Performance',
                metricLabel: 'Records Submitted',
                unit: 'records',
                headers: ['LRN', 'Last Name', 'First Name', 'Grade Level', 'Section', 'Subject', 'Q1', 'Q2', 'Q3', 'Q4', 'Final Rating', 'MPS', 'Remarks', 'Promotion Status'],
                color: 'indigo',
                icon: 'ph-exam',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'attendance_records',
                label: 'Attendance Records',
                metricLabel: 'Records Submitted',
                unit: 'records',
                headers: ['LRN', 'Last Name', 'First Name', 'Grade Level', 'Section', 'Month', 'Total School Days', 'Days Present', 'Days Absent', 'Times Tardy', 'Attendance Rate (%)'],
                color: 'teal',
                icon: 'ph-calendar-check',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'philiri_results',
                label: 'PHIL-IRI Results',
                metricLabel: 'Learners Assessed',
                unit: 'learners',
                headers: ['LRN', 'Last Name', 'First Name', 'Grade Level', 'Section', 'Pre-Test Oral', 'Pre-Test Silent', 'Pre-Test Level', 'Post-Test Oral', 'Post-Test Silent', 'Post-Test Level', 'Comprehension Score'],
                color: 'rose',
                icon: 'ph-book-open-text',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'classroom_resources',
                label: 'Classroom & Resources',
                metricLabel: 'Rooms Inventoried',
                unit: 'rooms',
                headers: ['Room No', 'Room Type', 'Capacity', 'Current Enrollment', 'Student-Classroom Ratio', 'Armchairs Available', 'Student-Armchair Ratio', 'Textbooks Available', 'Textbook-Student Ratio', 'Learning Materials Status'],
                color: 'amber',
                icon: 'ph-chalkboard-teacher',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'benefits_assistance',
                label: 'Benefits & Assistance',
                metricLabel: 'Beneficiaries',
                unit: 'learners',
                headers: ['LRN', 'Last Name', 'First Name', 'Grade Level', 'Section', 'Program Type', 'Program Name', 'Amount', 'Date Received', 'Status', 'Remarks'],
                color: 'emerald',
                icon: 'ph-hand-coins',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'cocurricular_activities',
                label: 'Co-Curricular Activities',
                metricLabel: 'Participants',
                unit: 'learners',
                headers: ['LRN', 'Last Name', 'First Name', 'Grade Level', 'Section', 'Activity Type', 'Activity Name', 'Level of Participation', 'Award/Recognition', 'Date'],
                color: 'violet',
                icon: 'ph-trophy',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'learner_progress',
                label: 'Learner Progress & Engagement',
                metricLabel: 'Records Created',
                unit: 'records',
                headers: ['LRN', 'Last Name', 'First Name', 'Grade Level', 'Section', 'Quarter', 'Progress Status', 'Report Card Issued', 'PTC Date', 'PTC Notes', 'Parent Feedback'],
                color: 'cyan',
                icon: 'ph-chart-line-up',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'drrm_incident',
                label: 'School DRRM & Incident Monitoring',
                metricLabel: 'Incidents Recorded',
                unit: 'incidents',
                headers: ['Incident Date', 'Incident Type', 'Location', 'Description', 'Students Involved', 'Severity', 'Action Taken', 'Status', 'Reported By', 'Remarks'],
                color: 'red',
                icon: 'ph-warning-diamond',
                category: 'DRRM',
                builtIn: true
            },
            {
                id: 'program_implementation',
                label: 'Program Implementation (PIR)',
                metricLabel: 'Programs Tracked',
                unit: 'programs',
                headers: ['Program Name', 'Objectives', 'Key Activities', 'Target', 'Accomplishment', 'Percentage', 'Timeline', 'Budget', 'Expenditure', 'Status', 'Remarks'],
                color: 'sky',
                icon: 'ph-clipboard-text',
                category: 'Reports',
                builtIn: true
            },
            {
                id: 'instructional_supervision',
                label: 'Instructional Supervision & TA',
                metricLabel: 'Observations Done',
                unit: 'observations',
                headers: ['Teacher Name', 'Observer', 'Grade Level', 'Subject', 'Date', 'Time', 'Focus Area', 'Learning Objectives', 'Strategies', 'Findings', 'Learner Engagement', 'Classroom Management', 'TA Provided', 'Recommendations', 'Action Plan', 'Timeline', 'Observer Signature', 'Teacher Signature'],
                color: 'fuchsia',
                icon: 'ph-binoculars',
                category: 'Reports',
                builtIn: true
            }
        ];

        const App = {
            // Data now comes from API, not LocalStorage
            users: [],
            user: null, // Loaded safely in init()
            reports: [],
            reportTypes: [],
            posts: [],
            groups: [],
            settings: { appName: 'School Portal', logo: null, opaqueBg: false, bgOpacity: 0.8, backgroundImage: null },
            searchHistory: [], // Initialized in init()

            // Pagination state
            postsLimit: 10,
            chatLimit: 10,

            activeGroupId: null,
            tempAvatar: null,
            tempPostMedia: null,
            tempPostMediaType: null,
            tempGroupChatMedia: null,
            tempGroupChatMediaType: null,
            tempGroupChatFileName: null,
            lastReportTime: 0,
            pendingCallback: null,
            refreshInterval: null,

            async init() {
                // Check locally stored session FIRST (Optimistic Auth)
                let session = null;
                try {
                    session = localStorage.getItem(DB_KEY_CURRENT);
                } catch (e) { console.warn('Storage restricted', e); }

                if (session) {
                    try {
                        this.user = JSON.parse(session);
                        this.updateSidebarIdentity();

                        try {
                            const history = localStorage.getItem('DIRECTORY_SEARCH_HISTORY');
                            if (history) this.searchHistory = JSON.parse(history);
                        } catch (e) { this.searchHistory = []; }

                        // [ADDED] SWR Caching: Load from cache first for instant render
                        try {
                            const cache = localStorage.getItem(DB_CACHE_DATA);
                            if (cache) {
                                const data = JSON.parse(cache);
                                if (data.users) this.users = data.users;
                                if (data.posts) this.posts = data.posts;
                                if (data.groups) this.groups = data.groups;
                                if (data.reportTypes) this.reportTypes = data.reportTypes;
                                if (data.reports) this.reports = data.reports;
                                if (data.settings) this.settings = data.settings;
                            }
                        } catch (e) { console.warn("Cache load failed", e); }

                        let initialRoute = window.location.hash.replace('#', '') || 'home';
                        const validRoutes = ['home', 'groups', 'reports', 'directory', 'drrm', 'profile'];
                        if (!validRoutes.includes(initialRoute)) initialRoute = 'home';

                        this.router(initialRoute);

                        // Listen for browser back/forward navigation
                        window.addEventListener('hashchange', () => {
                            let currentRoute = window.location.hash.replace('#', '') || 'home';
                            if (validRoutes.includes(currentRoute)) {
                                this.router(currentRoute);
                            }
                        });

                        // SWR: Fetch fresh data silently in the background after UI paint
                        setTimeout(() => {
                            this.refreshData(true);
                        }, 100);

                        this.startAutoRefresh(); // [ADDED] Auto Refresh
                    } catch (e) {
                        console.error("Session parse error", e);
                        this.user = null;
                        this.router('landing');
                    }
                } else {
                    this.router('login');
                }

                // Global Event Listeners
                this.setupTooltips();

                // Simplify Auto-Refresh Lifecycle (Pause on blur, Resume on focus)
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) this.stopAutoRefresh();
                    else this.startAutoRefresh();
                });
            },

            startAutoRefresh() {
                if (this.refreshInterval) clearInterval(this.refreshInterval);
                // 60 seconds interval to balance "Real Time" vs "GAS Quota"
                this.refreshInterval = setInterval(() => {
                    if (this.user) {
                        console.log('Auto-refreshing data...');
                        this.refreshData(true); // silent mode
                    }
                }, 60000);
            },

            stopAutoRefresh() {
                if (this.refreshInterval) {
                    clearInterval(this.refreshInterval);
                    this.refreshInterval = null;
                }
            },

            // --- PERMISSION HELPERS ---
            /* v2.9.3: Added PSDS position to Principal powers, refined DRRM position check */
            isDev() { return this.user && (this.user.role === 'Developer' || this.user.position === 'System Developer' || this.user.id === 'USR-MOCK-DEV'); },
            isPrincipal() { return this.user && (this.user.role === 'Principal' || this.user.role === 'Admin' || (this.user.position || '').includes('Principal') || (this.user.position || '').includes('PSDS')); },
            isDrrm() { return this.user && ((this.user.position || '').toUpperCase() === 'DRRM' || (this.user.position || '').includes('DRRM')); },

            isDeptHead() {
                if (!this.user) return false;
                // Check if user is a leader of any group OR has explicit role/position
                const leadsGroup = this.groups && this.groups.some(g => g.leaderId === this.user.id);
                const explicitRole = (this.user.role === 'Department Head' || this.user.role === 'Leader');
                return leadsGroup || explicitRole;
            },

            canManageUsers() {
                return this.isDev() || this.isPrincipal();
            },

            canDownloadReports() {
                return this.canManageUsers() || this.isDeptHead() || (this.user.position || '').includes('Assistant Principal');
            },

            // --- DATE HELPERS ---
            formatDate(dateStr) {
                if (!dateStr) return '';
                try {
                    const d = new Date(dateStr);
                    return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) +
                        '  ' +
                        d.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
                } catch (e) { return dateStr; }
            },

            // --- API HANDLER ---
            async api(action, data = {}) {
                if (API_URL === 'PASTE_YOUR_GOOGLE_SCRIPT_WEB_APP_URL_HERE') {
                    this.toast("Error: API URL not configured in code.", 'error');
                    return null;
                }

                try {
                    const payload = { action: action, data: data };
                    if (this.user && this.user.id) payload.sessionUserId = this.user.id;

                    const response = await fetch(API_URL, {
                        method: 'POST',
                        mode: 'cors', // Ensure your GAS script allows anonymous or has correct CORS headers
                        redirect: 'follow',
                        headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.status === 'error') {
                        throw new Error(result.message);
                    }

                    return result;

                } catch (e) {
                    console.error("API Error:", e);
                    this.toast(e.message || "Connection Failed", 'error');
                    return null;
                }
            },

            // --- RESTORED METHODS ---
            // Alias for init call
            async fetchInitialData() { return this.refreshData(); },

            updateSidebarIdentity(route) {
                if (this.user && route !== 'landing') {
                    const avatar = this.resolveImageUrl(this.user.avatar) || `https://ui-avatars.com/api/?name=${this.user.firstName}+${this.user.lastName}&background=random`;
                    const navAvatar = document.getElementById('nav-avatar');
                    const sidebarAvatar = document.getElementById('sidebar-avatar');
                    const sidebarName = document.getElementById('sidebar-name');
                    const sidebarRole = document.getElementById('sidebar-role');

                    if (navAvatar) navAvatar.src = avatar;
                    if (sidebarAvatar) sidebarAvatar.src = avatar;
                    // Robust Name Fallback
                    if (sidebarName) sidebarName.innerText = this.user.firstName ? `${this.user.firstName} ${this.user.lastName}` : (this.user.name || 'User');
                    if (sidebarRole) sidebarRole.innerText = this.user.position || 'Faculty';

                    // DRRM Visibility
                    const drrmSidebar = document.getElementById('nav-sidebar-drrm');
                    if (drrmSidebar) {
                        if (this.isDrrm() || this.isDev() || this.isPrincipal()) drrmSidebar.classList.remove('hidden');
                        else drrmSidebar.classList.add('hidden');
                    }
                }
            },

            async refreshData(silent = false) {
                if (!silent) this.showLoader(true);
                try {
                    const [resUsers, resPosts, resGroups, resRepTypes, resReports, resSettings] = await Promise.all([
                        this.api('getUsers'),
                        this.api('getPosts'),
                        this.api('getGroups'),
                        this.api('getReportTypes'),
                        this.api('getReports'),
                        this.api('getSettings')
                    ]);

                    if (resUsers) this.users = resUsers.users;
                    if (resPosts) this.posts = resPosts.posts;
                    if (resGroups) this.groups = resGroups.groups;
                    // Merge built-in types with backend types (built-in always present)
                    const backendTypes = (resRepTypes && resRepTypes.reportTypes) ? resRepTypes.reportTypes : [];
                    const mergedTypes = [...BUILT_IN_REPORT_TYPES];
                    backendTypes.forEach(bt => {
                        if (!mergedTypes.find(m => m.id === bt.id)) mergedTypes.push(bt);
                        else { /* Backend overrides for built-in (e.g., updated headers) */ const idx = mergedTypes.findIndex(m => m.id === bt.id); if (idx !== -1) mergedTypes[idx] = { ...mergedTypes[idx], ...bt, builtIn: true }; }
                    });
                    this.reportTypes = mergedTypes;
                    if (resReports) this.reports = resReports.reports;
                    if (resSettings && resSettings.settings) {
                        this.settings = { ...this.settings, ...resSettings.settings };
                        this.applySettings();
                    }

                    // [ADDED] SWR Caching: Save fresh data to localStorage
                    try {
                        localStorage.setItem(DB_CACHE_DATA, JSON.stringify({
                            users: this.users,
                            posts: this.posts,
                            groups: this.groups,
                            reportTypes: this.reportTypes,
                            reports: this.reports,
                            settings: this.settings
                        }));
                    } catch (e) { console.warn("Cache save failed", e); }

                    // Re-render current view if active (to show new data)
                    const currentRoute = document.querySelector('.nav-btn.active')?.dataset.target || 'home';
                    // We only re-render if we are NOT in the middle of a modal? 
                    // Ideally, we should be careful. For now, let's just re-render main views.
                    // But if user is typing, full re-render is bad.
                    // Reactivity would be better, but we are using Vanilla.
                    // Let's only toast for now or update unobtrusively?
                    // The user asked for "updates can be seen in real time". 
                    // Most safe is to re-render the view if it's "safe".
                    if (!silent) {
                        // Initial load - do nothing specific
                    } else {
                        // Background refresh - we might want to refresh the view ONLY if safe
                        // For checking, let's just log it. 
                        // But to actually see updates, we need to call the render function.
                        if (currentRoute === 'home') this.renderHome(document.getElementById('main-view'));
                        else if (currentRoute === 'groups') this.renderGroups(document.getElementById('main-view'));
                        else if (currentRoute === 'reports') this.renderReports(document.getElementById('main-view'));
                        else if (currentRoute === 'drrm') this.renderDrrm(document.getElementById('main-view'));
                    }

                } catch (e) {
                    console.warn("Data sync partial fail", e);
                } finally {
                    if (!silent) this.showLoader(false);
                }
            },

            showLoader(show) {
                const l = document.getElementById('global-loader');
                if (show) { l.classList.remove('hidden'); l.classList.add('flex'); }
                else { l.classList.add('hidden'); l.classList.remove('flex'); }
            },

            async loadSheetJS() {
                if (window.XLSX) return true;
                this.showLoader(true);
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
                    script.onload = () => { this.showLoader(false); resolve(true); };
                    script.onerror = () => { this.showLoader(false); this.toast('Failed to load SheetJS', 'error'); reject(); };
                    document.head.appendChild(script);
                });
            },

            // --- GOD MODE & PRINCIPAL HELPERS ---
            /* v2.9.3: Added PSDS position to Principal powers */
            isDev() { return this.user && this.user.role === 'Developer'; },
            isPrincipal() { return this.user && (this.user.role === 'Principal' || this.user.role === 'Assistant Principal' || (this.user.position || '').includes('PSDS')); },
            isFaculty() { return this.user && this.user.role === 'Faculty'; },

            saveSession() { localStorage.setItem(DB_KEY_CURRENT, JSON.stringify(this.user)); },

            isDrrm() {
                /* v2.9.3: DRRM position users only get access to DRRM Corner */
                return this.user && ((this.user.position || '').toUpperCase() === 'DRRM' || (this.user.position || '').includes('DRRM'));
            },

            renderDrrm(container) {
                const stats = {};
                const activeSY = this.settings.activeSchoolYear || '2024-2025';
                const visibleTypes = this.reportTypes.filter(t => t.status !== 'hidden' && t.category === 'DRRM');

                // Auto-tag legacy reports based on date (Assume SY Starts August 1)
                this.reports.forEach(r => {
                    if (!r.schoolYear) {
                        const d = r.date ? new Date(r.date) : new Date();
                        const year = d.getFullYear();
                        const month = d.getMonth(); // 0-indexed (7 = August)
                        r.schoolYear = (month >= 7) ? `${year}-${year + 1}` : `${year - 1}-${year}`;
                    }
                });

                const reportsToProcess = this.reports.filter(r => r.schoolYear === activeSY);

                visibleTypes.forEach(type => {
                    const total = reportsToProcess.filter(r => r.typeId === type.id).reduce((sum, r) => sum + (parseInt(r.metricValue) || 0), 0);
                    stats[type.id] = total;
                });

                const totalReports = reportsToProcess.filter(r => {
                    const type = this.reportTypes.find(t => t.id === r.typeId);
                    return type && type.category === 'DRRM';
                }).length;

                const dynamicCards = visibleTypes.map(type => `
            <div onclick="App.viewReportDetails('${type.id}')" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden group cursor-pointer hover:border-brand-300 transition-all" data-tooltip="View details for ${type.label}">
                <div class="absolute right-[-10px] top-[-10px] bg-${type.color}-50 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                <i class="ph-fill ${type.icon} text-2xl text-${type.color}-500 relative z-10 mb-2"></i>
                <h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 relative z-10">${type.label}</h4>
                <h3 class="text-2xl font-bold text-gray-900 relative z-10">${stats[type.id] || 0} <span class="text-sm font-medium text-gray-500">${type.unit || ''}</span></h3>
                <p class="text-xs text-gray-500 font-medium relative z-10">${type.metricLabel}</p>
            </div>
        `).join('');

                container.innerHTML = `
            <div class="max-w-5xl mx-auto w-full px-5 md:px-0 animate-fade-in">
                <div class="flex justify-between items-end mb-6 pt-8 border-b border-gray-100 pb-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 flex items-center gap-2">
                            <i class="ph-fill ph-siren text-red-500"></i> DRRM Incident Report
                        </h2>
                        <p class="text-sm text-gray-500">Disaster Risk Reduction and Management (${activeSY})</p>
                    </div>
                    <div class="flex gap-2">
                        ${this.canManageUsers() || this.isDrrm() ? `<button onclick="App.openCreateReportTypeModal('DRRM')" class="bg-gray-100 text-gray-600 rounded-xl px-4 py-2 text-sm font-bold hover:bg-gray-200 transition-colors"><i class="ph-bold ph-plus"></i> Add Incident Type</button>` : ''}
                        <button onclick="App.openSubmitModal()" class="bg-brand-600 text-white rounded-xl px-4 py-2 text-sm font-bold shadow-lg hover:bg-brand-700 transition-transform active:scale-95 flex items-center gap-2" data-tooltip="Submit a new report"><i class="ph-bold ph-upload-simple"></i> Submit Report</button>
                    </div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    ${dynamicCards.length ? dynamicCards : `<div class="col-span-4 text-center py-8 text-gray-400 text-sm bg-gray-50 rounded-2xl border border-dashed border-gray-200">No DRRM incident types defined yet.</div>`}
                </div>
                <h3 class="text-sm font-bold text-gray-900 mb-3 uppercase tracking-wider">Recent Incident Logs</h3>
                <div class="bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm">
                    ${reportsToProcess.filter(r => { const t = this.reportTypes.find(x => x.id === r.typeId); return t && t.category === 'DRRM'; }).length === 0 ? `<div class="p-8 text-center text-gray-400 text-sm">No incident reports submitted for this school year yet.</div>` :
                        reportsToProcess
                            .filter(r => { const t = this.reportTypes.find(x => x.id === r.typeId); return t && t.category === 'DRRM'; })
                            .sort((a, b) => new Date(b.date) - new Date(a.date))
                            .slice(0, 10)
                            .map(r => `
                            <div class="p-4 border-b border-gray-50 flex items-center justify-between last:border-0 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-lg bg-red-50 flex items-center justify-center text-red-600"><i class="ph-fill ph-warning-octagon text-xl"></i></div>
                                    <div><p class="text-sm font-bold text-gray-900">${r.typeLabel} <span class="font-normal text-gray-500">(${r.metricValue} ${r.unit || ''})</span></p><p class="text-xs text-gray-500">${r.user}  ${this.formatDate(r.date)}</p></div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <a href="${r.fileUrl || '#'}" target="_blank" class="text-xs font-medium text-green-600 bg-white border border-green-100 px-3 py-1 rounded-full hover:bg-green-50">View File</a>
                                    ${this.canManageUsers() || this.isDrrm() ? `<button onclick="App.deleteReport('${r.id}')" class="text-red-500 hover:bg-red-50 p-2 rounded-full transition-colors" title="Delete Report"><i class="ph-bold ph-trash"></i></button>` : ''}
                                </div>
                            </div>
                        `).join('')}
                </div>
            </div>
        `;
            },
            // --- DRRM MODULE END ---

            // --- UI LOGIC ---
            applySettings() {
                // Settings Application Logic
                document.title = this.settings.appName;
                const sidebarName = document.getElementById('app-name-sidebar');
                const mobileName = document.getElementById('app-name-mobile');
                if (sidebarName) sidebarName.innerHTML = `${this.settings.appName} <sub class="text-[10px] text-brand-600 font-bold ml-0.5">v2.9</sub>`;
                if (mobileName) mobileName.innerText = this.settings.appName;

                if (this.settings.logo) {
                    const applyLogo = (containerId, iconId, imgId) => {
                        const container = document.getElementById(containerId);
                        const icon = document.getElementById(iconId);
                        const img = document.getElementById(imgId);
                        if (container && icon && img) {
                            icon.classList.add('hidden');
                            img.src = this.settings.logo;
                            img.classList.remove('hidden');
                        }
                    };
                    applyLogo('sidebar-logo-container', 'sidebar-logo-icon', 'sidebar-logo-img');
                    applyLogo('mobile-logo-container', 'mobile-logo-icon', 'mobile-logo-img');
                }

                const body = document.getElementById('body-root');
                const mainView = document.getElementById('main-view');

                if (this.settings.backgroundImage && !this.settings.opaqueBg) {
                    body.style.backgroundImage = `url('${this.settings.backgroundImage}')`;
                    body.style.backgroundSize = '100% 100%';
                    body.style.backgroundPosition = 'center';
                    body.style.backgroundAttachment = 'fixed';
                    body.style.backgroundColor = 'transparent';
                    if (mainView) {
                        mainView.classList.remove('bg-surface');
                        mainView.classList.add('backdrop-blur-sm');
                        mainView.style.backgroundColor = `rgba(255, 255, 255, ${this.settings.bgOpacity})`;
                    }
                } else {
                    body.style.backgroundImage = 'none';
                    if (mainView) {
                        mainView.classList.add('bg-surface');
                        mainView.classList.remove('backdrop-blur-sm');
                        mainView.style.backgroundColor = '';
                    }
                }

                if (this.settings.opaqueBg) document.getElementById('body-root').classList.add('app-opaque-bg');
                else document.getElementById('body-root').classList.remove('app-opaque-bg');
            },

            // --- UTILITIES ---
            toast(msg, type = 'success') {
                const toast = document.createElement('div');
                const colors = type === 'error' ? 'bg-red-500 text-white' : 'bg-gray-900 text-white';
                const icon = type === 'error' ? '<i class="ph-bold ph-warning-circle"></i>' : '<i class="ph-bold ph-check-circle"></i>';

                toast.className = `fixed bottom-5 right-5 ${colors} px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 transform translate-y-10 opacity-0 transition-all duration-300 z-[60] font-medium text-sm`;
                toast.innerHTML = `${icon} <span>${msg}</span>`;

                document.body.appendChild(toast);

                // Animate In
                requestAnimationFrame(() => {
                    toast.classList.remove('translate-y-10', 'opacity-0');
                });

                // Animate Out
                setTimeout(() => {
                    toast.classList.add('translate-y-10', 'opacity-0');
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            },

            // --- IMAGE URL FIXER ---
            // Converts unstable drive.google.com/uc links to stable lh3.googleusercontent.com links
            resolveImageUrl(url) {
                if (!url) return '';
                if (url.startsWith('data:')) return url; // Base64 is fine

                // Check if it's a Google Drive export link or open link
                // Pattern 1: drive.google.com/uc?id=...
                // Pattern 2: drive.google.com/file/d/.../view
                // Pattern 3: drive.google.com/open?id=...

                try {
                    let id = null;
                    if (url.includes('id=')) {
                        const match = url.match(/id=([^&]+)/);
                        if (match) id = match[1];
                    } else if (url.includes('/file/d/')) {
                        const match = url.match(/\/file\/d\/([^/]+)/);
                        if (match) id = match[1];
                    }

                    if (id) {
                        // Use the lh3 googleusercontent link which is more robust for embedding
                        return `https://lh3.googleusercontent.com/d/${id}`;
                    }
                } catch (e) { console.error("URL Parse Error", e); }

                return url;


            },

            // --- SYSTEM OVERLAYS ---
            openModal(contentHtml) {
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                content.innerHTML = contentHtml;
                overlay.classList.remove('hidden');
                setTimeout(() => {
                    overlay.classList.remove('opacity-0');
                    content.classList.remove('translate-y-full', 'md:translate-y-10');
                    content.classList.add('md:translate-y-0');
                }, 10);
            },

            closeModal() {
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                content.classList.add('translate-y-full', 'md:translate-y-10');
                content.classList.remove('md:translate-y-0');
                overlay.classList.add('opacity-0');
                setTimeout(() => {
                    overlay.classList.add('hidden');
                    content.innerHTML = '';
                }, 300);
            },

            askConfirm(title, message, onConfirm) {
                this.pendingCallback = onConfirm;
                const html = `
                    <div class="text-center">
                        <div class="w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce-slight">
                            <i class="ph-fill ph-warning-circle text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">${title}</h3>
                        <p class="text-gray-500 text-sm mb-8 leading-relaxed">${message}</p>
                        <div class="flex gap-3">
                            <button onclick="App.closeModal()" class="flex-1 py-3.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 transition-colors">Cancel</button>
                            <button onclick="App.executeCallback()" class="flex-1 py-3.5 rounded-xl font-bold bg-red-600 text-white shadow-lg shadow-red-200 hover:bg-red-700 transition-colors">Confirm</button>
                        </div>
                    </div>
                `;
                this.openModal(html);
            },



            askPrompt(title, message, defaultValue = '', onSubmit) {
                this.pendingCallback = onSubmit;
                const html = `
                    <div class="text-left">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold text-gray-900">${title}</h3>
                            <button onclick="App.closeModal()" class="text-gray-400 hover:text-gray-600"><i class="ph-bold ph-x text-lg"></i></button>
                        </div>
                        <p class="text-gray-500 text-xs mb-4">${message}</p>
                        <input type="text" id="custom-prompt-input" value="${defaultValue}" class="input-field mb-6" placeholder="Enter value..." autofocus onkeydown="if(event.key === 'Enter') App.executeCallback(document.getElementById('custom-prompt-input').value)">
                        <button onclick="App.executeCallback(document.getElementById('custom-prompt-input').value)" class="w-full py-3.5 rounded-xl font-bold bg-brand-600 text-white shadow-lg shadow-brand-200 hover:bg-brand-700 transition-colors">Submit</button>
                    </div>
                `;
                this.openModal(html);
                setTimeout(() => document.getElementById('custom-prompt-input')?.focus(), 100);
            },

            executeCallback(value = null) {
                if (this.pendingCallback) {
                    this.pendingCallback(value);
                    this.pendingCallback = null;
                }
                this.closeModal();
            },

            compressImage(src, maxWidth = 600, quality = 0.6) {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.src = src;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        let width = img.width;
                        let height = img.height;
                        if (width > height) {
                            if (width > maxWidth) { height *= maxWidth / width; width = maxWidth; }
                        } else {
                            if (height > maxWidth) { width *= maxWidth / height; height = maxWidth; }
                        }
                        canvas.width = width;
                        canvas.height = height;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, width, height);
                        resolve(canvas.toDataURL('image/jpeg', quality));
                    };
                    img.onerror = () => resolve(src);
                });
            },

            // --- IMAGE URL FIXER ---
            // Converts unstable drive.google.com/uc links to stable lh3.googleusercontent.com links
            resolveImageUrl(url) {
                if (!url) return '';
                if (url.startsWith('data:')) return url; // Base64 is fine

                // Check if it's a Google Drive export link or open link
                // Pattern 1: drive.google.com/uc?id=...
                // Pattern 2: drive.google.com/file/d/.../view
                // Pattern 3: drive.google.com/open?id=...

                try {
                    let id = null;
                    if (url.includes('id=')) {
                        const match = url.match(/id=([^&]+)/);
                        if (match) id = match[1];
                    } else if (url.includes('/file/d/')) {
                        const match = url.match(/\/file\/d\/([^/]+)/);
                        if (match) id = match[1];
                    }

                    if (id) {
                        // Use the lh3 googleusercontent link which is more robust for embedding
                        return `https://lh3.googleusercontent.com/d/${id}`;
                    }
                } catch (e) { console.error("URL Parse Error", e); }

                return url;
            },

            // --- UI LOGIC ---
            applySettings() {
                // Settings Application Logic
                document.title = this.settings.appName || 'School Portal';
                const sidebarName = document.getElementById('app-name-sidebar');
                const mobileName = document.getElementById('app-name-mobile');

                const appNameHtml = `${this.settings.appName}`;

                if (sidebarName) sidebarName.innerHTML = appNameHtml;
                if (mobileName) mobileName.innerText = this.settings.appName;

                // Logo Handling
                const logoUrl = this.resolveImageUrl(this.settings.logo);
                if (logoUrl) {
                    const applyLogo = (containerId, iconId, imgId) => {
                        const container = document.getElementById(containerId);
                        const icon = document.getElementById(iconId);
                        const img = document.getElementById(imgId);
                        if (container && icon && img) {
                            icon.classList.add('hidden');
                            img.src = logoUrl;
                            img.classList.remove('hidden');

                            // Error handler: if image breaks, revert to icon
                            img.onerror = () => {
                                console.warn("Logo failed to load:", logoUrl);
                                img.classList.add('hidden');
                                icon.classList.remove('hidden');
                            };
                        }
                    };
                    applyLogo('sidebar-logo-container', 'sidebar-logo-icon', 'sidebar-logo-img');
                    applyLogo('mobile-logo-container', 'mobile-logo-icon', 'mobile-logo-img');
                }

                // Background Handling
                const body = document.getElementById('body-root');
                const mainView = document.getElementById('main-view');
                const bgUrl = this.resolveImageUrl(this.settings.backgroundImage);

                if (bgUrl && !this.settings.opaqueBg) {
                    // Preload image to check validity before applying
                    const img = new Image();
                    img.src = bgUrl;
                    img.onload = () => {
                        body.style.backgroundImage = `url('${bgUrl}')`;
                        body.style.backgroundSize = 'cover';
                        body.style.backgroundPosition = 'center';
                        body.style.backgroundAttachment = 'fixed';
                        body.style.backgroundColor = 'transparent'; // Override default

                        if (mainView) {
                            mainView.classList.remove('bg-surface');
                            mainView.classList.add('backdrop-blur-sm');
                            mainView.style.backgroundColor = `rgba(255, 255, 255, ${this.settings.bgOpacity})`;
                        }
                    };
                    img.onerror = () => {
                        console.warn("Background image failed to load:", bgUrl);
                        // Revert to default
                        body.style.backgroundImage = 'none';
                        if (mainView) {
                            mainView.classList.add('bg-surface');
                            mainView.classList.remove('backdrop-blur-sm');
                            mainView.style.backgroundColor = '';
                        }
                    };
                } else {
                    body.style.backgroundImage = 'none';
                    if (mainView) {
                        mainView.classList.add('bg-surface');
                        mainView.classList.remove('backdrop-blur-sm');
                        mainView.style.backgroundColor = '';
                    }
                }

                if (this.settings.opaqueBg) document.getElementById('body-root').classList.add('app-opaque-bg');
                else document.getElementById('body-root').classList.remove('app-opaque-bg');
            },

            // --- DATE FORMATTER ---
            formatDate(dateObj = new Date()) {
                if (typeof dateObj === 'string') dateObj = new Date(dateObj); // Convert string to Date
                if (isNaN(dateObj.getTime())) return "Unknown Date";

                // Format: January 23, 2026 09:44 AM
                return dateObj.toLocaleString('en-US', {
                    month: 'long',
                    day: 'numeric',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: true
                });
            },

            // --- DATA EXPIRY CHECK ---
            isContentExpired(timestampStr) {
                // Assuming timestampStr is parseable by Date()
                const contentDate = new Date(timestampStr);
                if (isNaN(contentDate.getTime())) return false; // Keep if invalid date
                const diffTime = Math.abs(new Date() - contentDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays > 365;
            },

            router(route) {
                const main = document.getElementById('main-view');
                const mobHeader = document.getElementById('mobile-header');
                const mobNav = document.getElementById('bottom-nav');
                const sidebar = document.getElementById('sidebar');

                const updateActive = (selector) => {
                    document.querySelectorAll(selector).forEach(btn => {
                        if (btn.dataset.target === route) {
                            btn.classList.add('active', 'text-brand-600', 'bg-brand-50');
                            btn.classList.remove('text-gray-500', 'text-gray-400');
                        } else {
                            btn.classList.remove('active', 'text-brand-600', 'bg-brand-50');
                            btn.classList.add(selector.includes('sidebar') ? 'text-gray-500' : 'text-gray-400');
                        }
                    });
                };
                updateActive('.nav-btn');
                updateActive('.sidebar-btn');

                this.applySettings();

                if (this.user && route !== 'landing') {
                    const avatar = this.resolveImageUrl(this.user.avatar) || `https://ui-avatars.com/api/?name=${this.user.firstName}+${this.user.lastName}&background=random`;
                    document.getElementById('nav-avatar').src = avatar;
                    document.getElementById('sidebar-avatar').src = avatar;
                    document.getElementById('sidebar-name').innerText = `${this.user.firstName} ${this.user.lastName}`;
                    document.getElementById('sidebar-role').innerText = this.user.position || 'Faculty';

                    // --- DRRM VISIBILITY CHECK ---
                    const drrmSidebar = document.getElementById('nav-sidebar-drrm');
                    const drrmMobile = document.getElementById('nav-mobile-drrm');
                    // Check permissions
                    const showDrrm = this.isPrincipal() || this.isDev() || this.isDrrm();

                    if (drrmSidebar && drrmMobile) {
                        if (showDrrm) {
                            drrmSidebar.classList.remove('hidden'); drrmSidebar.classList.add('flex');
                            drrmMobile.classList.remove('hidden'); drrmMobile.classList.add('flex');
                        } else {
                            drrmSidebar.classList.add('hidden'); drrmSidebar.classList.remove('flex');
                            drrmMobile.classList.add('hidden'); drrmMobile.classList.remove('flex');
                        }
                    }

                    mobHeader.classList.remove('hidden');
                    mobNav.classList.remove('hidden');
                    sidebar.classList.remove('hidden');
                    sidebar.classList.add('md:flex');
                } else {
                    mobHeader.classList.add('hidden');
                    mobNav.classList.add('hidden');
                    sidebar.classList.add('hidden');
                    sidebar.classList.remove('md:flex');
                }

                main.innerHTML = '';
                main.scrollTop = 0;

                if (route !== 'groups') this.activeGroupId = null;

                this.postsLimit = 10;
                this.chatLimit = 10;

                if (route !== 'landing' && route !== 'login') {
                    window.history.replaceState(null, '', '#' + route);
                }

                switch (route) {
                    case 'landing': this.renderLanding(main); break;
                    case 'home': this.renderHome(main); break;
                    case 'directory': this.renderDirectory(main); break; // [ADDED]
                    case 'groups': this.renderGroups(main); break;
                    case 'reports': this.renderReports(main); break;
                    case 'drrm': this.renderDrrm(main); break; // NEW ROUTE
                    case 'profile': this.renderProfile(main); break;
                    default: this.renderAuth(route, main);
                }
            },

            // --- LANDING PAGE ---
            renderLanding(container) {
                const u = this.user;
                const avatar = this.resolveImageUrl(u.avatar) || `https://ui-avatars.com/api/?name=${u.firstName}+${u.lastName}&background=random`;

                container.innerHTML = `
                    <div class="min-h-full flex flex-col items-center justify-center p-6 bg-surface animate-fade-in relative overflow-hidden">
                        <div class="absolute top-[-10%] left-[-10%] w-64 h-64 bg-brand-200 rounded-full blur-3xl opacity-30"></div>
                        <div class="absolute bottom-[-10%] right-[-10%] w-64 h-64 bg-blue-200 rounded-full blur-3xl opacity-30"></div>

                        <div class="z-10 text-center flex flex-col items-center">
                            <div class="w-24 h-24 md:w-32 md:h-32 rounded-full p-1 bg-white shadow-xl mb-6 relative group">
                                <div class="absolute inset-0 rounded-full border-2 border-brand-500 border-dashed animate-spin-slow"></div>
                                <img src="${avatar}" class="w-full h-full rounded-full object-cover relative z-10">
                            </div>
                            
                            <h2 class="text-gray-500 font-medium tracking-wide text-sm uppercase mb-2">Welcome Back</h2>
                            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-8 tracking-tight">${u.firstName} ${u.lastName}</h1>
                            
                            <button onclick="App.enterApp()" class="group relative px-8 py-4 bg-gray-900 text-white font-bold rounded-2xl shadow-xl hover:shadow-2xl hover:bg-black transition-all active:scale-95 flex items-center gap-3">
                                <span>ENTER SYSTEM</span>
                                <i class="ph-bold ph-arrow-right group-hover:translate-x-1 transition-transform"></i>
                            </button>
                            
                            <p class="mt-8 text-xs text-gray-400">${this.settings.appName} v2.9</p>
                        </div>
                    </div>
                 `;
            },

            enterApp() {
                // Profile Guard
                const required = ['philHealth', 'gsis', 'ethnicity', 'age', 'education', 'personalEmail', 'homeAddress', 'contactNumber'];
                let missing = [];
                required.forEach(field => {
                    if (!this.user[field] || this.user[field].toString().trim() === '') missing.push(field);
                });

                if (missing.length > 0) {
                    this.toast('Action Required: Please complete your profile.', 'error');
                    this.router('profile');
                    this.user.profileCompleted = false;
                } else {
                    this.user.profileCompleted = true;
                    this.saveSession();
                    this.router('home');
                }
            },

            // --- AUTH & SETUP ---
            renderAuth(type, container) {
                if (!container) container = document.getElementById('main-view');

                document.getElementById('mobile-header').classList.add('hidden');
                document.getElementById('bottom-nav').classList.add('hidden');
                document.getElementById('sidebar').classList.add('hidden');
                document.getElementById('sidebar').classList.remove('md:flex');

                const isLogin = type === 'login';

                container.innerHTML = `
                    <div class="min-h-full flex items-center justify-center p-6 animate-fade-in bg-white md:bg-surface">
                        <div class="w-full max-w-md bg-white md:p-10 md:rounded-3xl md:shadow-xl md:border md:border-gray-100">
                            <div class="mb-10 text-center">
                                <div class="w-16 h-16 bg-brand-600 rounded-full mx-auto flex items-center justify-center mb-4 shadow-xl shadow-brand-200 overflow-hidden">
                                    ${this.settings.logo ? `<img src="${this.resolveImageUrl(this.settings.logo)}" class="w-full h-full object-cover">` : `<i class="ph-fill ph-student text-3xl text-white"></i>`}
                                </div>
                                <h2 class="text-2xl font-bold text-gray-900 tracking-tight">${this.settings.appName}</h2>
                                <p class="text-gray-500 mt-2 text-sm">Faculty & Staff Portal</p>
                            </div>

                            <form onsubmit="App.handleAuth(event, '${type}')" class="space-y-5">
                                ${!isLogin ? `
                                <div class="bg-blue-50 border border-blue-100 text-blue-800 text-xs p-3 rounded-lg flex gap-2">
                                    <i class="ph-fill ph-info text-base"></i>
                                    <span>Please use your official <strong>DepEd email address</strong> for registration.</span>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <input type="text" name="firstName" placeholder="First Name" class="input-field" required>
                                    <input type="text" name="lastName" placeholder="Last Name" class="input-field" required>
                                </div>
                                <div class="space-y-3">
                                    <select name="roleSelect" class="input-field text-gray-500" onchange="const ci=document.getElementById('auth-custom-role'); if(this.value==='custom'){ci.classList.remove('hidden');ci.required=true;}else{ci.classList.add('hidden');ci.required=false;}" required>
                                        <option value="" disabled selected>Select Position</option>
                                        <option value="Faculty">Faculty</option>
                                        <option value="Staff">Staff</option>
                                        <option value="Department Head">Department Head</option>
                                        <option value="Administrator">Administrator</option>
                                        <option value="custom">Other (Custom)</option>
                                    </select>
                                    <input type="text" name="customRole" id="auth-custom-role" placeholder="Enter Custom Position" class="input-field hidden">
                                </div>
                                <input type="text" name="empId" placeholder="Employee Number (Optional)" class="input-field">
                                ` : ''}
                                
                                <input type="email" name="email" placeholder="Email Address" class="input-field" required>
                                <input type="password" name="password" placeholder="Password" class="input-field" required>
                                ${!isLogin ? `<input type="password" name="confirmPassword" placeholder="Confirm Password" class="input-field" required>` : ''}
                                
                                ${isLogin ? `<div class="flex justify-end"><button type="button" onclick="App.forgotPassword()" class="text-xs font-semibold text-brand-600 hover:text-brand-700">Forgot Password?</button></div>` : ''}

                                <button type="submit" id="auth-btn" class="w-full bg-brand-600 text-white font-semibold py-3.5 rounded-xl shadow-lg shadow-brand-200 hover:bg-brand-700 hover:shadow-xl transform active:scale-95 transition-all">
                                    ${isLogin ? 'Sign In' : 'Create Account'}
                                </button>
                            </form>

                            <div class="mt-8 text-center">
                                <button onclick="App.renderAuth('${isLogin ? 'register' : 'login'}')" class="text-sm text-gray-500 hover:text-brand-600 font-medium">
                                    ${isLogin ? 'New faculty? Register here' : 'Already have an account? Sign In'}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            },

            forgotPassword() {
                const html = `
                    <div class="text-center">
                        <div class="w-16 h-16 bg-blue-50 text-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce-slight">
                            <i class="ph-fill ph-lock-key-open text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Password Recovery</h3>
                        <p class="text-gray-500 text-sm mb-8 leading-relaxed px-4">To reset your password, please contact the <strong>System Developer</strong> or your <strong>School Principal</strong> directly for verification.</p>
                        <button onclick="App.closeModal()" class="w-full py-3.5 rounded-xl font-bold bg-brand-600 text-white shadow-lg shadow-brand-200 hover:bg-brand-700 transition-colors">Okay, I understand</button>
                    </div>
                `;
                this.openModal(html);
            },

            async handleAuth(e, type) {
                e.preventDefault();
                const btn = document.getElementById('auth-btn');
                btn.disabled = true;
                btn.innerText = 'Processing...';

                const formData = new FormData(e.target);
                const data = Object.fromEntries(formData);

                // FIX: "Invalid Password" Trap
                if (data.password) data.password = data.password.trim();
                if (data.confirmPassword) data.confirmPassword = data.confirmPassword.trim();

                if (type === 'register') {
                    // --- NEW VALIDATION START ---
                    const pw = data.password;
                    if (pw.length < 6) {
                        this.toast('Password must be at least 6 characters.', 'error');
                        btn.disabled = false; btn.innerText = 'Create Account';
                        return;
                    }
                    const hasLetter = /[a-zA-Z]/.test(pw);
                    const hasNumber = /\d/.test(pw);

                    if (!hasLetter || !hasNumber) {
                        this.toast('Password must contain both letters and numbers.', 'error');
                        btn.disabled = false; btn.innerText = 'Create Account';
                        return;
                    }
                    // --- NEW VALIDATION END ---

                    if (data.password !== data.confirmPassword) {
                        this.toast('Passwords do not match', 'error');
                        btn.disabled = false; btn.innerText = 'Create Account';
                        return;
                    }

                    // Pre-process Roles
                    let position = data.roleSelect;
                    let systemRole = 'Faculty';
                    if (position === 'custom') {
                        position = data.customRole;
                        const posLower = position.toLowerCase().trim();
                        if (posLower.includes('principal') || posLower.includes('school head')) {
                            if (posLower.includes('assistant')) systemRole = 'Assistant Principal';
                            else systemRole = 'Principal';
                        }
                    }
                    if (position === 'Administrator') systemRole = 'Admin';

                    data.position = position;
                    data.role = systemRole;
                    data.department = systemRole === 'Developer' ? 'System Internal' : (systemRole.includes('Principal') ? 'Administration' : 'General');

                    // --- ID GENERATION ADDED HERE ---
                    data.id = 'USR-' + Date.now().toString().slice(-8) + Math.floor(Math.random() * 100);
                    data.joined = new Date().toLocaleDateString();

                    const res = await this.api('register', data);
                    if (res) {
                        this.toast('Registration successful! Please login.');
                        this.renderAuth('login');
                    }
                } else {
                    const res = await this.api('login', data);
                    if (res && res.user) {
                        this.user = res.user;
                        this.saveSession();
                        this.toast(`Welcome back, ${res.user.firstName}`);
                        await this.refreshData(); // Fetch Data on Login
                        this.enterApp();
                    }
                }
                btn.disabled = false;
                btn.innerText = type === 'login' ? 'Sign In' : 'Create Account';
            },

            logout() {
                this.user = null;
                localStorage.removeItem(DB_KEY_CURRENT);
                this.init();
                this.user = null;
                this.router('login');
                this.toast('Logged out successfully');
            },

            // --- GROUP LOGIC ---
            getMyGroups() {
                if (this.isDev()) return this.groups;
                // Strict check: match exact ID to avoid matching INVITE_ prefix
                return this.groups.filter(g => g.memberIds && g.memberIds.includes(this.user.id));
            },

            getInvitedGroups() {
                const inviteKey = `INVITE_${this.user.id}`;
                return this.groups.filter(g => g.memberIds && g.memberIds.includes(inviteKey));
            },

            getUserName(uid) {
                // Handle pending prefix for display
                const cleanId = uid.replace('INVITE_', '');
                const u = this.users.find(user => user.id === cleanId);
                return u ? `${u.firstName} ${u.lastName}` : 'Unknown';
            },

            getAvatar(uid) {
                const cleanId = uid.replace('INVITE_', '');
                const u = this.users.find(user => user.id === cleanId);
                if (u && u.avatar) return this.resolveImageUrl(u.avatar);
                if (u) return `https://ui-avatars.com/api/?name=${u ? u.firstName : 'User'}+${u ? u.lastName : ''}&background=random`;
                return '';
            },

            viewUserProfile(targetUserId) {
                // Clean ID if it has prefix
                targetUserId = targetUserId.replace('INVITE_', '');

                // Permission checks removed: any user can view profiles

                const user = this.users.find(u => u.id === targetUserId);
                if (!user) return;

                const avatar = this.resolveImageUrl(user.avatar) || `https://ui-avatars.com/api/?name=${user.firstName}+${user.lastName}&background=random`;

                const html = `
                    <div class="text-center">
                        <div class="w-24 h-24 rounded-full border-4 border-white shadow-lg mx-auto mb-4 overflow-hidden bg-gray-200">
                            <img src="${avatar}" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-xl font-bold text-gray-900">${user.firstName} ${user.lastName}</h3>
                        <p class="text-brand-600 font-medium text-sm mb-6">${user.position}</p>
                        
                        <div class="bg-gray-50 rounded-xl p-4 text-left space-y-3 mb-6 border border-gray-100">
                            <h4 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">Work Information</h4>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <div><span class="text-gray-500 text-xs block">Department</span><span class="font-semibold text-gray-800">${user.department || 'N/A'}</span></div>
                                <div><span class="text-gray-500 text-xs block">Subject</span><span class="font-semibold text-gray-800">${user.subject || 'N/A'}</span></div>
                                <div class="col-span-2"><span class="text-gray-500 text-xs block">Grade Level Handled</span><span class="font-semibold text-gray-800">${user.gradeLevel || 'N/A'}</span></div>
                            </div>
                        </div>
                        <button onclick="App.closeModal()" class="w-full py-3 rounded-xl font-bold bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors">Close</button>
                    </div>
                `;
                this.openModal(html);
            },

            renderGroups(container) {
                if (this.activeGroupId) {
                    const group = this.groups.find(g => g.id === this.activeGroupId);
                    if (group) this.renderGroupDetail(container, group);
                    else { this.activeGroupId = null; this.renderGroupLobby(container); }
                } else {
                    this.renderGroupLobby(container);
                }
            },

            renderGroupLobby(container) {
                const myGroups = this.getMyGroups();
                const invitedGroups = this.getInvitedGroups();
                let groupsHtml = '';
                let invitesHtml = '';

                // --- INVITATIONS SECTION ---
                if (invitedGroups.length > 0) {
                    invitesHtml = `
                        <div class="mb-8">
                            <h3 class="text-sm font-bold text-gray-900 mb-3 flex items-center gap-2">
                                <span class="w-2 h-2 rounded-full bg-red-500 animate-pulse"></span> Pending Invitations
                            </h3>
                            <div class="grid gap-3 md:grid-cols-2">
                                ${invitedGroups.map(g => `
                                    <div class="bg-white p-4 rounded-2xl border border-blue-100 shadow-sm flex items-center justify-between">
                                        <div class="flex items-center gap-3">
                                            <div class="w-12 h-12 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-lg border border-blue-100">
                                                ${g.name.charAt(0)}
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-gray-900 text-sm">${g.name}</h4>
                                                <p class="text-xs text-gray-500">Invited you to join</p>
                                            </div>
                                        </div>
                                        <div class="flex gap-2">
                                            <button onclick="App.respondToInvite('${g.id}', false)" class="p-2 text-gray-400 hover:text-red-500 transition-colors"><i class="ph-bold ph-x"></i></button>
                                            <button onclick="App.respondToInvite('${g.id}', true)" class="px-4 py-2 bg-brand-600 text-white text-xs font-bold rounded-lg shadow-md hover:bg-brand-700 transition-colors">Accept</button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }

                // --- ACTIVE GROUPS SECTION ---
                if (myGroups.length > 0) {
                    groupsHtml = `
                        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-8">
                            ${myGroups.map(group => {
                        const groupAvatar = this.resolveImageUrl(group.avatar) || `https://ui-avatars.com/api/?name=${group.name}&background=random&font-size=0.33`;
                        let role = 'Member';
                        const isLeader = group.leaderId === this.user.id;
                        if (isLeader) role = 'Leader';
                        else if (group.assistant1Id === this.user.id || group.assistant2Id === this.user.id) role = 'Assistant Leader';
                        else if (this.isDev()) role = 'Dev View';
                        const roleColor = isLeader ? 'text-brand-600 bg-brand-50' : (this.isDev() ? 'text-purple-600 bg-purple-50' : 'text-gray-500 bg-gray-100');

                        return `
                                    <div onclick="App.enterGroup('${group.id}')" class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-brand-200 transition-all cursor-pointer group/card flex flex-col justify-between h-full">
                                        <div>
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="w-14 h-14 rounded-xl overflow-hidden bg-gray-50 border border-gray-100">
                                                    <img src="${groupAvatar}" class="w-full h-full object-cover">
                                                </div>
                                                <span class="text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full ${roleColor}">${role}</span>
                                            </div>
                                            <h3 class="font-bold text-gray-900 text-lg mb-1 group-hover/card:text-brand-600 transition-colors">${group.name}</h3>
                                            <p class="text-sm text-gray-500 line-clamp-2">${group.description}</p>
                                        </div>
                                        <div class="mt-5 pt-4 border-t border-gray-50 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                ${group.memberIds.filter(mid => !mid.startsWith('INVITE_')).slice(0, 3).map(mid => `<img src="${this.getAvatar(mid)}" class="w-6 h-6 rounded-full border-2 border-white">`).join('')}
                                                ${group.memberIds.filter(mid => !mid.startsWith('INVITE_')).length > 3 ? `<div class="w-6 h-6 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-[8px] font-bold text-gray-500">+${group.memberIds.filter(mid => !mid.startsWith('INVITE_')).length - 3}</div>` : ''}
                                            </div>
                                            <span class="text-xs font-medium text-brand-600 flex items-center gap-1">Enter <i class="ph-bold ph-caret-right"></i></span>
                                        </div>
                                    </div>
                                `;
                    }).join('')}
                            
                            <div onclick="App.openCreateGroupModal()" class="bg-gray-50 border-2 border-dashed border-gray-200 rounded-2xl p-5 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-white hover:border-brand-300 transition-all min-h-[200px] group">
                                <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center mb-3 shadow-sm text-gray-400 group-hover:text-brand-600 group-hover:scale-110 transition-all">
                                    <i class="ph-bold ph-plus text-2xl"></i>
                                </div>
                                <h3 class="font-bold text-gray-900 text-sm">Create Department</h3>
                            </div>
                        </div>
                    `;
                } else {
                    groupsHtml = `
                        <div class="min-h-[40vh] flex flex-col items-center justify-center text-center p-6 animate-fade-in">
                            <div class="w-20 h-20 bg-brand-50 rounded-full flex items-center justify-center mx-auto mb-6">
                                <i class="ph-fill ph-users-three text-4xl text-brand-600"></i>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-900 mb-2">My Departments</h2>
                            <p class="text-gray-500 mb-8 max-w-md">You haven't joined a department yet.</p>
                            <button onclick="App.openCreateGroupModal()" class="bg-brand-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-brand-200 hover:bg-brand-700 active:scale-95 transition-all">
                                Create New Department
                            </button>
                        </div>
                    `;
                }

                container.innerHTML = `
                    <div class="max-w-5xl mx-auto w-full animate-fade-in px-5 md:px-0">
                         <div class="flex justify-between items-center mb-6 pt-4">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-900">Departments</h2>
                                <p class="text-sm text-gray-500">Manage your academic circles</p>
                            </div>
                            <button onclick="App.openJoinGroupModal()" class="text-brand-600 font-bold text-sm bg-brand-50 hover:bg-brand-100 px-4 py-2 rounded-xl transition-colors border border-brand-200">
                                <i class="ph-bold ph-sign-in"></i> Join via ID
                            </button>
                        </div>
                        ${invitesHtml}
                        ${groupsHtml}
                    </div>
                `;
            },

            async respondToInvite(groupId, accept) {
                const group = this.groups.find(g => g.id === groupId);
                if (!group) return;

                const inviteKey = `INVITE_${this.user.id}`;
                // Remove invite key
                group.memberIds = group.memberIds.filter(id => id !== inviteKey);

                if (accept) {
                    // Add actual ID if accepted
                    if (!group.memberIds.includes(this.user.id)) {
                        group.memberIds.push(this.user.id);
                    }
                    this.toast(`You have joined ${group.name}`);
                } else {
                    this.toast('Invitation declined.');
                }

                // Sync with backend
                await this.api('updateGroup', group);
                this.renderGroups(document.getElementById('main-view'));
            },

            openJoinGroupModal() {
                this.askPrompt("Join Department", "Enter the unique Group ID shared by your leader:", "", async (code) => {
                    if (code) {
                        const group = this.groups.find(g => g.id === code.trim());
                        if (group) {
                            if (group.memberIds.includes(this.user.id)) {
                                this.toast("You are already a member of this group.", 'error');
                            } else {
                                // Remove invite if exists
                                const inviteKey = `INVITE_${this.user.id}`;
                                group.memberIds = group.memberIds.filter(id => id !== inviteKey);

                                group.memberIds.push(this.user.id);
                                await this.api('updateGroup', group);
                                this.toast(`Successfully joined ${group.name}!`);
                                this.enterGroup(group.id);
                            }
                        } else {
                            this.toast("Invalid Group ID. Please check and try again.", 'error');
                        }
                    }
                });
            },

            enterGroup(groupId) {
                this.activeGroupId = groupId;
                this.renderGroups(document.getElementById('main-view'));
            },

            exitGroup() {
                this.activeGroupId = null;
                this.renderGroups(document.getElementById('main-view'));
            },

            openCreateGroupModal() {
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                overlay.classList.remove('hidden');
                setTimeout(() => { overlay.classList.remove('opacity-0'); content.classList.remove('translate-y-full', 'md:translate-y-10'); content.classList.add('md:translate-y-0'); }, 10);

                content.innerHTML = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">Create Department</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                    <form onsubmit="App.handleCreateGroup(event)" class="space-y-4 text-left">
                        <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1 ml-1">Group Name</label><input type="text" name="groupName" placeholder="e.g. Science Department" class="input-field" required></div>
                        <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1 ml-1">Description</label><input type="text" name="description" placeholder="Brief description of the group" class="input-field" required></div>
                        
                        <div class="bg-yellow-50 p-4 rounded-xl border border-yellow-100 flex gap-3">
                            <i class="ph-fill ph-lock-key text-yellow-600 text-xl flex-shrink-0"></i>
                            <div class="space-y-2 w-full">
                                <p class="text-sm font-medium text-yellow-800">Verification Required</p>
                                <p class="text-xs text-yellow-700">Please re-enter your password to verify your identity.</p>
                                <input type="password" name="passwordConfirm" placeholder="Current Password" class="input-field bg-white" required>
                            </div>
                        </div>

                        <button type="submit" class="w-full bg-brand-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-brand-200 hover:bg-brand-700 active:scale-95 transition-all">Create Group & Become Leader</button>
                    </form>
                `;
            },

            async handleCreateGroup(e) {
                e.preventDefault();
                const formData = new FormData(e.target);
                const data = Object.fromEntries(formData);

                // FIX: "Invalid Password" Trap
                if (data.passwordConfirm) data.passwordConfirm = data.passwordConfirm.trim();

                if (data.passwordConfirm !== this.user.password) {
                    this.toast('Incorrect password. Verification failed.', 'error');
                    return;
                }

                const newGroup = {
                    id: 'GRP-' + Date.now(),
                    name: data.groupName,
                    description: data.description,
                    leaderId: this.user.id,
                    assistant1Id: null, assistant2Id: null,
                    memberIds: [this.user.id],
                    chatHistory: [], avatar: null
                };

                // API Call
                const res = await this.api('createGroup', newGroup);
                if (res) {
                    this.groups.push(newGroup);
                    this.toast('Group created successfully!');
                    this.closeModal();
                    this.enterGroup(newGroup.id);
                }
            },

            renderGroupDetail(container, myGroup) {
                const isLeader = myGroup.leaderId === this.user.id;
                const isGroupAuthority = isLeader || myGroup.assistant1Id === this.user.id || myGroup.assistant2Id === this.user.id;
                const canEdit = isLeader || this.isDev();

                const groupAvatar = this.resolveImageUrl(myGroup.avatar) || `https://ui-avatars.com/api/?name=${myGroup.name}&background=random&font-size=0.33`;

                // --- CHAT PAGINATION & EXPIRY ---
                // Filter out expired messages (> 1 year)
                const validMessages = myGroup.chatHistory.filter(msg => !this.isContentExpired(msg.time));
                // Show only the last `this.chatLimit` messages
                const visibleMessages = validMessages.slice(-this.chatLimit);
                const hasMore = validMessages.length > this.chatLimit;

                const messagesHtml = visibleMessages.map(msg => {
                    const isMe = msg.userId === this.user.id;
                    const decodedText = Crypto.decrypt(msg.content);

                    let mediaContent = '';
                    if (msg.media) {
                        if (msg.mediaType === 'image') mediaContent = `<img src="${this.resolveImageUrl(msg.media)}" class="w-full rounded-lg mb-2 cursor-pointer border border-gray-200" onclick="window.open(this.src)">`;
                        else if (msg.mediaType === 'video') mediaContent = `<video src="${this.resolveImageUrl(msg.media)}" controls class="w-full rounded-lg mb-2 bg-black"></video>`;
                        else mediaContent = `<a href="${msg.media}" download="${msg.fileName}" class="flex items-center gap-3 bg-white p-3 rounded-xl mb-2 hover:bg-gray-50 transition-colors border border-gray-100 shadow-sm group"><div class="w-10 h-10 bg-brand-50 text-brand-600 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform"><i class="ph-fill ph-file-text text-xl"></i></div><div class="min-w-0 text-left"><p class="text-xs font-bold text-gray-800 truncate">${msg.fileName}</p><p class="text-[10px] text-gray-500">Click to download</p></div></a>`;
                    }

                    return `
                        <div class="flex flex-col ${isMe ? 'items-end' : 'items-start'} mb-6 animate-slide-up">
                            <div class="flex items-end gap-2 ${isMe ? 'flex-row-reverse' : 'flex-row'}">
                                <div class="w-8 h-8 rounded-full bg-gray-200 flex-shrink-0 overflow-hidden self-end">
                                    <img src="${this.resolveImageUrl(msg.avatar)}" class="w-full h-full object-cover">
                                </div>
                                <div class="max-w-[80%] p-3 rounded-2xl shadow-sm ${isMe ? 'bg-brand-600 text-white rounded-br-none' : 'bg-white text-gray-800 rounded-bl-none border border-gray-100'}">
                                    ${mediaContent}
                                    ${decodedText ? `<p class="text-sm whitespace-pre-wrap">${decodedText}</p>` : ''}
                                </div>
                            </div>
                            <p class="text-[10px] text-gray-400 mt-1 mx-11">${msg.senderName}  ${this.formatDate(msg.time)}</p>
                        </div>
                    `;
                }).join('');

                const memberListHtml = myGroup.memberIds.map(mid => {
                    const isPending = mid.startsWith('INVITE_');
                    const cleanId = mid.replace('INVITE_', '');

                    const user = this.users.find(u => u.id === cleanId);
                    if (!user) return '';

                    let src = '';
                    if (user.avatar) src = this.resolveImageUrl(user.avatar);
                    else src = `https://ui-avatars.com/api/?name=${user.firstName}+${user.lastName}&background=random`;

                    let roleStr = 'Member';
                    if (mid === myGroup.leaderId) roleStr = 'Leader';
                    else if (mid === myGroup.assistant1Id || mid === myGroup.assistant2Id) roleStr = 'Asst. Leader';
                    if (isPending) roleStr = 'Pending Accept';

                    const cursorClass = 'cursor-pointer hover:scale-105';
                    const clickAction = `onclick="App.viewUserProfile('${cleanId}')"`;

                    return `
                        <div class="flex flex-col items-center min-w-[60px]" title="${roleStr}">
                            <div class="w-12 h-12 rounded-full bg-gray-200 border-2 border-white shadow-md overflow-hidden relative group ${cursorClass} transition-transform ${isPending ? 'opacity-50 grayscale' : ''}" ${clickAction} data-tooltip="View Profile">
                                <img src="${src}" class="w-full h-full object-cover">
                                ${roleStr === 'Leader' ? '<div class="absolute bottom-0 right-0 bg-yellow-400 rounded-full p-0.5 border border-white"><i class="ph-fill ph-crown text-[8px] text-white"></i></div>' : ''}
                                ${isPending ? '<div class="absolute inset-0 flex items-center justify-center bg-black/20"><i class="ph-bold ph-clock text-white"></i></div>' : ''}
                            </div>
                            <span class="text-[10px] font-medium text-gray-600 mt-1 text-center truncate w-full px-1">${user.firstName}</span>
                        </div>
                    `;
                }).join('');

                container.innerHTML = `
                    <div class="h-full flex flex-col max-w-4xl mx-auto bg-white md:my-4 md:rounded-2xl md:shadow-sm md:border md:border-gray-100 overflow-hidden">
                        <!-- Group Header -->
                        <div class="p-4 border-b border-gray-100 bg-white z-10 space-y-3 shadow-sm">
                            <button onclick="App.exitGroup()" class="text-xs font-bold text-gray-400 hover:text-brand-600 flex items-center gap-1 mb-1 transition-colors">
                                <i class="ph-bold ph-caret-left"></i> Back to Departments
                            </button>
                            <div class="flex justify-between items-start">
                                <div class="flex items-center gap-3">
                                    <div class="relative group cursor-pointer" onclick="${canEdit ? `document.getElementById('group-avatar-upload').click()` : ''}">
                                        <div class="w-14 h-14 rounded-2xl bg-brand-50 overflow-hidden shadow-inner border border-gray-100">
                                            <img src="${groupAvatar}" id="group-avatar-preview" class="w-full h-full object-cover">
                                        </div>
                                        ${canEdit ? `<div class="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"><i class="ph-fill ph-camera text-white text-xl"></i></div><input type="file" id="group-avatar-upload" class="hidden" accept="image/*" onchange="App.handleGroupAvatarChange(this, '${myGroup.id}')">` : ''}
                                    </div>
                                    <div>
                                        <div class="flex items-center gap-2 group/editname">
                                            <h2 class="text-xl font-bold text-gray-900 leading-tight tracking-tight">${myGroup.name}</h2>
                                             ${this.isDev() ? `<button onclick="App.editGroupName('${myGroup.id}')" class="text-gray-300 hover:text-brand-600 opacity-0 group-hover/editname:opacity-100 transition-opacity"><i class="ph-fill ph-pencil-simple"></i></button>` : ''}
                                        </div>
                                        <div class="flex flex-col text-xs text-gray-500 mt-1 space-y-0.5">
                                            <p><span class="font-bold text-brand-600">Leader:</span> ${this.getUserName(myGroup.leaderId)}</p>
                                            <p class="text-[10px] text-gray-400 font-mono select-all cursor-copy" onclick="navigator.clipboard.writeText('${myGroup.id}'); App.toast('Group ID copied!')">ID: ${myGroup.id} <i class="ph-bold ph-copy"></i></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-1">
                                    ${this.isDev() ? `
                                        <button onclick="App.deleteGroup('${myGroup.id}')" class="text-red-500 hover:bg-red-50 p-2 rounded-xl transition-colors" title="Delete Group (Dev Only)">
                                            <i class="ph-fill ph-trash text-xl"></i>
                                        </button>
                                        <div class="w-px h-6 bg-gray-200 mx-1"></div>
                                    ` : ''}
                                    <button onclick="App.openAddMemberModal('${myGroup.id}')" class="text-brand-600 hover:bg-brand-50 p-2 rounded-xl transition-colors" title="Add Colleague"><i class="ph-bold ph-user-plus text-xl"></i></button>
                                    <button onclick="App.openChangeRoleModal('${myGroup.id}')" class="text-gray-500 hover:bg-gray-100 p-2 rounded-xl transition-colors" title="Change My Role"><i class="ph-bold ph-identification-badge text-xl"></i></button>
                                    <button onclick="App.handleLeaveGroup('${myGroup.id}')" class="text-red-500 hover:bg-red-50 p-2 rounded-xl transition-colors" title="Leave Group"><i class="ph-bold ph-sign-out text-xl"></i></button>
                                </div>
                            </div>
                            <div class="pt-2 border-t border-gray-50">
                                <p class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2">Members ${isGroupAuthority ? '(Click to View Profile)' : ''}</p>
                                <div class="flex items-start gap-2 overflow-x-auto no-scrollbar pb-1">${memberListHtml}</div>
                            </div>
                        </div>

                        <!-- Chat Area -->
                        <div id="group-chat-container" class="flex-1 overflow-y-auto p-4 bg-gray-50 custom-scroll relative">
                            ${hasMore ? `<button onclick="App.chatLimit += 10; App.renderGroups(document.getElementById('main-view'));" class="w-full py-2 mb-4 text-xs font-bold text-brand-600 bg-brand-50 hover:bg-brand-100 rounded-lg transition-colors">Load Previous Messages</button>` : ''}
                            <div class="absolute top-2 left-0 right-0 flex justify-center pointer-events-none"><span class="bg-yellow-100 text-yellow-800 text-[10px] font-bold px-3 py-1 rounded-full shadow-sm border border-yellow-200">Note: Messages older than 1 year are archived.</span></div>
                            <div class="mt-8">${messagesHtml.length ? messagesHtml : `<div class="h-full flex flex-col items-center justify-center text-center p-8 opacity-60"><i class="ph-fill ph-chat-teardrop-text text-3xl text-gray-300"></i><p class="text-sm font-medium text-gray-500">No messages yet.</p></div>`}</div>
                        </div>

                        <!-- Input Area -->
                        <div class="p-3 bg-white border-t border-gray-100">
                             <!-- Preview Area -->
                            <div id="group-chat-preview" class="hidden mb-2 px-4 py-2 bg-gray-50 border border-gray-100 rounded-lg flex items-center gap-3">
                                <div id="group-chat-preview-content" class="w-10 h-10 rounded bg-white border border-gray-200 overflow-hidden flex items-center justify-center"></div>
                                <div class="flex-1 min-w-0"><p id="group-chat-filename" class="text-xs font-bold text-gray-800 truncate"></p></div>
                                <button onclick="App.clearGroupChatMedia()" class="text-gray-400 hover:text-red-500"><i class="ph-fill ph-x-circle text-lg"></i></button>
                            </div>

                            <form onsubmit="App.handleSendGroupMessage(event, '${myGroup.id}')" class="flex items-end gap-2 relative">
                                <button type="button" onclick="document.getElementById('group-chat-file').click()" class="text-gray-400 hover:text-brand-600 p-3 rounded-xl hover:bg-gray-50 transition-colors flex-shrink-0"><i class="ph-bold ph-paperclip text-xl"></i></button>
                                <input type="file" id="group-chat-file" class="hidden" onchange="App.handleGroupChatFileSelect(this)">
                                <div class="flex-1 bg-gray-100 rounded-2xl flex items-center transition-all focus-within:ring-2 focus-within:ring-brand-100 focus-within:bg-white border border-transparent focus-within:border-brand-200">
                                    <input type="text" id="group-chat-input" placeholder="Type a message..." class="w-full bg-transparent text-sm px-4 py-3 outline-none text-gray-800 placeholder-gray-400" autocomplete="off">
                                </div>
                                <button type="submit" class="bg-brand-600 text-white p-3 rounded-xl hover:bg-brand-700 transition-all shadow-md active:scale-95 flex-shrink-0" data-tooltip="Send Message"><i class="ph-fill ph-paper-plane-right text-xl"></i></button>
                            </form>
                            <p class="text-[10px] text-gray-300 text-center mt-2 flex items-center justify-center gap-1 select-none"><i class="ph-fill ph-lock-key"></i> End-to-End Encrypted</p>
                        </div>
                    </div>
                `;
                setTimeout(() => { const cb = document.getElementById('group-chat-container'); if (cb) cb.scrollTop = cb.scrollHeight; }, 100);
            },

            async editGroupName(groupId) {
                const group = this.groups.find(g => g.id === groupId);
                this.askPrompt('Edit Group Name', 'Enter the new name for this department.', group.name, async (newName) => {
                    if (newName && newName.trim() !== "") {
                        group.name = newName.trim();
                        // API CALL
                        await this.api('updateGroup', group);
                        this.toast("Group name updated by Developer.");
                        this.renderGroups(document.getElementById('main-view'));
                    }
                });
            },

            deleteGroup(groupId) {
                this.askConfirm('Delete Department?', 'Are you sure?', async () => {
                    await this.api('deleteGroup', { id: groupId });
                    this.groups = this.groups.filter(g => g.id !== groupId);
                    this.toast('Department deleted successfully.');
                    this.exitGroup();
                });
            },

            async handleGroupChatFileSelect(input) {
                if (input.files && input.files[0]) {
                    const file = input.files[0];
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        this.tempGroupChatMedia = e.target.result;
                        this.tempGroupChatFileName = file.name;
                        if (file.type.startsWith('image/')) this.tempGroupChatMediaType = 'image';
                        else if (file.type.startsWith('video/')) this.tempGroupChatMediaType = 'video';
                        else this.tempGroupChatMediaType = 'file';

                        const preview = document.getElementById('group-chat-preview');
                        const content = document.getElementById('group-chat-preview-content');
                        const filename = document.getElementById('group-chat-filename');
                        preview.classList.remove('hidden');
                        filename.innerText = this.tempGroupChatFileName;
                        if (this.tempGroupChatMediaType === 'image') content.innerHTML = `<img src="${this.tempGroupChatMedia}" class="w-full h-full object-cover">`;
                        else content.innerHTML = `<i class="ph-fill ph-file text-2xl text-gray-400"></i>`;
                    };
                    reader.readAsDataURL(file);
                }
            },

            clearGroupChatMedia() {
                this.tempGroupChatMedia = null; this.tempGroupChatMediaType = null; this.tempGroupChatFileName = null;
                const preview = document.getElementById('group-chat-preview');
                const input = document.getElementById('group-chat-file');
                if (preview) preview.classList.add('hidden');
                if (input) input.value = '';
            },

            async handleSendGroupMessage(e, groupId) {
                e.preventDefault();
                const input = document.getElementById('group-chat-input');
                const text = input.value.trim();
                if (!text && !this.tempGroupChatMedia) return;

                const gIndex = this.groups.findIndex(g => g.id === groupId);
                if (gIndex === -1) return;

                const group = this.groups[gIndex];
                const newMsg = {
                    id: Date.now(),
                    userId: this.user.id,
                    senderName: this.user.firstName,
                    avatar: this.getAvatar(this.user.id),
                    content: Crypto.encrypt(text),
                    media: this.tempGroupChatMedia,
                    mediaType: this.tempGroupChatMediaType,
                    fileName: this.tempGroupChatFileName,
                    time: new Date().toISOString() // Store as ISO for reliable sorting/parsing
                };

                group.chatHistory.push(newMsg);
                // Optimistic UI update
                this.renderGroups(document.getElementById('main-view'));

                // API Sync
                await this.api('updateGroup', group);
                this.clearGroupChatMedia();
            },

            async handleGroupAvatarChange(input, groupId) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        this.compressImage(e.target.result).then(async (compressed) => {
                            const gIndex = this.groups.findIndex(g => g.id === groupId);
                            if (gIndex !== -1) {
                                this.groups[gIndex].avatar = compressed;
                                document.getElementById('group-avatar-preview').src = compressed;
                                this.toast('Updating group photo...');
                                await this.api('updateGroup', this.groups[gIndex]);
                                this.toast('Group photo updated!');
                            }
                        });
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            },

            handleLeaveGroup(groupId) {
                if (this.isDev()) { this.toast('Developer Mode: Exiting group view.'); this.exitGroup(); return; }
                this.askConfirm('Leave Department?', 'Are you sure?', async () => {
                    const gIndex = this.groups.findIndex(g => g.id === groupId);
                    if (gIndex === -1) return;
                    const group = this.groups[gIndex];
                    group.memberIds = group.memberIds.filter(id => id !== this.user.id);

                    if (group.memberIds.length === 0) {
                        await this.api('deleteGroup', { id: groupId });
                        this.groups.splice(gIndex, 1);
                    } else {
                        if (group.leaderId === this.user.id) group.leaderId = group.assistant1Id || group.assistant2Id || group.memberIds[0];
                        await this.api('updateGroup', group);
                    }

                    this.toast('You have left the group.');
                    this.exitGroup();
                });
            },

            openAddMemberModal(groupId) {
                const html = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">Add Colleague</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                    <form onsubmit="App.handleAddMember(event, '${groupId}')" class="space-y-4">
                        <input type="email" name="email" placeholder="colleague@School.edu" class="input-field" required>
                        <button type="submit" class="w-full bg-brand-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-brand-200 hover:bg-brand-700 active:scale-95 transition-all">Add to Group</button>
                    </form>
                `;
                this.openModal(html);
            },

            async handleAddMember(e, groupId) {
                e.preventDefault();
                const email = e.target.email.value.toLowerCase().trim();
                const userToAdd = this.users.find(u => u.email.toLowerCase() === email);
                if (!userToAdd) { this.toast('User not found.', 'error'); return; }
                const gIndex = this.groups.findIndex(g => g.id === groupId);
                if (gIndex === -1) return;

                if (this.groups[gIndex].memberIds.includes(userToAdd.id)) { this.toast('User already in group.', 'error'); return; }
                // CHECK IF ALREADY INVITED
                if (this.groups[gIndex].memberIds.includes(`INVITE_${userToAdd.id}`)) { this.toast('User already invited.', 'error'); return; }

                // ADD AS PENDING (INVITE_PREFIX)
                this.groups[gIndex].memberIds.push(`INVITE_${userToAdd.id}`);
                await this.api('updateGroup', this.groups[gIndex]);

                this.toast(`Invitation sent to ${userToAdd.firstName}!`);
                this.closeModal();
                this.renderGroups(document.getElementById('main-view'));
            },

            openChangeRoleModal(groupId) {
                const html = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">Manage Role</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                    <form onsubmit="App.handleChangeRole(event, '${groupId}')" class="space-y-4">
                        <select name="groupRole" class="input-field text-gray-500" required>
                            <option value="Member">Member</option>
                            <option value="Leader">Leader</option>
                            <option value="Assistant 1">Assistant Leader 1</option>
                            <option value="Assistant 2">Assistant Leader 2</option>
                        </select>
                        <button type="submit" class="w-full bg-gray-900 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-black active:scale-95 transition-all">Update Role</button>
                    </form>
                `;
                this.openModal(html);
            },

            async handleChangeRole(e, groupId) {
                e.preventDefault();
                const newRole = e.target.groupRole.value;
                const gIndex = this.groups.findIndex(g => g.id === groupId);
                if (gIndex === -1) return;
                const group = this.groups[gIndex];
                const uid = this.user.id;

                if (group.leaderId === uid) group.leaderId = null;
                if (group.assistant1Id === uid) group.assistant1Id = null;
                if (group.assistant2Id === uid) group.assistant2Id = null;

                if (newRole === 'Leader') group.leaderId = uid;
                else if (newRole === 'Assistant 1') group.assistant1Id = uid;
                else if (newRole === 'Assistant 2') group.assistant2Id = uid;

                this.groups[gIndex] = group;
                await this.api('updateGroup', group);
                this.toast(`Role updated to ${newRole}`);
                this.closeModal();
                this.renderGroups(document.getElementById('main-view'));
            },

            // --- BULLETIN BOARD ---
            getTagStyles(tag) {
                const base = "text-[10px] font-extrabold px-3 py-1 rounded-full uppercase tracking-wide border shadow-sm";
                switch (tag) {
                    case 'Urgent': return `${base} bg-red-100 text-red-700 border-red-200`;
                    case 'Appreciation': return `${base} bg-pink-100 text-pink-700 border-pink-200`;
                    case 'Event': return `${base} bg-blue-100 text-blue-700 border-blue-200`;
                    case 'Reminder': return `${base} bg-orange-100 text-orange-700 border-orange-200`;
                    default: return `${base} bg-gray-100 text-gray-700 border-gray-200`;
                }
            },

            renderHome(container) {
                const leadingGroups = this.groups.filter(g => g.leaderId === this.user.id || g.assistant1Id === this.user.id || g.assistant2Id === this.user.id);
                const canPost = this.user.role === 'Admin' || this.isDev() || leadingGroups.length > 0 || this.isPrincipal();

                // --- POST PAGINATION & EXPIRY ---
                // Filter out expired posts (> 1 year)
                const validPosts = this.posts.filter(post => !this.isContentExpired(post.time));

                // [CHANGED] Sort Newest First
                validPosts.sort((a, b) => new Date(b.time) - new Date(a.time));

                // Show first 'this.postsLimit' posts
                const visiblePosts = validPosts.slice(0, this.postsLimit);
                const hasMore = validPosts.length > this.postsLimit;

                const postsHtml = visiblePosts.map(post => {
                    const hasLiked = Array.isArray(post.likes) && post.likes.includes(this.user.id);
                    const likeClass = hasLiked ? 'ph-fill text-red-500' : 'ph';

                    const commentsHtml = post.comments.map(c => `
                        <div class="flex gap-3 text-sm">
                            <img src="${this.resolveImageUrl(c.avatar)}" ${c.userId ? `onclick="App.viewUserProfile('${c.userId}')" class="w-8 h-8 rounded-full border border-gray-100 flex-shrink-0 cursor-pointer object-cover hover:ring-2 ring-brand-300 transition-all"` : `class="w-8 h-8 rounded-full border border-gray-100 flex-shrink-0 object-cover"`}>
                            <div class="bg-gray-50 px-3 py-2 rounded-2xl rounded-tl-none w-full">
                                <p ${c.userId ? `onclick="App.viewUserProfile('${c.userId}')" class="font-bold text-xs text-gray-900 mb-0.5 cursor-pointer hover:text-brand-600 transition-colors inline-block"` : `class="font-bold text-xs text-gray-900 mb-0.5 inline-block"`}>${c.user}</p>
                                <p class="text-gray-700 mt-1">${c.text}</p>
                            </div>
                        </div>
                    `).join('');

                    // Moderation Logic: Devs, Admins, Principals, and Group Leaders can delete/edit
                    const isModerator = this.user.role === 'Admin' || this.isDev() || this.isPrincipal() || leadingGroups.length > 0;
                    const isOwner = post.userId === this.user.id || isModerator;

                    let mediaContent = '';
                    if (post.media) {
                        if (post.mediaType === 'video') mediaContent = `<video src="${this.resolveImageUrl(post.media)}" controls class="w-full rounded-xl mt-3 mb-2 max-h-96 object-contain bg-black"></video>`;
                        else mediaContent = `<img src="${this.resolveImageUrl(post.media)}" class="w-full rounded-xl mt-3 mb-2 max-h-96 object-contain bg-black">`;
                    }

                    return `
                    <div id="post-${post.id}" class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm animate-slide-up hover:border-brand-200 transition-all relative group/post">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <img src="${this.resolveImageUrl(post.groupAvatar || post.avatar)}" ${(!post.department && post.userId) ? `onclick="App.viewUserProfile('${post.userId}')" class="w-10 h-10 rounded-full border border-gray-200 object-cover bg-white cursor-pointer hover:ring-2 ring-brand-300 transition-all"` : `class="w-10 h-10 rounded-full border border-gray-200 object-cover bg-white"`}>
                                <div><h4 ${(!post.department && post.userId) ? `onclick="App.viewUserProfile('${post.userId}')" class="font-bold text-sm text-gray-900 cursor-pointer hover:text-brand-600 transition-colors"` : `class="font-bold text-sm text-gray-900"`}>${post.department || post.author}</h4><p class="text-xs text-gray-500">${post.department ? post.author : post.role}  ${this.formatDate(post.time)}</p></div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="${this.getTagStyles(post.tag)}">${post.tag}</span>
                                ${isOwner ? `
                                <div class="relative group/menu ml-2">
                                    <button class="text-gray-400 hover:text-gray-600 p-1"><i class="ph-bold ph-dots-three text-xl"></i></button>
                                    <div class="absolute right-0 top-full mt-1 w-32 bg-white rounded-xl shadow-xl border border-gray-100 z-20 overflow-hidden invisible opacity-0 transition-all duration-200 delay-[1000ms] group-hover/menu:visible group-hover/menu:opacity-100 group-hover/menu:delay-0">
                                        <button onclick="App.editPost(${post.id})" class="w-full text-left px-4 py-2.5 text-xs font-medium text-gray-600 hover:bg-gray-50 flex items-center gap-2"><i class="ph ph-pencil-simple"></i> Edit</button>
                                        <button onclick="App.deletePost(${post.id})" class="w-full text-left px-4 py-2.5 text-xs font-medium text-red-600 hover:bg-red-50 flex items-center gap-2"><i class="ph ph-trash"></i> Delete</button>
                                    </div>
                                </div>` : ''}
                            </div>
                        </div>
                        <div class="prose prose-sm max-w-none text-gray-700 leading-relaxed mb-2">${post.content}</div>
                        ${mediaContent}
                        <div class="flex items-center gap-6 text-gray-400 pt-3 border-t border-gray-50 mt-2">
                            <button id="like-btn-${post.id}" onclick="App.likePost(${post.id})" class="flex items-center gap-1.5 hover:text-red-500 transition-colors group"><i class="${likeClass} ph-heart text-lg group-hover:text-red-500 transition-transform active:scale-125"></i><span id="like-count-${post.id}" class="text-xs font-medium">${post.likes.length}</span></button>
                            <button onclick="App.toggleComments(${post.id})" class="flex items-center gap-1.5 hover:text-brand-600 transition-colors"><i class="ph ph-chat-circle text-lg"></i><span id="comment-count-${post.id}" class="text-xs font-medium">${post.comments.length}</span></button>
                            <button onclick="App.sharePost(${post.id})" class="ml-auto hover:text-gray-900"><i class="ph ph-share-network text-lg"></i></button>
                        </div>
                        <div id="comments-section-${post.id}" class="hidden mt-4 pt-4 border-t border-gray-50 space-y-4">
                            <div id="comment-list-${post.id}" class="space-y-3 max-h-60 overflow-y-auto custom-scroll pr-1">${commentsHtml}</div>
                            <form onsubmit="App.submitComment(event, ${post.id})" class="flex items-center gap-2 relative">
                                <img src="${this.resolveImageUrl(this.user.avatar) || `https://ui-avatars.com/api/?name=${this.user.name}&background=random`}" class="w-8 h-8 rounded-full border border-gray-200">
                                <input id="comment-input-${post.id}" type="text" placeholder="Write a comment..." class="w-full bg-gray-50 text-sm px-4 py-2.5 rounded-full outline-none focus:ring-2 focus:ring-brand-100 transition-all pr-10">
                                <button type="submit" class="absolute right-2 text-brand-600 p-1 hover:bg-brand-50 rounded-full transition-colors"><i class="ph-fill ph-paper-plane-right text-lg"></i></button>
                            </form>
                        </div>
                    </div>
                `}).join('');

                container.innerHTML = `
                    <div class="max-w-3xl mx-auto w-full">
                        <div class="px-5 md:px-0 pt-4 pb-4 animate-fade-in flex justify-between items-end">
                            <div><h2 class="text-2xl font-bold text-gray-900">School Bulletin</h2><p class="text-xs text-gray-500 font-medium uppercase tracking-wider mt-1">Latest Announcements</p></div>
                            ${canPost ? `<button onclick="App.openPostModal()" class="bg-brand-600 text-white rounded-full px-4 py-2 text-xs font-bold shadow-lg shadow-brand-200 hover:bg-brand-700 transition-transform active:scale-95 flex items-center gap-2"><i class="ph-fill ph-pencil-simple"></i> New Post</button>` : ''}
                        </div>
                        <div class="max-w-3xl mx-auto w-full px-5 md:px-0 animate-fade-in">

                        <div class="space-y-4 px-5 md:px-0 pb-10">${postsHtml}</div>
                        
                        <div class="px-5 md:px-0 pb-10 text-center">
                            ${hasMore ? `<button onclick="App.postsLimit += 10; App.renderHome(document.getElementById('main-view'));" class="px-6 py-3 bg-white border border-gray-200 text-brand-600 font-bold text-sm rounded-xl shadow-sm hover:bg-gray-50 transition-colors">Load More Posts</button>` : `<p class="text-xs text-gray-400">All recent posts loaded.</p>`}
                            <p class="mt-4 text-[10px] text-gray-400">Note: Posts older than 1 year are archived.</p>
                        </div>
                    </div>
                `;
            },

            openPostModal() {
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                overlay.classList.remove('hidden');
                setTimeout(() => { overlay.classList.remove('opacity-0'); content.classList.remove('translate-y-full', 'md:translate-y-10'); content.classList.add('md:translate-y-0'); }, 10);
                this.tempPostMedia = null; this.tempPostMediaType = null;
                const leadingGroups = this.groups.filter(g => g.leaderId === this.user.id || g.assistant1Id === this.user.id || g.assistant2Id === this.user.id);
                let groupSelectHtml = '';
                if (leadingGroups.length > 1) groupSelectHtml = `<div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Post As</label><select name="postGroupId" class="input-field text-sm py-2">${leadingGroups.map(g => `<option value="${g.id}">${g.name}</option>`).join('')}</select></div>`;
                else if (leadingGroups.length === 1) groupSelectHtml = `<input type="hidden" name="postGroupId" value="${leadingGroups[0].id}">`;

                content.innerHTML = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">New Announcement</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                    <form onsubmit="App.handleSavePost(event)" class="space-y-4">
                        ${groupSelectHtml}
                        <div class="flex flex-col md:flex-row gap-4">
                            <div class="flex-1 flex flex-col border border-gray-200 rounded-xl overflow-hidden bg-white">
                                <!-- WYSIWYG Toolbar -->
                                <div class="bg-gray-50 border-b border-gray-200 p-2 flex flex-wrap gap-1 items-center">
                                    <button type="button" onclick="document.execCommand('bold', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700 font-bold" title="Bold">B</button>
                                    <button type="button" onclick="document.execCommand('italic', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700 italic" title="Italic">I</button>
                                    <button type="button" onclick="document.execCommand('underline', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700 underline" title="Underline">U</button>
                                    <div class="w-[1px] h-5 bg-gray-300 mx-1"></div>
                                    <button type="button" onclick="document.execCommand('justifyLeft', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Align Left"><i class="ph ph-text-align-left"></i></button>
                                    <button type="button" onclick="document.execCommand('justifyCenter', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Align Center"><i class="ph ph-text-align-center"></i></button>
                                    <button type="button" onclick="document.execCommand('justifyRight', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Align Right"><i class="ph ph-text-align-right"></i></button>
                                    <div class="w-[1px] h-5 bg-gray-300 mx-1"></div>
                                    <button type="button" onclick="document.execCommand('insertUnorderedList', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Bullet List"><i class="ph ph-list-bullets"></i></button>
                                    <div class="w-[1px] h-5 bg-gray-300 mx-1"></div>
                                    <select onchange="document.execCommand('fontSize', false, this.value); this.selectedIndex=0;" class="text-xs bg-transparent border-none text-gray-700 outline-none hover:bg-gray-200 rounded px-2 h-8 cursor-pointer">
                                        <option value="" disabled selected>Size</option>
                                        <option value="1">Small</option>
                                        <option value="3">Normal</option>
                                        <option value="5">Large</option>
                                        <option value="7">Huge</option>
                                    </select>
                                    <select onchange="document.execCommand('fontName', false, this.value); this.selectedIndex=0;" class="text-xs bg-transparent border-none text-gray-700 outline-none hover:bg-gray-200 rounded px-2 h-8 cursor-pointer w-24">
                                        <option value="" disabled selected>Font</option>
                                        <option value="Arial">Arial</option>
                                        <option value="Times New Roman">Times New</option>
                                        <option value="Courier New">Courier</option>
                                        <option value="Georgia">Georgia</option>
                                        <option value="Verdana">Verdana</option>
                                        <option value="Comic Sans MS">Comic Sans</option>
                                    </select>
                                </div>
                                <!-- Editable Content Area -->
                                <div id="post-editor-area" contenteditable="true" class="flex-1 p-4 h-64 overflow-y-auto w-full outline-none prose prose-sm max-w-none" placeholder="What's happening?"></div>
                                <input type="hidden" name="content" id="post-hidden-input">
                            </div>
                            <div class="w-full md:w-64 space-y-4">
                                <div id="post-media-preview" class="hidden relative rounded-xl overflow-hidden bg-gray-100 border border-gray-200 h-40 w-full flex items-center justify-center"></div>
                                <div class="space-y-2">
                                    <button type="button" onclick="document.getElementById('post-media-upload').click()" class="w-full bg-gray-50 border border-gray-200 text-gray-600 hover:bg-white hover:border-brand-500 hover:text-brand-600 p-3 rounded-xl transition-all flex items-center justify-center gap-2 text-sm font-medium h-12"><i class="ph ph-image text-xl"></i> Add Photo</button>
                                    <input type="file" id="post-media-upload" class="hidden" accept="image/*" onchange="App.handlePostMediaSelect(this)">
                                    <select name="tag" class="input-field py-0 h-12 text-sm"><option value="General">General</option><option value="Urgent">Urgent</option><option value="Event">Event</option><option value="Appreciation">Appreciation</option><option value="Reminder">Reminder</option></select>
                                </div>
                            </div>
                        </div>
                        <button type="submit" id="post-submit-btn" class="w-full bg-brand-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-200 hover:bg-brand-700 active:scale-95 transition-all mt-2">Post Announcement</button>
                    </form>
                `;
            },

            // --- DIRECTORY / SEARCH LOGIC ---
            renderDirectory(container, query = '') {
                // Initialize local UI state if not defined
                let resultsHtml = '';
                let isSearching = query.trim().length > 0;
                let searchResults = [];

                if (isSearching) {
                    searchResults = this.performDirectorySearch(query);
                    // Add to history
                    if (!this.searchHistory.includes(query.trim())) {
                        this.searchHistory.unshift(query.trim());
                        if (this.searchHistory.length > 5) this.searchHistory.pop(); // Keep last 5
                        localStorage.setItem('DIRECTORY_SEARCH_HISTORY', JSON.stringify(this.searchHistory));
                    }
                }

                this.currentDirectoryResults = searchResults; // Store for CSV export

                if (isSearching) {
                    if (searchResults.length > 0) {
                        resultsHtml = `
                            <div class="flex justify-between items-end mb-4 animate-slide-up">
                                <h3 class="text-sm font-bold text-gray-500 uppercase tracking-wider">Found ${searchResults.length} Result${searchResults.length > 1 ? 's' : ''}</h3>
                                <button onclick="App.downloadDirectoryCSV()" class="text-xs font-bold bg-brand-50 text-brand-600 hover:bg-brand-100 py-1.5 px-3 rounded-lg border border-brand-200 transition-colors flex items-center gap-1">
                                    <i class="ph-bold ph-download-simple"></i> Export CSV
                                </button>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-fade-in pb-10">
                                ${searchResults.map(u => {
                            const avatarUrl = this.resolveImageUrl(u.avatar) || `https://ui-avatars.com/api/?name=${u.firstName}+${u.lastName}&background=random`;
                            return `
                                        <div onclick="App.viewUserProfile('${u.id}')" class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-brand-300 hover:shadow-md transition-all cursor-pointer group flex items-start gap-4 flex-col sm:flex-row">
                                            <img src="${avatarUrl}" class="w-16 h-16 rounded-full border-2 border-gray-100 object-cover flex-shrink-0 group-hover:ring-2 ring-brand-400 transition-all mx-auto sm:mx-0">
                                            <div class="text-center sm:text-left w-full min-w-0">
                                                <h4 class="font-bold text-gray-900 truncate">${u.firstName} ${u.lastName}</h4>
                                                <p class="text-xs font-medium text-brand-600 truncate mb-1">${u.position || 'Faculty'} ${u.designation ? ` ${u.designation}` : ''}</p>
                                                <div class="space-y-0.5 text-[10px] text-gray-500">
                                                    ${u.department ? `<p class="truncate"><i class="ph-fill ph-buildings"></i> ${u.department}</p>` : ''}
                                                    ${u.subject ? `<p class="truncate"><i class="ph-fill ph-book-open"></i> ${u.subject}</p>` : ''}
                                                </div>
                                            </div>
                                        </div>
                                    `;
                        }).join('')}
                            </div>
                        `;
                    } else {
                        resultsHtml = `
                            <div class="py-12 flex flex-col items-center justify-center text-center animate-fade-in">
                                <div class="w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-4">
                                    <i class="ph-fill ph-user-list text-4xl"></i>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800 mb-2">No personnel found</h3>
                                <p class="text-sm text-gray-500 max-w-sm">We couldn't find anyone matching "${query}". Try checking for typos or searching by department or position.</p>
                            </div>
                        `;
                    }
                }

                // History Pills
                const historyHtml = this.searchHistory.length > 0 ? `
                    <div class="mt-4 flex flex-wrap justify-center gap-2">
                        <span class="text-xs font-medium text-gray-400 self-center mr-1">Recent Searches:</span>
                        ${this.searchHistory.map(h => `
                            <button onclick="App.renderDirectory(document.getElementById('main-view'), '${h}')" class="bg-gray-100 hover:bg-gray-200 text-gray-600 px-3 py-1 rounded-full text-xs transition-colors flex items-center gap-1 group">
                                <i class="ph ph-clock-counter-clockwise"></i> ${h}
                            </button>
                        `).join('')}
                        <button onclick="App.clearSearchHistory()" class="text-[10px] text-red-400 hover:text-red-600 ml-2 self-center transition-colors">Clear</button>
                    </div>
                ` : '';


                container.innerHTML = `
                    <div class="max-w-5xl mx-auto w-full px-5 md:px-0 pt-8 sm:pt-12 min-h-[60vh] flex flex-col ${isSearching ? 'justify-start' : 'justify-center items-center'} transition-all duration-500 animate-fade-in">
                        
                        ${!isSearching ? `
                            <div class="text-center mb-8">
                                <i class="ph-fill ph-address-book text-brand-600 mb-4 inline-block" style="font-size: 4.5rem;"></i>
                                <h2 class="text-3xl font-extrabold text-gray-900 tracking-tight">Personnel Directory</h2>
                                <p class="text-gray-500 mt-2 max-w-md mx-auto">Find teachers, staff, and administrators by name, position, department, or subject.</p>
                            </div>
                        ` : `
                             <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-900 border-b border-gray-100 pb-2">Directory</h2>
                            </div>
                        `}

                        <!-- Google-like Search Bar -->
                        <div class="w-full ${isSearching ? 'max-w-2xl mx-auto' : 'max-w-xl mx-auto'} relative z-10 transition-all duration-500">
                            <form onsubmit="event.preventDefault(); App.renderDirectory(document.getElementById('main-view'), document.getElementById('dir-search-input').value);" class="relative flex items-center shadow-lg group">
                                <i class="ph-bold ph-magnifying-glass absolute top-1/2 -translate-y-1/2 text-xl text-gray-400 group-focus-within:text-brand-600 transition-colors pointer-events-none" style="left: 1.25rem;"></i>
                                <input type="text" id="dir-search-input" value="${query}" placeholder="Search names, positions, departments, blood type etc..." style="padding-left: 3.5rem;" class="w-full bg-white border-2 border-gray-200 focus:border-brand-500 text-gray-800 rounded-full py-4 pr-16 outline-none text-base md:text-lg transition-all focus:shadow-xl placeholder-gray-400" autocomplete="off">
                                ${query ? `<button type="button" onclick="App.renderDirectory(document.getElementById('main-view'), '')" class="absolute top-1/2 -translate-y-1/2 text-red-500 hover:text-red-600 p-2 transition-colors" style="right: 3.2rem;"><i class="ph-bold ph-x text-xl"></i></button>` : ''}
                                <button type="submit" class="absolute right-2 top-1/2 -translate-y-1/2 bg-brand-600 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-brand-700 hover:scale-105 active:scale-95 transition-all shadow-md">
                                    <i class="ph-bold ph-arrow-right text-xl"></i>
                                </button>
                            </form>
                            ${!isSearching ? `
                            <div class="mt-4 text-center animate-fade-in">
                                <p class="text-[11px] text-gray-500 mb-2"><i class="ph-fill ph-lightbulb text-amber-500"></i> <b>Smart Search:</b> Try specific keywords like <span class="text-brand-600 bg-brand-50 border border-brand-100 px-1.5 py-0.5 rounded font-medium">blood type O</span>, <span class="text-brand-600 bg-brand-50 border border-brand-100 px-1.5 py-0.5 rounded font-medium">dept Math</span>, or <span class="text-brand-600 bg-brand-50 border border-brand-100 px-1.5 py-0.5 rounded font-medium">gender F</span></p>
                            </div>
                            ` + historyHtml : ''}
                        </div>

                        <!-- Results Container -->
                        <div class="w-full mt-8 ${isSearching ? 'flex-1' : 'hidden'}">
                            ${resultsHtml}
                        </div>
                    </div>
                `;

                // Auto-focus logic if not mobile
                if (!isSearching && window.innerWidth > 768) {
                    setTimeout(() => document.getElementById('dir-search-input').focus(), 100);
                }
            },

            clearSearchHistory() {
                this.searchHistory = [];
                localStorage.removeItem('DIRECTORY_SEARCH_HISTORY');
                this.renderDirectory(document.getElementById('main-view'));
            },

            performDirectorySearch(query) {
                if (!query) return [];
                let searchStr = query.toLowerCase().trim();

                // Advanced Keyword Mapping
                const keywordMap = [
                    { keywords: ['blood type', 'blood', 'type'], field: 'bloodType', exact: true },
                    { keywords: ['department', 'dept'], field: 'department', exact: false },
                    { keywords: ['position', 'pos'], field: 'position', exact: false },
                    { keywords: ['subject', 'subj'], field: 'subject', exact: false },
                    { keywords: ['gender', 'sex'], field: 'gender', exact: true },
                    { keywords: ['grade', 'grade level'], field: 'gradeLevel', exact: true },
                    { keywords: ['age'], field: 'age', exact: true },
                    { keywords: ['ethnicity', 'ethnic'], field: 'ethnicity', exact: false },
                    { keywords: ['education', 'educ', 'degree'], field: 'education', exact: false },
                    { keywords: ['contact', 'number', 'phone'], field: 'contactNumber', exact: false }
                ];

                let targetedFilters = [];

                keywordMap.forEach(mapping => {
                    mapping.keywords.forEach(kw => {
                        // Regex to find "blood type o" or "dept math"
                        const kwRegex = new RegExp(`\\b${kw}\\s+([a-z0-9\\+\\-]+)`, 'i');
                        const match = searchStr.match(kwRegex);
                        if (match) {
                            targetedFilters.push({ field: mapping.field, value: match[1], exact: mapping.exact });
                            // Remove the matched part from the generic search string
                            searchStr = searchStr.replace(match[0], '').trim();
                        }
                    });
                });

                // Fields to search through. Now includes basic public personal fields.
                const searchFields = ['firstName', 'lastName', 'middleName', 'position', 'designation', 'advisorySection', 'department', 'subject', 'gradeLevel', 'officeAndTask', 'role', 'bloodType', 'gender', 'civilStatus', 'religion', 'ethnicity', 'education', 'age', 'height', 'weight', 'contactNumber'];

                return this.users.filter(u => {
                    // Always exclude Dev accounts from public directory unless explicitly searched
                    if (u.role === 'Developer' && query.toLowerCase().trim() !== 'developer') return false;

                    // Evaluate targeted filters first
                    let matchesTargeted = true;
                    if (targetedFilters.length > 0) {
                        matchesTargeted = targetedFilters.every(filter => {
                            const val = u[filter.field];
                            if (!val) return false;
                            const strVal = String(val).toLowerCase();
                            if (filter.exact) {
                                return strVal === filter.value || strVal.startsWith(filter.value);
                            } else {
                                return strVal.includes(filter.value);
                            }
                        });
                    }

                    if (!matchesTargeted) return false;

                    // If remaining search string is empty, targeted filters were enough
                    if (searchStr === '') return true;

                    // Basic substring & "fuzzy" split matching
                    const terms = searchStr.split(' ').filter(t => t.length > 0);
                    if (terms.length === 0) return true;

                    // Helper: Check if a user field contains the term
                    const matchesTerm = (term) => {
                        return searchFields.some(field => {
                            if (u[field] && typeof u[field] === 'string') {
                                return u[field].toLowerCase().includes(term);
                            }
                            return false;
                        });
                    };

                    // The user matches if ALL terms match AT LEAST ONE field.
                    return terms.every(term => matchesTerm(term));
                });
            },

            downloadDirectoryCSV() {
                if (!this.currentDirectoryResults || this.currentDirectoryResults.length === 0) {
                    this.toast("No results to export.", "error"); return;
                }

                // Define CSV Headers & Fields mapping
                const fields = [
                    { label: 'First Name', key: 'firstName' },
                    { label: 'Last Name', key: 'lastName' },
                    { label: 'Middle Name', key: 'middleName' },
                    { label: 'Role', key: 'role' },
                    { label: 'Position', key: 'position' },
                    { label: 'Designation', key: 'designation' },
                    { label: 'Department', key: 'department' },
                    { label: 'Subject Handled', key: 'subject' },
                    { label: 'Grade Level Handled', key: 'gradeLevel' },
                    { label: 'Advisory Section', key: 'advisorySection' },
                    { label: 'Office & Task', key: 'officeAndTask' },
                    { label: 'Blood Type', key: 'bloodType' },
                    { label: 'Gender', key: 'gender' },
                    { label: 'Age', key: 'age' },
                    { label: 'Height (m)', key: 'height' },
                    { label: 'Weight (kg)', key: 'weight' },
                    { label: 'Ethnicity', key: 'ethnicity' },
                    { label: 'Education', key: 'education' },
                    { label: 'Contact Number', key: 'contactNumber' }
                ];

                let csvContent = "data:text/csv;charset=utf-8,";

                // Add Headers
                csvContent += fields.map(f => f.label).join(',') + "\r\n";

                // Add Rows
                this.currentDirectoryResults.forEach(u => {
                    let row = fields.map(f => {
                        let val = u[f.key] || '';
                        // Escape quotes and wrap in quotes to handle commas in data
                        let v = val.toString().replace(/"/g, '""');
                        return `"${v}"`;
                    });
                    csvContent += row.join(',') + "\r\n";
                });

                // Trigger Download
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", `Directory_Search_Results_${new Date().toISOString().split('T')[0]}.csv`);
                document.body.appendChild(link); // Required for Firefox
                link.click();
                document.body.removeChild(link);
            },

            handlePostMediaSelect(input) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        this.compressImage(e.target.result).then(compressed => {
                            this.tempPostMedia = compressed;
                            this.tempPostMediaType = 'image';
                            const c = document.getElementById('post-media-preview');
                            c.innerHTML = `<img src="${this.tempPostMedia}" class="w-full h-full object-contain bg-black"><button type="button" onclick="App.clearPostMedia()" class="absolute top-2 right-2 bg-black/50 text-white p-1 rounded-full hover:bg-red-500"><i class="ph-bold ph-x"></i></button>`;
                            c.classList.remove('hidden');
                        });
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            },

            clearPostMedia() {
                this.tempPostMedia = null;
                this.tempPostMediaType = null;
                const c = document.getElementById('post-media-preview');
                c.innerHTML = '';
                c.classList.add('hidden');
                const uploadInput = document.getElementById('post-media-upload');
                if (uploadInput) uploadInput.value = '';
            },

            async handleSavePost(e) {
                e.preventDefault();
                const btn = document.getElementById('post-submit-btn');
                btn.disabled = true; btn.innerText = 'Posting...';

                const formData = new FormData(e.target);
                const data = Object.fromEntries(formData);

                // Extract HTML from the contenteditable div
                const editorArea = document.getElementById('post-editor-area');
                let postContentHtml = editorArea ? editorArea.innerHTML.trim() : data.content;

                // Fallback validation if empty
                if (!postContentHtml || postContentHtml === '<br>') {
                    this.toast('Announcement cannot be empty.');
                    btn.disabled = false;
                    btn.innerText = 'Post Announcement';
                    return;
                }

                let departmentName = 'Faculty Member';
                let groupAvatar = '';
                if (data.postGroupId) {
                    const targetGroup = this.groups.find(g => g.id === data.postGroupId);
                    if (targetGroup) { departmentName = targetGroup.name; groupAvatar = targetGroup.avatar; }
                } else if (this.user.role === 'Admin') departmentName = 'Administration';

                const newPost = {
                    id: Date.now(),
                    userId: this.user.id,
                    author: `${this.user.firstName} ${this.user.lastName} `,
                    department: departmentName,
                    role: this.user.role,
                    avatar: this.user.avatar || `https://ui-avatars.com/api/?name=${this.user.firstName}+${this.user.lastName}`,
                    groupAvatar: groupAvatar,
                    time: new Date().toISOString(), // Standardized Date Storage (ISO)
                    content: postContentHtml,
                    media: this.tempPostMedia,
                    mediaType: this.tempPostMediaType,
                    media: this.tempPostMedia,
                    mediaType: this.tempPostMediaType,
                    likes: [],
                    comments: [], // CRITICAL FIX: Initialize array
                    tag: data.tag
                };

                const res = await this.api('savePost', newPost);
                if (res) {
                    this.posts.unshift(newPost);
                    this.closeModal();
                    this.renderHome(document.getElementById('main-view'));
                    this.toast('Announcement posted!');
                }
                btn.disabled = false;
            },

            async editPost(postId) {
                const post = this.posts.find(p => p.id === postId);
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                overlay.classList.remove('hidden');
                setTimeout(() => { overlay.classList.remove('opacity-0'); content.classList.remove('translate-y-full', 'md:translate-y-10'); content.classList.add('md:translate-y-0'); }, 10);

                // Reusable Toolbar HTML
                const toolbarHtml = `
                    <div class="bg-gray-50 border-b border-gray-200 p-2 flex flex-wrap gap-1 items-center">
                        <button type="button" onclick="document.execCommand('bold', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700 font-bold" title="Bold">B</button>
                        <button type="button" onclick="document.execCommand('italic', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700 italic" title="Italic">I</button>
                        <button type="button" onclick="document.execCommand('underline', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700 underline" title="Underline">U</button>
                        <div class="w-[1px] h-5 bg-gray-300 mx-1"></div>
                        <button type="button" onclick="document.execCommand('justifyLeft', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Align Left"><i class="ph ph-text-align-left"></i></button>
                        <button type="button" onclick="document.execCommand('justifyCenter', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Align Center"><i class="ph ph-text-align-center"></i></button>
                        <button type="button" onclick="document.execCommand('justifyRight', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Align Right"><i class="ph ph-text-align-right"></i></button>
                        <div class="w-[1px] h-5 bg-gray-300 mx-1"></div>
                        <button type="button" onclick="document.execCommand('insertUnorderedList', false, null)" class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-200 text-gray-700" title="Bullet List"><i class="ph ph-list-bullets"></i></button>
                        <div class="w-[1px] h-5 bg-gray-300 mx-1"></div>
                        <select onchange="document.execCommand('fontSize', false, this.value); this.selectedIndex=0;" class="text-xs bg-transparent border-none text-gray-700 outline-none hover:bg-gray-200 rounded px-2 h-8 cursor-pointer">
                            <option value="" disabled selected>Size</option>
                            <option value="1">Small</option>
                            <option value="3">Normal</option>
                            <option value="5">Large</option>
                            <option value="7">Huge</option>
                        </select>
                        <select onchange="document.execCommand('fontName', false, this.value); this.selectedIndex=0;" class="text-xs bg-transparent border-none text-gray-700 outline-none hover:bg-gray-200 rounded px-2 h-8 cursor-pointer w-24">
                            <option value="" disabled selected>Font</option>
                            <option value="Arial">Arial</option>
                            <option value="Times New Roman">Times New</option>
                            <option value="Courier New">Courier</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Verdana">Verdana</option>
                            <option value="Comic Sans MS">Comic Sans</option>
                        </select>
                    </div>
                `;

                content.innerHTML = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">Edit Announcement</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                    <form id="edit-post-form" class="space-y-4">
                        <div class="flex flex-col border border-gray-200 rounded-xl overflow-hidden bg-white">
                            ${toolbarHtml}
                            <div id="edit-post-editor-area" contenteditable="true" class="flex-1 p-4 h-64 overflow-y-auto w-full outline-none prose prose-sm max-w-none">${post.content}</div>
                        </div>
                        <button type="submit" id="edit-post-submit-btn" class="w-full bg-brand-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-200 hover:bg-brand-700 active:scale-95 transition-all mt-2">Update Announcement</button>
                    </form>
                `;

                document.getElementById('edit-post-form').onsubmit = async (e) => {
                    e.preventDefault();
                    const btn = document.getElementById('edit-post-submit-btn');
                    btn.disabled = true; btn.innerText = 'Updating...';

                    const newContentHtml = document.getElementById('edit-post-editor-area').innerHTML.trim();

                    if (!newContentHtml || newContentHtml === '<br>') {
                        this.toast('Announcement cannot be empty.');
                        btn.disabled = false; btn.innerText = 'Update Announcement';
                        return;
                    }

                    if (newContentHtml !== post.content) {
                        post.content = newContentHtml;
                        await this.api('savePost', post);
                        this.toast('Post updated.');
                        this.renderHome(document.getElementById('main-view'));
                    }
                    this.closeModal();
                };
            },

            async deletePost(postId) {
                this.askConfirm('Delete Announcement?', 'This cannot be undone.', async () => {
                    await this.api('deletePost', { id: postId });
                    this.posts = this.posts.filter(p => p.id !== postId);
                    this.toast('Post deleted.');
                    this.renderHome(document.getElementById('main-view'));
                });
            },

            async likePost(postId) {
                const idx = this.posts.findIndex(p => p.id === postId);
                if (idx === -1) return;
                const post = this.posts[idx];
                const uid = this.user.id;

                // Optimistic UI
                const liked = post.likes.indexOf(uid);
                if (liked === -1) post.likes.push(uid); else post.likes.splice(liked, 1);
                this.updatePostLikeUI(postId, post.likes);

                await this.api('likePost', { postId: postId, userId: uid });
            },

            updatePostLikeUI(postId, likes) {
                const btn = document.getElementById(`like-btn-${postId}`);
                const count = document.getElementById(`like-count-${postId}`);
                if (btn && count) {
                    const icon = btn.querySelector('i');
                    icon.className = likes.includes(this.user.id) ? 'ph-fill ph-heart text-lg text-red-500 like-active' : 'ph ph-heart text-lg group-hover:text-red-500';
                    count.innerText = likes.length;
                }
            },

            toggleComments(postId) { document.getElementById(`comments-section-${postId}`).classList.toggle('hidden'); },

            async submitComment(event, postId) {
                event.preventDefault();
                const input = document.getElementById(`comment-input-${postId}`);
                const text = input.value.trim();
                if (!text) return;

                const idx = this.posts.findIndex(p => p.id === postId);
                if (idx === -1) return;

                const newComment = {
                    id: Date.now(),
                    userId: this.user.id,
                    user: `${this.user.firstName} ${this.user.lastName}`,
                    text: text,
                    avatar: this.user.avatar || `https://ui-avatars.com/api/?name=${this.user.firstName}&background=random`,
                    time: 'Just now'
                };

                this.posts[idx].comments.push(newComment);

                // UI Update
                const list = document.getElementById(`comment-list-${postId}`);
                const count = document.getElementById(`comment-count-${postId}`);
                list.insertAdjacentHTML('beforeend', `<div class="flex gap-3 text-sm animate-fade-in"><img src="${this.resolveImageUrl(this.user.avatar) || `https://ui-avatars.com/api/?name=${this.user.firstName}&background=random`}" onclick="App.viewUserProfile('${this.user.id}')" class="w-8 h-8 rounded-full border border-gray-100 flex-shrink-0 cursor-pointer object-cover hover:ring-2 ring-brand-300 transition-all"><div class="bg-gray-50 px-3 py-2 rounded-2xl w-full"><div class="flex justify-between items-start mb-1"><span onclick="App.viewUserProfile('${this.user.id}')" class="font-bold text-gray-900 cursor-pointer hover:text-brand-600 transition-colors">${this.user.firstName}</span></div><p class="text-gray-700">${text}</p></div></div>`);
                count.innerText = this.posts[idx].comments.length;
                input.value = '';

                // API Update
                await this.api('commentPost', { postId: postId, comment: newComment });
            },

            sharePost(postId) {
                const post = this.posts.find(p => p.id === postId);
                const shareText = ` ${post.department || post.role}\n ${post.author}\n ${this.formatDate(post.time)}\n\n"${post.content}"\n\n- via School Portal`;

                if (navigator.share) {
                    navigator.share({ title: 'School Announcement', text: shareText }).catch(console.error);
                } else {
                    navigator.clipboard.writeText(shareText);
                    this.toast('Full post details copied to clipboard!');
                }
            },

            // --- REPORTS ---
            async setSchoolYear(sy) {
                this.settings.activeSchoolYear = sy;
                await this.api('saveSettings', this.settings);
                this.renderReports(document.getElementById('main-view'));
                this.toast(`Active School Year set to ${sy}`, 'success');
            },

            renderReports(container) {
                const stats = {};
                const activeSY = this.settings.activeSchoolYear || '2024-2025';

                // FILTER 1: Only show Report TYPES that are NOT hidden (Soft Delete)
                let visibleTypes = this.reportTypes.filter(t => t.status !== 'hidden');

                // Auto-tag legacy reports based on date (Assume SY Starts August 1)
                this.reports.forEach(r => {
                    if (!r.schoolYear) {
                        const d = r.date ? new Date(r.date) : new Date();
                        const year = d.getFullYear();
                        const month = d.getMonth(); // 0-indexed (7 = August)
                        r.schoolYear = (month >= 7) ? `${year}-${year + 1}` : `${year - 1}-${year}`;
                    }
                });

                const allSchoolYears = [...new Set(this.reports.map(r => r.schoolYear))].sort().reverse();
                if (!allSchoolYears.includes(activeSY)) allSchoolYears.unshift(activeSY);

                let reportsToProcess = this.reports.filter(r => r.schoolYear === activeSY);
                const archivedReportsBatch = this.reports.filter(r => r.schoolYear !== activeSY);

                // [SECURITY] Hide DRRM from unauthorized personnel
                if (!(this.isDrrm() || this.isDev() || this.isPrincipal())) {
                    visibleTypes = visibleTypes.filter(t => t.category !== 'DRRM');
                    const drrmTypeIds = this.reportTypes.filter(t => t.category === 'DRRM').map(t => t.id);
                    reportsToProcess = reportsToProcess.filter(r => !drrmTypeIds.includes(r.typeId));
                }

                // FILTER 2: Reports are hard deleted, so we just count what is in the array.
                // We map sums to the type IDs.
                visibleTypes.forEach(type => {
                    const total = reportsToProcess.filter(r => r.typeId === type.id).reduce((sum, r) => sum + (parseInt(r.metricValue) || 0), 0);
                    stats[type.id] = total;
                });

                const totalReports = reportsToProcess.length; // Total allowed reports
                const totalTypes = visibleTypes.length;
                const uniqueSubmitters = new Set(reportsToProcess.map(r => r.userId)).size;
                const recentSubmissionsCount = reportsToProcess.filter(r => (new Date() - new Date(r.date)) < 7 * 24 * 60 * 60 * 1000).length;

                const dynamicCards = visibleTypes.map(type => `
                    <div onclick="App.viewReportDetails('${type.id}')" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden group cursor-pointer hover:border-brand-300 transition-all">
                        <div class="absolute right-[-10px] top-[-10px] bg-${type.color}-50 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                        <i class="ph-fill ${type.icon} text-2xl text-${type.color}-500 relative z-10 mb-2"></i>
                        <h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 relative z-10">${type.label}</h4>
                        <h3 class="text-2xl font-bold text-gray-900 relative z-10">${stats[type.id] || 0} <span class="text-sm font-medium text-gray-500">${type.unit || ''}</span></h3>
                        <p class="text-xs text-gray-500 font-medium relative z-10">${type.metricLabel}</p>
                    </div>
                `).join('');

                // Group types by category for organized display
                const categories = {};
                // [ADDED] Search Logic pulled up
                const searchTerm = (document.getElementById('report-search')?.value || '').toLowerCase();

                visibleTypes.forEach(type => {
                    const cat = type.category || 'Other';
                    if (!categories[cat]) categories[cat] = [];
                    categories[cat].push(type);
                });
                const categoryOrder = ['Reports', 'Monitoring', 'Administrative', 'Other'];
                const categoryIcons = { 'Reports': 'ph-chart-bar', 'Monitoring': 'ph-eye', 'Administrative': 'ph-gear-six', 'Other': 'ph-squares-four' };
                const categoryColors = { 'Reports': 'blue', 'Monitoring': 'amber', 'Administrative': 'violet', 'Other': 'gray' };

                const groupedCardsHtml = categoryOrder
                    .filter(cat => categories[cat] && categories[cat].length > 0)
                    .map(cat => {
                        const types = categories[cat].filter(t => (t.label || '').toLowerCase().includes(searchTerm));
                        if (types.length === 0) return '';

                        const catColor = categoryColors[cat] || 'gray';
                        const catIcon = categoryIcons[cat] || 'ph-squares-four';
                        const cards = types.map(type => `
                            <div onclick="App.viewReportDetails('${type.id}')" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden group cursor-pointer hover:border-brand-300 transition-all">
                                <div class="absolute right-[-10px] top-[-10px] bg-${type.color}-50 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                                <i class="ph-fill ${type.icon} text-2xl text-${type.color}-500 relative z-10 mb-2"></i>
                                <h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 relative z-10">${type.label}</h4>
                                <h3 class="text-2xl font-bold text-gray-900 relative z-10">${stats[type.id] || 0} <span class="text-sm font-medium text-gray-500">${type.unit || ''}</span></h3>
                                <p class="text-xs text-gray-500 font-medium relative z-10">${type.metricLabel}</p>
                            </div>
                        `).join('');
                        return `
                            <div class="mb-6">
                                <div class="flex items-center gap-2 mb-3">
                                    <i class="ph-fill ${catIcon} text-${catColor}-500 text-sm"></i>
                                    <h4 class="text-xs font-bold text-${catColor}-700 uppercase tracking-widest">${cat}</h4>
                                    <div class="flex-1 h-px bg-${catColor}-100"></div>
                                    <span class="text-[10px] text-${catColor}-400 font-medium">${types.length} type${types.length > 1 ? 's' : ''}</span>
                                </div>
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">${cards}</div>
                            </div>
                        `;
                    }).join('');

                // Handle remaining custom categories
                const remainingCats = Object.keys(categories).filter(c => !categoryOrder.includes(c));
                const remainingHtml = remainingCats.map(cat => {
                    const types = categories[cat].filter(t => (t.label || '').toLowerCase().includes(searchTerm));
                    if (types.length === 0) return '';
                    const cards = types.map(type => `
                        <div onclick="App.viewReportDetails('${type.id}')" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden group cursor-pointer hover:border-brand-300 transition-all">
                            <div class="absolute right-[-10px] top-[-10px] bg-${type.color}-50 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                            <i class="ph-fill ${type.icon} text-2xl text-${type.color}-500 relative z-10 mb-2"></i>
                            <h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 relative z-10">${type.label}</h4>
                            <h3 class="text-2xl font-bold text-gray-900 relative z-10">${stats[type.id] || 0} <span class="text-sm font-medium text-gray-500">${type.unit || ''}</span></h3>
                            <p class="text-xs text-gray-500 font-medium relative z-10">${type.metricLabel}</p>
                        </div>
                    `).join('');
                    return `
                        <div class="mb-6">
                            <div class="flex items-center gap-2 mb-3">
                                <i class="ph-fill ph-tag text-gray-500 text-sm"></i>
                                <h4 class="text-xs font-bold text-gray-700 uppercase tracking-widest">${cat}</h4>
                                <div class="flex-1 h-px bg-gray-100"></div>
                            </div>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">${cards}</div>
                        </div>
                    `;
                }).join('');

                const allGroupedCards = groupedCardsHtml + remainingHtml;

                const filteredReports = reportsToProcess.filter(r =>
                    (r.typeLabel || '').toLowerCase().includes(searchTerm) ||
                    (r.user || '').toLowerCase().includes(searchTerm) ||
                    (r.date || '').toLowerCase().includes(searchTerm)
                ).sort((a, b) => new Date(b.date) - new Date(a.date));

                container.innerHTML = `
                    <div class="max-w-5xl mx-auto w-full px-5 md:px-0 animate-fade-in">
                        
                        <!-- Search Bar -->
                        <div class="mt-4 relative">
                            <i class="ph ph-magnifying-glass absolute left-4 top-3.5 text-gray-400 text-lg"></i>
                            <input type="text" id="report-search" value="${document.getElementById('report-search')?.value || ''}" 
                                oninput="App.renderReports(document.getElementById('main-view'))" 
                                placeholder="Search reports by type, submitter, or date..." 
                                class="w-full bg-white border border-gray-200 rounded-xl pl-12 pr-4 py-3 text-sm focus:ring-2 focus:ring-brand-100 outline-none shadow-sm transition-all" autofocus
                                data-tooltip="<div class='mb-2'><b><i class='ph-fill ph-magnifying-glass text-brand-400'></i> Dynamic Search Bar</b></div><div class='text-gray-300'>Filters both the <b>aggregate categories</b> and the <b>list of recent submissions</b> below. Try typing a report type, submitter name, or date!</div>">
                        </div>

                        <h3 class="text-sm font-bold text-gray-900 mb-3 uppercase tracking-wider mt-6">Kidapawan City Division Reports</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <a href="http://bit.ly/kcdportal" target="_blank" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 hover:bg-brand-50 hover:border-brand-200 transition-all group"><i class="ph-fill ph-globe text-2xl text-blue-600"></i><span class="text-xs font-bold text-gray-700 group-hover:text-blue-700">Division Portal</span></a>
                            <a href="https://sites.google.com/view/kcddms/assessments/upload-tostqs" target="_blank" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 hover:bg-green-50 hover:border-green-200 transition-all group"><i class="ph-fill ph-file-arrow-up text-2xl text-green-600"></i><span class="text-xs font-bold text-gray-700 group-hover:text-green-700">Upload TOS/TQs</span></a>
                            <a href="https://sites.google.com/view/kcddms/assessments/upload-gpa_1" target="_blank" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 hover:bg-orange-50 hover:border-orange-200 transition-all group"><i class="ph-fill ph-files text-2xl text-orange-600"></i><span class="text-xs font-bold text-gray-700 group-hover:text-orange-700">Upload GPA</span></a>
                            <a href="https://sites.google.com/view/kcddms/assessments/encode-analysis" target="_blank" class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 hover:bg-purple-50 hover:border-purple-200 transition-all group"><i class="ph-fill ph-chart-bar text-2xl text-purple-600"></i><span class="text-xs font-bold text-gray-700 group-hover:text-purple-700">Encode Item Analysis</span></a>
                        </div>
                            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 mt-2">
                                <div>
                                    <h2 class="text-2xl font-bold text-gray-900 flex flex-wrap items-center gap-3">
                                        School Data Overview
                                        <div class="flex items-center gap-1.5 bg-brand-50 border border-brand-200 shadow-sm px-3 py-1 rounded-full whitespace-nowrap">
                                            <i class="ph-fill ph-calendar-check text-brand-500"></i>
                                            <span class="text-brand-700 text-xs font-bold tracking-wide">SY ${activeSY}</span>
                                        </div>
                                    </h2>
                                    <p class="text-sm text-gray-500 mt-1">Real-time Performance Metrics</p>
                                </div>
                                <div class="flex gap-2 items-center justify-end w-full md:w-auto overflow-x-auto pb-2 md:pb-0 overflow-y-hidden custom-scroll">
                                    ${(this.canManageUsers() || this.isDev() || this.isPrincipal()) ? `
                                        <select onchange="App.setSchoolYear(this.value)" class="bg-gray-50 border border-gray-200 text-gray-700 text-xs font-bold rounded-xl px-3 py-2 outline-none focus:border-brand-300 transition-colors cursor-pointer whitespace-nowrap" data-tooltip="<div class='mb-2'><b><i class='ph-fill ph-calendar text-brand-400'></i> Active School Year</b></div><div class='text-gray-300'>Change the global active school year. This affects where new reports are routed and what the default dashboard displays.</div>">
                                            ${allSchoolYears.map(sy => `<option value="${sy}" ${sy === activeSY ? 'selected' : ''}>Active: SY ${sy}</option>`).join('')}
                                        </select>
                                        <button onclick="App.openCreateReportTypeModal()" class="bg-gray-100 text-gray-600 rounded-xl px-4 py-2 text-sm font-bold hover:bg-gray-200 transition-colors shrink-0 whitespace-nowrap flex items-center gap-1.5" data-tooltip="<div class='mb-2'><b><i class='ph-fill ph-plus-circle text-gray-400'></i> Define New Report Type</b></div><div class='text-gray-300'>Configure a entirely new category of reports. Here you can define the <b>Metrics</b>, <b>Excel Template Headers</b>, and styling properties that will generate custom analytics for these future records.</div>"><i class="ph-bold ph-plus"></i> Add Type</button>
                                    ` : ''}
                                    <button onclick="App.openSubmitModal()" class="bg-brand-600 text-white rounded-xl px-4 py-2 text-sm font-bold shadow-lg hover:bg-brand-700 transition-transform active:scale-95 flex items-center gap-2 shrink-0 whitespace-nowrap" data-tooltip="<div class='mb-2'><b><i class='ph-fill ph-upload-simple text-brand-400'></i> Submit Report Workflow</b></div><div class='space-y-2 text-gray-300'><p><b>Step 1:</b> Select the type of report you are submitting.</p><p><b>Step 2:</b> You can download a pre-formatted Excel template if you don't have one.</p><p><b>Step 3:</b> Upload your filled-in CSV/Excel file. The system will automatically parse the rows and calculate statistics (like MPS or Attendance Rates) before you submit!</p></div>"><i class="ph-bold ph-upload-simple"></i> Submit Report</button>
                                </div>
                            </div>
                        ${allGroupedCards}
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden group">
                                <div class="absolute right-[-10px] top-[-10px] bg-gray-50 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                                <i class="ph-fill ph-files text-2xl text-gray-500 relative z-10 mb-2"></i>
                                <h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 relative z-10">System</h4>
                                <h3 class="text-2xl font-bold text-gray-900 relative z-10">${totalReports}</h3>
                                <p class="text-xs text-gray-500 font-medium relative z-10">Total Submissions</p>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm relative overflow-hidden group">
                                <div class="absolute right-[-10px] top-[-10px] bg-blue-100 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                                <i class="ph-fill ph-folders text-2xl text-blue-500 relative z-10 mb-2"></i>
                                <h4 class="text-[10px] font-bold text-blue-400 uppercase tracking-wider mb-1 relative z-10">Categories</h4>
                                <h3 class="text-2xl font-bold text-blue-900 relative z-10">${totalTypes}</h3>
                                <p class="text-xs text-blue-500 font-medium relative z-10">Active Categories</p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm relative overflow-hidden group">
                                <div class="absolute right-[-10px] top-[-10px] bg-green-100 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                                <i class="ph-fill ph-users text-2xl text-green-500 relative z-10 mb-2"></i>
                                <h4 class="text-[10px] font-bold text-green-400 uppercase tracking-wider mb-1 relative z-10">Engagement</h4>
                                <h3 class="text-2xl font-bold text-green-900 relative z-10">${uniqueSubmitters}</h3>
                                <p class="text-xs text-green-500 font-medium relative z-10">Unique Submitters</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm relative overflow-hidden group">
                                <div class="absolute right-[-10px] top-[-10px] bg-purple-100 w-20 h-20 rounded-full group-hover:scale-150 transition-transform duration-500"></div>
                                <i class="ph-fill ph-clock text-2xl text-purple-500 relative z-10 mb-2"></i>
                                <h4 class="text-[10px] font-bold text-purple-400 uppercase tracking-wider mb-1 relative z-10">Activity</h4>
                                <h3 class="text-2xl font-bold text-purple-900 relative z-10">${recentSubmissionsCount}</h3>
                                <p class="text-xs text-purple-500 font-medium relative z-10">Last 7 Days</p>
                            </div>
                        </div>
                        <h3 class="text-sm font-bold text-gray-900 mb-3 uppercase tracking-wider">Recent Submissions ${searchTerm ? '(Filtered)' : ''}</h3>
                        <div class="bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm">
                            ${filteredReports.length === 0 ? `<div class="p-8 text-center text-gray-400 text-sm">No matching reports found.</div>` :
                        filteredReports.slice(0, 10).map(r => `
                                    <div class="p-4 border-b border-gray-50 flex items-center justify-between last:border-0 hover:bg-gray-50 transition-colors">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600"><i class="ph-fill ph-file-text text-xl"></i></div>
                                            <div><p class="text-sm font-bold text-gray-900">${r.typeLabel} <span class="font-normal text-gray-500">(${r.metricValue} ${r.unit || ''})</span></p><p class="text-xs text-gray-500">${r.user}  ${this.formatDate(r.date)}</p></div>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <a href="${r.fileUrl || '#'}" target="_blank" class="text-xs font-medium text-green-600 bg-white border border-green-100 px-3 py-1 rounded-full hover:bg-green-50">View File</a>
                                            ${this.canManageUsers() ? `<button onclick="App.deleteReport('${r.id}')" class="text-red-500 hover:bg-red-50 p-2 rounded-full transition-colors" title="Delete Report"><i class="ph-bold ph-trash"></i></button>` : ''}
                                        </div>
                                    </div>
                                `).join('')}
                        </div>
                        </div>

                        <!-- ARCHIVES SECTION -->
                        ${archivedReportsBatch.length > 0 ? `
                        <div class="mt-12 pt-8 border-t border-gray-100">
                            <h3 class="text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider flex items-center gap-2"><i class="ph-fill ph-archive-box text-gray-400 text-lg"></i> Yearly Archives</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                ${[...new Set(archivedReportsBatch.map(r => r.schoolYear))].sort().reverse().map(sy => {
                            const syReports = archivedReportsBatch.filter(r => r.schoolYear === sy);
                            const syTotal = syReports.length;
                            const sySubmitters = new Set(syReports.map(r => r.userId)).size;
                            return `
                                    <div onclick="App.setSchoolYear('${sy}')" class="bg-gray-50 p-5 rounded-2xl border border-gray-200 shadow-sm relative overflow-hidden group cursor-pointer hover:bg-gray-100 hover:border-gray-300 transition-all flex flex-col justify-between" data-tooltip="Click to view full dashboard for SY ${sy}">
                                        <div class="absolute right-[-20px] top-[-20px] opacity-10 group-hover:scale-150 transition-transform duration-700">
                                            <i class="ph-fill ph-calendar text-9xl text-gray-400"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-1">School Year</h4>
                                            <h3 class="text-3xl font-black text-gray-800 mb-4">${sy}</h3>
                                        </div>
                                        <div class="flex items-center gap-4 relative z-10">
                                            <div>
                                                <p class="text-[10px] font-bold text-gray-400 uppercase">Records</p>
                                                <p class="text-sm font-bold text-gray-700">${syTotal}</p>
                                            </div>
                                            <div class="h-6 w-px bg-gray-300"></div>
                                            <div>
                                                <p class="text-[10px] font-bold text-gray-400 uppercase">Contributors</p>
                                                <p class="text-sm font-bold text-gray-700">${sySubmitters}</p>
                                            </div>
                                        </div>
                                    </div>`;
                        }).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                `;

                // Refocus search if typing
                const input = document.getElementById('report-search');
                if (input && searchTerm) {
                    input.focus();
                    input.setSelectionRange(input.value.length, input.value.length);
                }
            },

            viewReportDetails(typeId) {
                const typeDef = this.reportTypes.find(t => t.id === typeId);
                // Filter for Current active school year only
                const allTypeItems = this.reports.filter(r => r.typeId === typeId);
                const activeSY = this.settings.activeSchoolYear || '2024-2025';
                const yearParts = activeSY.split('-');
                const prevSY = yearParts.length === 2 ? `${parseInt(yearParts[0]) - 1}-${parseInt(yearParts[1]) - 1}` : null;

                const items = allTypeItems.filter(r => r.schoolYear === activeSY);
                const prevItems = prevSY ? allTypeItems.filter(r => r.schoolYear === prevSY) : [];

                const total = items.reduce((sum, r) => sum + (parseInt(r.metricValue) || 0), 0);
                const prevTotal = prevItems.reduce((sum, r) => sum + (parseInt(r.metricValue) || 0), 0);

                let yoyHtml = '';
                if (prevItems.length > 0) {
                    const diff = total - prevTotal;
                    const pct = prevTotal > 0 ? ((diff / prevTotal) * 100).toFixed(1) : 100;
                    const isUp = diff >= 0;
                    const color = isUp ? 'emerald' : 'rose';
                    const icon = isUp ? 'ph-trend-up' : 'ph-trend-down';
                    const sign = isUp ? '+' : '';
                    yoyHtml = `
                    <div class="bg-gradient-to-r from-gray-900 to-gray-800 p-5 rounded-2xl shadow-xl mb-6 relative overflow-hidden flex justify-between items-center group">
                        <i class="ph-fill ph-chart-line-up absolute right-[-20px] bottom-[-20px] text-8xl text-gray-700/50 group-hover:scale-125 transition-transform duration-700"></i>
                        <div class="relative z-10">
                            <h4 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-2"><i class="ph-fill ph-clock-counter-clockwise"></i> Year-over-Year Comparison</h4>
                            <p class="text-sm text-gray-300">Comparing <span class="font-bold text-white">SY ${activeSY}</span> vs <span class="font-bold text-white">SY ${prevSY}</span></p>
                        </div>
                        <div class="relative z-10 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-xl flex items-center gap-4">
                            <div class="text-right">
                                <p class="text-[10px] uppercase text-gray-400 font-bold mb-1">Previous Total</p>
                                <p class="text-lg font-bold text-gray-200">${prevTotal.toLocaleString()}</p>
                            </div>
                            <div class="h-8 w-px bg-white/20"></div>
                            <div class="flex items-center gap-2 bg-${color}-500 bg-opacity-20 text-${color}-400 px-3 py-1.5 rounded-lg border border-${color}-500 border-opacity-30">
                                <i class="ph-bold ${icon} text-lg"></i>
                                <div>
                                    <p class="text-[10px] uppercase font-bold leading-none">${isUp ? 'Growth' : 'Decline'}</p>
                                    <p class="text-sm font-black leading-none">${sign}${pct}%</p>
                                </div>
                            </div>
                        </div>
                    </div>`;
                }

                // --- ANALYTICS AGGREGATION v3.0 ---
                // Universal analytics aggregation for all 11 report types
                let analyticsHtml = '';

                // Helper: Merge stats from all submissions
                const mergeObj = (target, source) => { Object.keys(source).forEach(k => { target[k] = (target[k] || 0) + source[k]; }); };
                const parseStats = (r) => { let s = r.stats; if (typeof s === 'string') { try { s = JSON.parse(s); } catch (e) { s = null; } } return s || {}; };
                const makePairs = (obj, max = 6) => Object.entries(obj).sort((a, b) => b[1] - a[1]).slice(0, max);
                const pairHtml = (pairs, color) => pairs.map(([k, v]) => `<div class="flex justify-between text-sm"><span class="text-${color}-600 font-medium">${k}</span> <span class="font-bold text-${color}-900">${v}</span></div>`).join('');
                const card = (icon, title, content, color, span = '') => `<div class="bg-${color}-50 p-4 rounded-xl border border-${color}-100 relative overflow-hidden ${span}"><i class="ph-fill ${icon} absolute right-[-5px] bottom-[-5px] text-5xl text-${color}-200 opacity-50"></i><h4 class="text-[10px] font-bold text-${color}-800 uppercase tracking-wider mb-2">${title}</h4><div class="flex flex-col gap-1">${content}</div></div>`;
                const statCard = (val, label, color) => `<div><span class="block text-2xl font-bold text-${color}-900">${val}</span><span class="text-[10px] text-${color}-600">${label}</span></div>`;

                // ---- LEARNER PROFILE ----
                if (typeId === 'learner_profile' || typeId === 'student_general_information' || (typeDef && typeDef.label === 'Student General Information')) {
                    let agg = { gender: { male: 0, female: 0 }, age: {}, fourPs: { yes: 0, no: 0 }, bmi: { total: 0, count: 0, underweight: 0, normal: 0, overweight: 0, obese: 0 }, ips: { yes: 0, no: 0 } };
                    items.forEach(r => {
                        const s = parseStats(r);
                        if (s.gender) { agg.gender.male += (s.gender.male || 0); agg.gender.female += (s.gender.female || 0); }
                        if (s.fourPs) { agg.fourPs.yes += (s.fourPs.yes || 0); agg.fourPs.no += (s.fourPs.no || 0); }
                        if (s.ips) { agg.ips.yes += (s.ips.yes || 0); agg.ips.no += (s.ips.no || 0); }
                        if (s.age) mergeObj(agg.age, s.age);
                        if (s.bmi) { agg.bmi.total += (s.bmi.total || 0); agg.bmi.count += (s.bmi.count || 0); agg.bmi.underweight += (s.bmi.underweight || 0); agg.bmi.normal += (s.bmi.normal || 0); agg.bmi.overweight += (s.bmi.overweight || 0); agg.bmi.obese += (s.bmi.obese || 0); }
                    });
                    const avgBmi = agg.bmi.count > 0 ? (agg.bmi.total / agg.bmi.count).toFixed(1) : 'N/A';
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-gender-intersex', 'Gender', `<div class="flex justify-between text-sm"><span class="text-blue-600 font-medium">Male</span><span class="font-bold text-blue-900">${agg.gender.male}</span></div><div class="flex justify-between text-sm"><span class="text-blue-600 font-medium">Female</span><span class="font-bold text-blue-900">${agg.gender.female}</span></div>`, 'blue')}
                        ${card('ph-hand-coins', '4Ps Status', `<div class="flex justify-between text-sm"><span class="text-yellow-600 font-medium">Yes</span><span class="font-bold text-yellow-900">${agg.fourPs.yes}</span></div><div class="flex justify-between text-sm"><span class="text-yellow-600 font-medium">No</span><span class="font-bold text-yellow-900">${agg.fourPs.no}</span></div>`, 'yellow')}
                        ${card('ph-users-three', 'IP Status', `<div class="flex justify-between text-sm"><span class="text-orange-600 font-medium">Yes</span><span class="font-bold text-orange-900">${agg.ips.yes}</span></div><div class="flex justify-between text-sm"><span class="text-orange-600 font-medium">No</span><span class="font-bold text-orange-900">${agg.ips.no}</span></div>`, 'orange')}
                        ${card('ph-apple', 'Health (BMI)', `<div class="flex items-center gap-6">${statCard(avgBmi, 'Avg BMI', 'green')}<div class="flex-1 space-y-1 border-l border-green-200 pl-4"><div class="flex justify-between text-xs"><span class="text-green-700">Underweight</span><span class="font-bold text-green-900">${agg.bmi.underweight}</span></div><div class="flex justify-between text-xs"><span class="text-green-700">Normal</span><span class="font-bold text-green-900">${agg.bmi.normal}</span></div><div class="flex justify-between text-xs"><span class="text-green-700">Overwt/Obese</span><span class="font-bold text-green-900">${agg.bmi.overweight + agg.bmi.obese}</span></div></div></div>`, 'green', 'col-span-2')}
                        <div class="bg-purple-50 p-4 rounded-xl border border-purple-100 relative overflow-hidden col-span-2 md:col-span-4"><i class="ph-fill ph-cake absolute right-[-5px] bottom-[-5px] text-5xl text-purple-200 opacity-50"></i><h4 class="text-[10px] font-bold text-purple-800 uppercase tracking-wider mb-2">Age Distribution</h4><div class="flex divide-x divide-purple-200"><div class="flex-1 text-center"><div class="text-xs text-purple-600">11-13</div><div class="font-bold text-purple-900">${agg.age['11-13'] || 0}</div></div><div class="flex-1 text-center"><div class="text-xs text-purple-600">14-16</div><div class="font-bold text-purple-900">${agg.age['14-16'] || 0}</div></div><div class="flex-1 text-center"><div class="text-xs text-purple-600">17+</div><div class="font-bold text-purple-900">${agg.age['17+'] || 0}</div></div></div></div>
                    </div>`;
                }
                // ---- ACADEMIC PERFORMANCE ----
                else if (typeId === 'academic_performance') {
                    let agg = { subjectAvg: {}, mpsAvg: { total: 0, count: 0 }, overallAvg: { total: 0, count: 0 }, promotionStatus: { promoted: 0, retained: 0, other: 0 }, passFail: { passed: 0, failed: 0 }, gradeLevel: {} };
                    items.forEach(r => { const s = parseStats(r); if (s.subjectAvg) Object.entries(s.subjectAvg).forEach(([k, v]) => { if (!agg.subjectAvg[k]) agg.subjectAvg[k] = { total: 0, count: 0 }; agg.subjectAvg[k].total += (v.total || 0); agg.subjectAvg[k].count += (v.count || 0); }); if (s.mpsAvg) { agg.mpsAvg.total += (s.mpsAvg.total || 0); agg.mpsAvg.count += (s.mpsAvg.count || 0); } if (s.overallAvg) { agg.overallAvg.total += (s.overallAvg.total || 0); agg.overallAvg.count += (s.overallAvg.count || 0); } if (s.promotionStatus) { agg.promotionStatus.promoted += (s.promotionStatus.promoted || 0); agg.promotionStatus.retained += (s.promotionStatus.retained || 0); } if (s.passFail) { agg.passFail.passed += (s.passFail.passed || 0); agg.passFail.failed += (s.passFail.failed || 0); } if (s.gradeLevel) mergeObj(agg.gradeLevel, s.gradeLevel); });
                    const avgMPS = agg.mpsAvg.count > 0 ? (agg.mpsAvg.total / agg.mpsAvg.count).toFixed(1) : 'N/A';
                    const avgGPA = agg.overallAvg.count > 0 ? (agg.overallAvg.total / agg.overallAvg.count).toFixed(1) : 'N/A';
                    const subjectCards = Object.entries(agg.subjectAvg).slice(0, 8).map(([k, v]) => `<div class="flex justify-between text-xs"><span class="text-indigo-600 truncate mr-2">${k}</span><span class="font-bold text-indigo-900">${v.count > 0 ? (v.total / v.count).toFixed(1) : 'N/A'}</span></div>`).join('');
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-chart-bar', 'Average MPS', statCard(avgMPS, 'Mean Percentage Score', 'indigo'), 'indigo')}
                        ${card('ph-graduation-cap', 'Average GPA', statCard(avgGPA, 'Grade Point Average', 'blue'), 'blue')}
                        ${card('ph-check-circle', 'Promotion', `<div class="flex justify-between text-sm"><span class="text-green-600 font-medium">Promoted</span><span class="font-bold text-green-900">${agg.promotionStatus.promoted}</span></div><div class="flex justify-between text-sm"><span class="text-red-600 font-medium">Retained</span><span class="font-bold text-red-900">${agg.promotionStatus.retained}</span></div>`, 'green')}
                        ${card('ph-exam', 'Pass / Fail', `<div class="flex justify-between text-sm"><span class="text-emerald-600 font-medium">Passed</span><span class="font-bold text-emerald-900">${agg.passFail.passed}</span></div><div class="flex justify-between text-sm"><span class="text-red-600 font-medium">Failed</span><span class="font-bold text-red-900">${agg.passFail.failed}</span></div>`, 'emerald')}
                        ${subjectCards ? card('ph-books', 'Subject Averages', subjectCards, 'violet', 'col-span-2 md:col-span-4') : ''}
                    </div>`;
                }
                // ---- ATTENDANCE RECORDS ----
                else if (typeId === 'attendance_records') {
                    let agg = { totalDays: 0, totalPresent: 0, totalAbsent: 0, totalTardy: 0, avgAttendance: { total: 0, count: 0 } };
                    items.forEach(r => { const s = parseStats(r); agg.totalDays += (s.totalDays || 0); agg.totalPresent += (s.totalPresent || 0); agg.totalAbsent += (s.totalAbsent || 0); agg.totalTardy += (s.totalTardy || 0); if (s.avgAttendance) { agg.avgAttendance.total += (s.avgAttendance.total || 0); agg.avgAttendance.count += (s.avgAttendance.count || 0); } });
                    const avgRate = agg.avgAttendance.count > 0 ? (agg.avgAttendance.total / agg.avgAttendance.count).toFixed(1) + '%' : 'N/A';
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-chart-pie-slice', 'Avg Attendance', statCard(avgRate, 'Overall Rate', 'teal'), 'teal')}
                        ${card('ph-calendar-check', 'Days Present', statCard(agg.totalPresent.toLocaleString(), 'Total Days', 'green'), 'green')}
                        ${card('ph-calendar-x', 'Days Absent', statCard(agg.totalAbsent.toLocaleString(), 'Total Days', 'red'), 'red')}
                        ${card('ph-clock-countdown', 'Times Tardy', statCard(agg.totalTardy.toLocaleString(), 'Total Count', 'amber'), 'amber')}
                    </div>`;
                }
                // ---- PHIL-IRI RESULTS ----
                else if (typeId === 'philiri_results') {
                    let agg = { preLevel: { frustration: 0, instructional: 0, independent: 0 }, postLevel: { frustration: 0, instructional: 0, independent: 0 }, avgComprehension: { total: 0, count: 0 }, improvement: 0, count: 0 };
                    items.forEach(r => { const s = parseStats(r); if (s.preLevel) { agg.preLevel.frustration += (s.preLevel.frustration || 0); agg.preLevel.instructional += (s.preLevel.instructional || 0); agg.preLevel.independent += (s.preLevel.independent || 0); } if (s.postLevel) { agg.postLevel.frustration += (s.postLevel.frustration || 0); agg.postLevel.instructional += (s.postLevel.instructional || 0); agg.postLevel.independent += (s.postLevel.independent || 0); } if (s.avgComprehension) { agg.avgComprehension.total += (s.avgComprehension.total || 0); agg.avgComprehension.count += (s.avgComprehension.count || 0); } agg.count++; });
                    const avgComp = agg.avgComprehension.count > 0 ? (agg.avgComprehension.total / agg.avgComprehension.count).toFixed(1) : 'N/A';
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-book-open', 'Pre-Test Levels', `<div class="flex justify-between text-xs"><span class="text-rose-600">Frustration</span><span class="font-bold text-rose-900">${agg.preLevel.frustration}</span></div><div class="flex justify-between text-xs"><span class="text-rose-600">Instructional</span><span class="font-bold text-rose-900">${agg.preLevel.instructional}</span></div><div class="flex justify-between text-xs"><span class="text-rose-600">Independent</span><span class="font-bold text-rose-900">${agg.preLevel.independent}</span></div>`, 'rose')}
                        ${card('ph-book-open-text', 'Post-Test Levels', `<div class="flex justify-between text-xs"><span class="text-green-600">Frustration</span><span class="font-bold text-green-900">${agg.postLevel.frustration}</span></div><div class="flex justify-between text-xs"><span class="text-green-600">Instructional</span><span class="font-bold text-green-900">${agg.postLevel.instructional}</span></div><div class="flex justify-between text-xs"><span class="text-green-600">Independent</span><span class="font-bold text-green-900">${agg.postLevel.independent}</span></div>`, 'green')}
                        ${card('ph-brain', 'Comprehension', statCard(avgComp, 'Avg Score (%)', 'blue'), 'blue')}
                        ${card('ph-trend-up', 'Improvement', statCard((agg.postLevel.independent - agg.preLevel.independent > 0 ? '+' : '') + ((agg.postLevel.independent + agg.postLevel.instructional) - (agg.preLevel.independent + agg.preLevel.instructional)), 'More readers at level', 'emerald'), 'emerald')}
                    </div>`;
                }
                // ---- CLASSROOM & RESOURCES ----
                else if (typeId === 'classroom_resources') {
                    let agg = { totalRooms: 0, totalCapacity: 0, totalEnrollment: 0, totalArmchairs: 0, totalTextbooks: 0 };
                    items.forEach(r => { const s = parseStats(r); agg.totalRooms += (s.totalRooms || 0); agg.totalCapacity += (s.totalCapacity || 0); agg.totalEnrollment += (s.totalEnrollment || 0); agg.totalArmchairs += (s.totalArmchairs || 0); agg.totalTextbooks += (s.totalTextbooks || 0); });
                    const scrRatio = agg.totalRooms > 0 ? (agg.totalEnrollment / agg.totalRooms).toFixed(1) + ':1' : 'N/A';
                    const sarRatio = agg.totalArmchairs > 0 ? (agg.totalEnrollment / agg.totalArmchairs).toFixed(2) + ':1' : 'N/A';
                    const tbrRatio = agg.totalTextbooks > 0 ? (agg.totalTextbooks / agg.totalEnrollment * 100).toFixed(0) + '%' : 'N/A';
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-house', 'Total Rooms', statCard(agg.totalRooms, 'Inventoried', 'amber'), 'amber')}
                        ${card('ph-users', 'Student:Classroom', statCard(scrRatio, 'Ratio', 'blue'), 'blue')}
                        ${card('ph-chair', 'Student:Armchair', statCard(sarRatio, 'Ratio', 'violet'), 'violet')}
                        ${card('ph-book', 'Textbook Coverage', statCard(tbrRatio, 'of Learners', 'green'), 'green')}
                    </div>`;
                }
                // ---- BENEFITS & ASSISTANCE ----
                else if (typeId === 'benefits_assistance') {
                    let agg = { programTypes: {}, totalAmount: 0, totalBeneficiaries: 0 };
                    items.forEach(r => { const s = parseStats(r); if (s.programTypes) mergeObj(agg.programTypes, s.programTypes); agg.totalAmount += (s.totalAmount || 0); agg.totalBeneficiaries += (s.totalBeneficiaries || 0); });
                    const progCards = pairHtml(makePairs(agg.programTypes), 'emerald');
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-users', 'Beneficiaries', statCard(agg.totalBeneficiaries.toLocaleString(), 'Total Learners', 'emerald'), 'emerald')}
                        ${card('ph-currency-circle-dollar', 'Total Amount', statCard('' + agg.totalAmount.toLocaleString(), 'Disbursed', 'green'), 'green')}
                        ${progCards ? card('ph-list-checks', 'By Program', progCards, 'teal', 'col-span-2') : ''}
                    </div>`;
                }
                // ---- CO-CURRICULAR ACTIVITIES ----
                else if (typeId === 'cocurricular_activities') {
                    let agg = { activityTypes: {}, participationLevels: {}, awardCount: 0, totalParticipants: 0 };
                    items.forEach(r => { const s = parseStats(r); if (s.activityTypes) mergeObj(agg.activityTypes, s.activityTypes); if (s.participationLevels) mergeObj(agg.participationLevels, s.participationLevels); agg.awardCount += (s.awardCount || 0); agg.totalParticipants += (s.totalParticipants || 0); });
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-users', 'Participants', statCard(agg.totalParticipants.toLocaleString(), 'Total', 'violet'), 'violet')}
                        ${card('ph-trophy', 'Awards', statCard(agg.awardCount.toLocaleString(), 'Recognitions', 'amber'), 'amber')}
                        ${card('ph-flag-banner', 'Activity Types', pairHtml(makePairs(agg.activityTypes), 'indigo'), 'indigo')}
                        ${card('ph-medal', 'Participation Level', pairHtml(makePairs(agg.participationLevels), 'blue'), 'blue')}
                    </div>`;
                }
                // ---- LEARNER PROGRESS & ENGAGEMENT ----
                else if (typeId === 'learner_progress') {
                    let agg = { progressStatus: {}, reportCardIssued: { yes: 0, no: 0 }, ptcCompleted: 0, totalRecords: 0 };
                    items.forEach(r => { const s = parseStats(r); if (s.progressStatus) mergeObj(agg.progressStatus, s.progressStatus); if (s.reportCardIssued) { agg.reportCardIssued.yes += (s.reportCardIssued.yes || 0); agg.reportCardIssued.no += (s.reportCardIssued.no || 0); } agg.ptcCompleted += (s.ptcCompleted || 0); agg.totalRecords += (s.totalRecords || 0); });
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-file-text', 'Total Records', statCard(agg.totalRecords.toLocaleString(), 'Progress Reports', 'cyan'), 'cyan')}
                        ${card('ph-clipboard-text', 'Report Cards', `<div class="flex justify-between text-sm"><span class="text-cyan-600 font-medium">Issued</span><span class="font-bold text-cyan-900">${agg.reportCardIssued.yes}</span></div><div class="flex justify-between text-sm"><span class="text-cyan-600 font-medium">Pending</span><span class="font-bold text-cyan-900">${agg.reportCardIssued.no}</span></div>`, 'cyan')}
                        ${card('ph-chats', 'PTC Sessions', statCard(agg.ptcCompleted.toLocaleString(), 'Conferences Held', 'blue'), 'blue')}
                        ${card('ph-chart-line-up', 'Progress Status', pairHtml(makePairs(agg.progressStatus), 'teal'), 'teal')}
                    </div>`;
                }
                // ---- DRRM & INCIDENT MONITORING ----
                else if (typeId === 'drrm_incident') {
                    let agg = { incidentTypes: {}, severityCounts: {}, statusCounts: {}, totalIncidents: 0, totalStudentsInvolved: 0 };
                    items.forEach(r => { const s = parseStats(r); if (s.incidentTypes) mergeObj(agg.incidentTypes, s.incidentTypes); if (s.severityCounts) mergeObj(agg.severityCounts, s.severityCounts); if (s.statusCounts) mergeObj(agg.statusCounts, s.statusCounts); agg.totalIncidents += (s.totalIncidents || 0); agg.totalStudentsInvolved += (s.totalStudentsInvolved || 0); });
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-warning-diamond', 'Total Incidents', statCard(agg.totalIncidents.toLocaleString(), 'Recorded', 'red'), 'red')}
                        ${card('ph-student', 'Students Involved', statCard(agg.totalStudentsInvolved.toLocaleString(), 'Affected', 'orange'), 'orange')}
                        ${card('ph-fire', 'Incident Types', pairHtml(makePairs(agg.incidentTypes), 'rose'), 'rose')}
                        ${card('ph-shield-check', 'Severity & Status', `${pairHtml(makePairs(agg.severityCounts, 3), 'amber')}<div class="border-t border-amber-200 mt-2 pt-2">${pairHtml(makePairs(agg.statusCounts, 3), 'amber')}</div>`, 'amber')}
                    </div>`;
                }
                // ---- PROGRAM IMPLEMENTATION (PIR) ----
                else if (typeId === 'program_implementation') {
                    let agg = { statusCounts: {}, avgPercentage: { total: 0, count: 0 }, totalBudget: 0, totalExpenditure: 0, totalPrograms: 0 };
                    items.forEach(r => { const s = parseStats(r); if (s.statusCounts) mergeObj(agg.statusCounts, s.statusCounts); if (s.avgPercentage) { agg.avgPercentage.total += (s.avgPercentage.total || 0); agg.avgPercentage.count += (s.avgPercentage.count || 0); } agg.totalBudget += (s.totalBudget || 0); agg.totalExpenditure += (s.totalExpenditure || 0); agg.totalPrograms += (s.totalPrograms || 0); });
                    const avgPct = agg.avgPercentage.count > 0 ? (agg.avgPercentage.total / agg.avgPercentage.count).toFixed(1) + '%' : 'N/A';
                    const utilization = agg.totalBudget > 0 ? (agg.totalExpenditure / agg.totalBudget * 100).toFixed(1) + '%' : 'N/A';
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-clipboard-text', 'Programs', statCard(agg.totalPrograms.toLocaleString(), 'Total Tracked', 'sky'), 'sky')}
                        ${card('ph-chart-pie-slice', 'Avg Completion', statCard(avgPct, 'Accomplishment Rate', 'blue'), 'blue')}
                        ${card('ph-currency-circle-dollar', 'Budget vs Spend', `${statCard('' + agg.totalBudget.toLocaleString(), 'Total Budget', 'sky')}<div class="mt-2">${statCard('' + agg.totalExpenditure.toLocaleString(), 'Total Spent', 'sky')}</div><div class="mt-1 text-xs font-bold text-sky-700">Utilization: ${utilization}</div>`, 'sky')}
                        ${card('ph-flag-banner', 'Status Breakdown', pairHtml(makePairs(agg.statusCounts), 'teal'), 'teal')}
                    </div>`;
                }
                // ---- INSTRUCTIONAL SUPERVISION ----
                else if (typeId === 'instructional_supervision') {
                    let agg = { totalObservations: 0, focusAreas: {}, subjects: {}, teachers: {} };
                    items.forEach(r => { const s = parseStats(r); agg.totalObservations += (s.totalObservations || 0); if (s.focusAreas) mergeObj(agg.focusAreas, s.focusAreas); if (s.subjects) mergeObj(agg.subjects, s.subjects); if (s.teachers) mergeObj(agg.teachers, s.teachers); });
                    analyticsHtml = `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        ${card('ph-binoculars', 'Observations', statCard(agg.totalObservations.toLocaleString(), 'Total Conducted', 'fuchsia'), 'fuchsia')}
                        ${card('ph-chalkboard-teacher', 'Teachers Observed', statCard(Object.keys(agg.teachers).length, 'Unique Teachers', 'violet'), 'violet')}
                        ${card('ph-crosshair', 'Focus Areas', pairHtml(makePairs(agg.focusAreas), 'purple'), 'purple')}
                        ${card('ph-book-open', 'Subjects', pairHtml(makePairs(agg.subjects), 'indigo'), 'indigo')}
                    </div>`;
                }


                const rows = items.map(r => `
                    <tr class="border-b border-gray-50 last:border-0 hover:bg-gray-50">
                        <td class="p-3 text-xs text-gray-600">${this.formatDate(r.date)}</td>
                        <td class="p-3 text-xs font-bold text-gray-900">${r.user}</td>
                        <td class="p-3 text-xs font-mono">${r.metricValue}</td>
                        <td class="p-3 text-xs"><a href="${r.fileUrl}" target="_blank" class="text-blue-600 hover:underline">View Proof</a></td>
                        ${this.canManageUsers() ? `<td class="p-3 text-xs flex gap-2"><button onclick="App.editReport('${r.id}')" class="text-blue-500"><i class="ph-fill ph-pencil"></i></button><button onclick="App.deleteReport('${r.id}')" class="text-red-500"><i class="ph-fill ph-trash"></i></button></td>` : ''}
                    </tr>
                `).join('');

                const html = `
                    <div class="p-4">
                        <div class="flex justify-between items-center mb-6">
                            <div><h3 class="text-lg font-bold text-gray-900">${typeDef ? typeDef.label : typeId}</h3><p class="text-xs text-gray-500">Consolidated Data</p></div>
                            <div class="flex items-center gap-2">
                                ${this.canDownloadReports() ? `<button onclick="App.downloadReportData('${typeId}')" class="px-3 py-1.5 bg-green-50 text-green-600 text-xs font-bold rounded-lg border border-green-100 hover:bg-green-100 transition-colors"><i class="ph-bold ph-download-simple"></i> Download Data</button>` : ''}
                                ${this.canManageUsers() ? `<button onclick="App.deleteReportType('${typeId}')" class="px-3 py-1.5 bg-red-50 text-red-600 text-xs font-bold rounded-lg border border-red-100 hover:bg-red-100 transition-colors">Delete Definition</button>` : ''}
                                <button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button>
                            </div>
                        </div>
                        <div class="bg-brand-50 p-4 rounded-xl border border-brand-100 mb-6 flex justify-between items-center">
                            <span class="text-sm font-bold text-brand-800">Total ${typeDef ? typeDef.metricLabel : 'Value'} (SY ${activeSY})</span>
                            <span class="text-2xl font-bold text-brand-600">${total} <span class="text-lg text-brand-400 font-medium">${typeDef ? (typeDef.unit || '') : ''}</span></span>
                        </div>
                        
                        <!-- ANALYTICS CARDS INJECTION -->
                        ${yoyHtml}
                        ${analyticsHtml}

                        <div class="overflow-x-auto max-h-96 custom-scroll">
                            <table class="w-full text-left border-collapse">
                                <thead class="bg-gray-50 sticky top-0"><tr class="text-[10px] uppercase text-gray-400 font-bold tracking-wider"><th class="p-3">Date</th><th class="p-3">Submitter</th><th class="p-3">Metric (${typeDef ? (typeDef.unit || '') : ''})</th><th class="p-3">Proof</th>${this.canManageUsers() ? '<th class="p-3">Action</th>' : ''}</tr></thead>
                                <tbody>${rows.length ? rows : '<tr><td colspan="5" class="p-4 text-center text-xs text-gray-400">No submissions yet.</td></tr>'}</tbody>
                            </table>
                        </div>
                    </div>
                `;
                this.openModal(html);
            },

            editReport(reportId) {
                const report = this.reports.find(r => r.id == reportId); // lax comparison
                if (!report) return;
                this.askPrompt("Edit Metric Value", "Enter new value:", report.metricValue, async (val) => {
                    if (val) {
                        report.metricValue = val;

                        // Optimistic Update
                        const idx = this.reports.findIndex(r => r.id == reportId);
                        this.reports[idx] = report;
                        this.viewReportDetails(report.typeId); // Refresh modal

                        // Backend Sync
                        this.toast("Saving changes to database...");
                        await this.api('updateReport', report);
                        this.toast("Metric value updated successfully.");
                    }
                });
            },

            downloadReportData(typeId) {
                const typeDef = this.reportTypes.find(t => t.id === typeId);
                const items = this.reports.filter(r => r.typeId === typeId);

                if (!items.length) { this.toast("No data to download."); return; }

                // Helper to flatten object
                const flatten = (obj, prefix = '', res = {}) => {
                    for (const key in obj) {
                        if (typeof obj[key] === 'object' && obj[key] !== null) {
                            flatten(obj[key], prefix + key + ' ', res);
                        } else {
                            res[prefix + key] = obj[key];
                        }
                    }
                    return res;
                };

                // 1. Prepare all rows and collect all possible dynamic headers
                const processedRows = items.map(r => {
                    let s = r.stats;
                    if (typeof s === 'string') { try { s = JSON.parse(s); } catch (e) { s = {}; } }
                    s = s || {};

                    // Add derived stats (e.g. Avg BMI) to the stats object so they get flattened too
                    if (s.bmi && s.bmi.count > 0) {
                        s.bmi.average = (s.bmi.total / s.bmi.count).toFixed(2);
                    }

                    const flatStats = flatten(s);

                    // Get Section
                    const submitter = this.users.find(u => u.id === r.userId);
                    const section = submitter ? (submitter.advisorySection || '') : '';

                    return {
                        base: {
                            "Date": r.date,
                            "Submitter": r.user,
                            "Submitter ID": r.userId,
                            "Advisory Section": section,
                            "Metric Value": r.metricValue,
                            "File URL": r.fileUrl
                        },
                        stats: flatStats
                    };
                });

                // 2. Collect Unique Headers from Stats
                const statKeys = new Set();
                processedRows.forEach(row => {
                    Object.keys(row.stats).forEach(k => statKeys.add(k));
                });
                const sortedStatKeys = Array.from(statKeys).sort();

                // 3. Build CSV
                const baseHeaders = ["Date", "Submitter", "Submitter ID", "Advisory Section", "Metric Value"];
                const allHeaders = [...baseHeaders, ...sortedStatKeys, "File URL"];

                const csvContent = [allHeaders.join(",")].concat(
                    processedRows.map(row => {
                        const rowData = [];

                        // Base Cols
                        baseHeaders.forEach(h => rowData.push(`"${row.base[h] || ''}"`));

                        // Stat Cols
                        sortedStatKeys.forEach(k => rowData.push(`"${row.stats[k] !== undefined ? row.stats[k] : ''}"`));

                        // File URL
                        rowData.push(`"${row.base["File URL"]}"`);

                        return rowData.join(",");
                    })
                ).join("\n");

                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement("a");
                link.setAttribute("href", url);
                link.setAttribute("download", `${typeDef ? typeDef.label : typeId}_Data.csv`);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            },

            deleteReport(reportId) {
                this.askConfirm("Delete Report Submission?", "This will permanently remove the submission.", async () => {
                    // Backend Sync - Call the new Hard Delete Endpoint
                    this.toast("Deleting from database...");
                    await this.api('deleteReport', { id: reportId });

                    // Frontend Update - Remove from array entirely (Hard Delete logic)
                    this.reports = this.reports.filter(r => r.id != reportId);

                    this.closeModal(); // Close to refresh context
                    this.renderReports(document.getElementById('main-view'));
                    this.toast("Report permanently deleted.");
                });
            },

            deleteReportType(typeId) {
                this.askConfirm("Delete Report Definition?", "This will hide the report card from the dashboard.", async () => {
                    // Backend Sync - Soft Delete the Type
                    this.toast("Hiding report...");
                    await this.api('deleteReportType', { id: typeId });

                    // Frontend Update
                    const type = this.reportTypes.find(t => t.id === typeId);
                    if (type) type.status = 'hidden';

                    this.closeModal();
                    this.renderReports(document.getElementById('main-view'));
                    this.toast("Report type hidden from dashboard.");
                });
            },

            openCreateReportTypeModal(defaultCategory = 'General') {
                // [UPDATED] Richer Icon Set (Analytics + General + DRRM)
                const icons = [
                    'ph-chart-bar', 'ph-chart-line-up', 'ph-chart-pie', 'ph-trend-up', 'ph-strategy', 'ph-target', 'ph-file-text',
                    'ph-crosshair', 'ph-presentation-chart', 'ph-chalkboard', 'ph-book-open-text', 'ph-student', 'ph-images', 'ph-graduation-cap',
                    'ph-pencil-simple', 'ph-clipboard-text', 'ph-calendar-check', 'ph-briefcase', 'ph-trophy', 'ph-medal', 'ph-star',
                    'ph-buildings', 'ph-users-three', 'ph-globe', 'ph-files',
                    // DRRM / Safety
                    'ph-warning', 'ph-siren', 'ph-fire', 'ph-drop', 'ph-wind', 'ph-first-aid'
                ];

                const html = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">Define New Report Type</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                    
                    <!-- INTERACTIVE HELPER BOX -->
                    <div id="create-report-helper" class="hidden mb-6 bg-blue-50 border border-blue-200 p-4 rounded-xl shadow-inner transition-all duration-300 transform origin-top">
                        <div class="flex gap-3">
                            <i class="ph-fill ph-info text-blue-500 text-xl mt-0.5"></i>
                            <div>
                                <h4 id="helper-title" class="text-sm font-bold text-blue-900 mb-1">Guide</h4>
                                <p id="helper-desc" class="text-xs text-blue-800 leading-relaxed"></p>
                            </div>
                        </div>
                    </div>

                    <form onsubmit="App.handleCreateReportType(event)" class="space-y-4">
                        <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Report Category</label>
                            <select name="category" class="input-field" onfocus="App.showCreateHelper('Report Category', 'Groups reports on the dashboard. Use &quot;General&quot; for academics, faculty, or students. Use &quot;DRRM&quot; for safety/incidents.')" onblur="App.hideCreateHelper()">
                                <option value="General" ${defaultCategory === 'General' ? 'selected' : ''}>General Reporting</option>
                                <option value="DRRM" ${defaultCategory === 'DRRM' ? 'selected' : ''}>DRRM Incident</option>
                            </select>
                        </div>
                        <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Report Title</label><input type="text" name="label" placeholder="e.g. Quarterly Assessment" class="input-field" required onfocus="App.showCreateHelper('Report Title', 'The main name of the report. This will also be the exact name users MUST use when naming their Excel file uploads (e.g. &quot;Quarterly Assessment.xlsx&quot;).')" onblur="App.hideCreateHelper()"></div>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Key Metric Label</label><input type="text" name="metricLabel" placeholder="e.g. Score" class="input-field" required onfocus="App.showCreateHelper('Key Metric Label', 'The primary number this report tracks. Example: &quot;Score&quot;, &quot;Budget&quot;, &quot;Attendees&quot;, or &quot;Total Enrollees&quot;.')" onblur="App.hideCreateHelper()"></div>
                            <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Unit</label><input type="text" name="unit" placeholder="e.g. Average" class="input-field" required onfocus="App.showCreateHelper('Unit', 'The mathematical description of the metric. Example: &quot;Average&quot;, &quot;Pesos&quot;, &quot;Count&quot;, or &quot;Percentage&quot;.')" onblur="App.hideCreateHelper()"></div>
                        </div>
                        <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">CSV Headers (Auto-Total included)</label><input type="text" name="headers" placeholder="Name, Date, Remarks" class="input-field" required onfocus="App.showCreateHelper('CSV Headers', '<b>CRITICAL:</b> These define the columns in the Excel template. Separate them by commas. Example: &quot;Full Name, Grade Level, Test Score, Remarks&quot;. The system will automatically add a &quot;Total&quot; column at the end.')" onblur="App.hideCreateHelper()"><p class="text-[10px] text-gray-400 mt-1">'Total' column is automatically appended by system.</p></div>
                        <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Color Theme</label><select name="color" class="input-field" onchange="App.showCreateHelper('Color Theme', 'Choose a color that fits the nature of the report. (e.g. Red for Incidents, Green for Financials).')"><option value="blue">Blue</option><option value="green">Green</option><option value="orange">Orange</option><option value="purple">Purple</option><option value="red">Red</option></select></div>
                        
                        <!-- Target Audience -->
                        <div onmouseenter="App.showCreateHelper('Target Audience (Goals)', 'Checking these boxes will make this report appear in the &quot;Required Goals&quot; sidebar for the selected user roles, prompting them to submit it.')" onmouseleave="App.hideCreateHelper()">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-2">Target Audience (Goals)</label>
                            <div class="grid grid-cols-2 gap-2 text-sm bg-gray-50 p-3 rounded-xl border border-gray-200">
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" name="targetAudience" value="Faculty" class="rounded text-brand-600 focus:ring-brand-500"> <span>All Faculty</span></label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" name="targetAudience" value="Class Adviser" class="rounded text-brand-600 focus:ring-brand-500"> <span>Class Advisers</span></label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" name="targetAudience" value="Floating Teacher" class="rounded text-brand-600 focus:ring-brand-500"> <span>Floating Teachers</span></label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" name="targetAudience" value="Department Head" class="rounded text-brand-600 focus:ring-brand-500"> <span>Department Heads</span></label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" name="targetAudience" value="Staff" class="rounded text-brand-600 focus:ring-brand-500"> <span>Staff / Non-Teaching</span></label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" name="targetAudience" value="Admin" class="rounded text-brand-600 focus:ring-brand-500"> <span>Admin / Principal</span></label>
                            </div>
                            <p class="text-[10px] text-gray-400 mt-1">Users with these roles will see this report as a 'Goal' to complete.</p>
                        </div>

                        <div onmouseenter="App.showCreateHelper('Visual Icon', 'Select an icon that visually represents the data nature. This appears on the Dashboard report card.')" onmouseleave="App.hideCreateHelper()">
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-2">Visual Icon</label>
                            <div class="grid grid-cols-7 gap-2 h-32 overflow-y-auto custom-scroll p-1 border rounded-lg">${icons.map((ic, i) => `<label class="cursor-pointer"><input type="radio" name="icon" value="${ic}" class="peer sr-only" ${i === 0 ? 'checked' : ''}><div class="w-10 h-10 rounded-lg bg-gray-50 border border-gray-200 flex items-center justify-center peer-checked:bg-brand-600 peer-checked:text-white peer-checked:border-brand-600 text-gray-500 hover:bg-gray-100 transition-all"><i class="ph-fill ${ic} text-xl"></i></div></label>`).join('')}</div>
                        </div>
                        <button type="submit" class="w-full bg-brand-600 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-brand-700">Create Definition</button>
                    </form>
                `;
                this.openModal(html);
            },

            showCreateHelper(title, description) {
                const helperBox = document.getElementById('create-report-helper');
                const titleEl = document.getElementById('helper-title');
                const descEl = document.getElementById('helper-desc');

                if (helperBox && titleEl && descEl) {
                    titleEl.innerText = title;
                    descEl.innerHTML = description;
                    helperBox.classList.remove('hidden', 'scale-y-0', 'opacity-0');
                    helperBox.classList.add('scale-y-100', 'opacity-100');
                }
            },

            hideCreateHelper() {
                const helperBox = document.getElementById('create-report-helper');
                if (helperBox) {
                    helperBox.classList.add('hidden', 'scale-y-0', 'opacity-0');
                    helperBox.classList.remove('scale-y-100', 'opacity-100');
                }
            },

            renderUserGuide() {
                const isPrincipal = this.isPrincipal();
                const isDev = this.isDev();
                const tooltipsEnabled = localStorage.getItem('school_portal_tooltips') !== 'false'; // Default true

                const html = `
                    <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">System User Guide</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>

                        <div class="max-h-[70vh] overflow-y-auto custom-scroll space-y-8 pr-2">

                            <!-- Interactive Tooltips Toggle -->
                            <div class="bg-gray-900 text-white p-4 rounded-xl flex items-center justify-between shadow-lg">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-brand-400"><i class="ph-fill ph-cursor-click text-xl"></i></div>
                                    <div><h4 class="font-bold text-sm">Interactive Helper</h4><p class="text-xs text-gray-400">Show info boxes when hovering over features.</p></div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="tooltip-toggle" class="sr-only peer" ${tooltipsEnabled ? 'checked' : ''} onchange="App.toggleTooltips(this)">
                                        <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-500"></div>
                                </label>
                            </div>

                            <!-- 1. Reports & Analytics (Priority) -->
                            <section>
                                <h4 class="text-lg font-bold text-brand-600 border-b border-brand-100 pb-2 mb-4 flex items-center gap-2"><i class="ph-fill ph-chart-bar"></i> Reports & Analytics</h4>
                                <div class="space-y-6 text-sm text-gray-600">
                                    <p class="leading-relaxed">The Reports & Analytics module is the core data engine of the School Portal. It allows you to submit structured data (via Excel/CSV) and instantly visualize it on dynamic dashboards. We built this to be as seamless as possiblejust download a template, fill it in, upload, and the system does the parsing and math for you!</p>

                                    <div class="bg-blue-50 border border-blue-100 rounded-xl p-5 shadow-sm">
                                        <h5 class="text-blue-900 font-bold mb-3 flex items-center gap-2"><i class="ph-fill ph-plus-circle text-blue-500"></i> Defining a New Report Type (Admins Only)</h5>
                                        <p class="mb-4 text-blue-800 leading-relaxed">If the built-in report types are not enough, Administrators can build custom ones. This tells the system how to read future uploads and display them on the dashboard. Follow this comprehensive guide to ensure your data is processed perfectly:</p>

                                        <div class="space-y-4">
                                            <div class="bg-white p-4 rounded-lg border border-blue-100">
                                                <h6 class="font-bold text-blue-900 mb-1"><span class="bg-blue-200 text-blue-800 px-2 py-0.5 rounded text-xs mr-2">1</span> Report Category</h6>
                                                <p class="text-sm text-gray-700">Groups your report on the dashboard. Use <b>"General"</b> for academics, faculty, or students. Use <b>"DRRM"</b> for safety, weather, or incident reports.</p>
                                            </div>

                                            <div class="bg-white p-4 rounded-lg border border-blue-100">
                                                <h6 class="font-bold text-blue-900 mb-1"><span class="bg-blue-200 text-blue-800 px-2 py-0.5 rounded text-xs mr-2">2</span> Report Title</h6>
                                                <p class="text-sm text-gray-700 mb-2">The main name of the report. <b>Crucially, this exact title must be included in the filename when users upload their data.</b></p>
                                                <p class="text-xs text-gray-500 bg-gray-50 p-2 rounded"><i>Example:</i> "Quarterly Math Assessment". Users must upload files named like "Quarterly Math Assessment_Q1.xlsx".</p>
                                            </div>

                                            <div class="bg-white p-4 rounded-lg border border-blue-100">
                                                <h6 class="font-bold text-blue-900 mb-1"><span class="bg-blue-200 text-blue-800 px-2 py-0.5 rounded text-xs mr-2">3</span> Key Metric & Unit</h6>
                                                <p class="text-sm text-gray-700 mb-2">What data point are you tracking as the primary number on the summary card?</p>
                                                <p class="text-xs text-gray-500 bg-gray-50 p-2 rounded"><i>Example Metric:</i> "Attendees", "Total Budget", or "Average Score". <br /><i>Example Unit:</i> "Count", "Pesos", or "Percent".</p>
                                            </div>

                                            <div class="bg-white p-4 rounded-lg border border-blue-200 border-l-4 border-l-brand-500 shadow-sm">
                                                <h6 class="font-bold text-brand-900 mb-1"><span class="bg-brand-200 text-brand-800 px-2 py-0.5 rounded text-xs mr-2">4</span> CSV Headers (CRITICAL)</h6>
                                                <p class="text-sm text-gray-700 mb-2">This is the most important step. You are defining the column headers for the Excel template that users will download and fill out. <b>You must separate each header with a comma.</b></p>
                                                <ul class="list-disc ml-5 text-sm text-gray-600 mb-2 space-y-1">
                                                    <li>Keep names simple and clear.</li>
                                                    <li>Do NOT add a "Total" column. The system will automatically add a "Total" column at the very end of your template to calculate the Key Metric.</li>
                                                </ul>
                                                <p class="text-xs text-brand-600 bg-brand-50 p-2 rounded font-mono"><i>Correct Example:</i> Student Name, Grade Level, Test Score, Remarks, Date Taken</p>
                                            </div>

                                            <div class="bg-white p-4 rounded-lg border border-blue-100">
                                                <h6 class="font-bold text-blue-900 mb-1"><span class="bg-blue-200 text-blue-800 px-2 py-0.5 rounded text-xs mr-2">5</span> Target Audience (Goals)</h6>
                                                <p class="text-sm text-gray-700 mb-2">Select which user roles are <i>required</i> to submit this report. Checking a box (e.g., "Class Advisers") will make this report appear in the "Required Goals & Tasks" sidebar for all Class Advisers, tracking its completion.</p>
                                            </div>

                                            <div class="bg-white p-4 rounded-lg border border-blue-100">
                                                <h6 class="font-bold text-blue-900 mb-1"><span class="bg-blue-200 text-blue-800 px-2 py-0.5 rounded text-xs mr-2">6</span> Visuals (Color & Icon)</h6>
                                                <p class="text-sm text-gray-700">Choose a color and icon that represents the data. This makes the dashboard scannable. (e.g. Red Fire icon for Safety incidents, Green Money icon for Budget reports).</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
                                        <h5 class="font-bold text-gray-900 mb-3 flex items-center gap-2"><i class="ph-fill ph-upload-simple text-gray-500"></i> Submitting a Report Workflow</h5>
                                        <p class="mb-3">Anyone with teaching or administrative access can submit reports to the defined report types.</p>
                                        <ul class="space-y-3">
                                            <li class="leading-relaxed"><span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-bold text-gray-600 mr-2 align-middle inline-block">Step 1</span> Select <strong>Submit Report</strong> from the Reports tab. Choose the specific Report Type from the dropdown.</li>
                                            <li class="leading-relaxed"><span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-bold text-gray-600 mr-2 align-middle inline-block">Step 2</span> If you haven't prepared your file yet, click <strong>Download Template</strong>. The system will generate an exact '.xlsx' file tailored perfectly to the headers of that specific report. <span class="text-red-500 font-medium">Do not rename or rearrange the template's columns!</span></li>
                                            <li class="leading-relaxed"><span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-bold text-gray-600 mr-2 align-middle inline-block">Step 3</span> Fill your data in the template using MS Excel or Google Sheets. Save as '.xlsx' or '.csv'.</li>
                                            <li class="leading-relaxed"><span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-bold text-gray-600 mr-2 align-middle inline-block">Step 4</span> Click <strong>Select Excel/CSV File</strong> and choose your filled template.</li>
                                            <li class="leading-relaxed"><span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-bold text-gray-600 mr-2 align-middle inline-block">Step 5</span> <strong>Auto-Math Analysis:</strong> As soon as you select the file, the system's smart parser will read the file and automatically calculate your total metric value (like counting total learners, or summing up budgets).</li>
                                            <li class="leading-relaxed"><span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-bold text-gray-600 mr-2 align-middle inline-block">Step 6</span> Click <strong>Submit</strong>. Your data is uploaded, and the aggregate dashboard will instantly update!</li>
                                        </ul>
                                    </div>

                                    <div class="bg-gray-50 border border-gray-200 rounded-xl p-5 shadow-sm">
                                        <h5 class="font-bold text-gray-900 mb-2 flex items-center gap-2"><i class="ph-fill ph-magnifying-glass text-gray-500"></i> Finding & Analyzing Data</h5>
                                        <ul class="list-disc list-inside space-y-2 ml-1">
                                            <li><strong>Global Search:</strong> The search bar at the top of the Reports page filters both the categorized cards and the recent submissions list. Try typing dates, submitter names, or report names.</li>
                                            <li><strong>Aggregate Dashboards:</strong> Clicking any big colored card on the Reports view opens a comprehensive Analytics pop-up detailing all merged data submitted under that type across the whole school.</li>
                                        </ul>
                                    </div>
                                </div>
                            </section>
                        </div>
                        </section>

                        <!-- 2. General System -->
                        <section>
                            <h4 class="text-lg font-bold text-brand-600 border-b border-brand-100 pb-2 mb-4 flex items-center gap-2"><i class="ph-fill ph-house"></i> General Features</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-gray-50 p-3 rounded-lg">
                                    <strong class="block text-gray-900 mb-1"><i class="ph-bold ph-newspaper"></i> Bulletin Board</strong>
                                    <p class="text-xs text-gray-500">The home page displays the latest announcements. Announcements are sorted with the newest ones at the top. You can Like and Comment on posts.</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded-lg">
                                    <strong class="block text-gray-900 mb-1"><i class="ph-bold ph-users-three"></i> Departments</strong>
                                    <p class="text-xs text-gray-500">Join your department groups to chat with colleagues. You will need a Group ID from your Department Head to join a new group.</p>
                                </div>
                            </div>
                        </section>

                        <!-- 3. Roles -->
                        <section>
                            <h4 class="text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 mb-4 flex items-center gap-2"><i class="ph-fill ph-user-gear"></i> Role-Specific Tools</h4>
                            ${isPrincipal || isDev ? `
                                <div class="bg-purple-50 p-4 rounded-xl border border-purple-100 mb-2">
                                    <h5 class="font-bold text-purple-900 mb-1"> Administrators / Principals</h5>
                                    <p class="text-xs text-purple-800 mb-2">You have full control over the reporting system.</p>
                                    <ul class="text-xs text-purple-800 list-disc list-inside">
                                        <li><strong>Create Reports:</strong> Use the "Add Type" button to define new reporting categories (e.g., "Earthquake Drill").</li>
                                        <li><strong>Delete Data:</strong> You can permanently delete erroneous submissions or entire report definitions.</li>
                                        <li><strong>User Manager:</strong> Access the User Manager in settings to verify or remove accounts.</li>
                                    </ul>
                                </div>
                            ` : `<p class="text-sm text-gray-400 italic">No administrative tools available for your role.</p>`}
                        </section>

                        <div class="mt-8 pt-6 border-t border-gray-100 text-center">
                            <p class="text-xs text-gray-400">School Portal &bull; <a href="#" class="text-brand-600 hover:underline">Contact Support</a></p>
                        </div>
                    </div>
            `;
                this.openModal(html);
            },

            toggleTooltips(checkbox) {
                const enabled = checkbox.checked;
                localStorage.setItem('school_portal_tooltips', enabled);
                if (enabled) {
                    this.setupTooltips(); // Re-enable
                    this.toast("Tooltips Enabled");
                } else {
                    // Remove existing tooltips
                    document.querySelectorAll('.app-tooltip').forEach(el => el.remove());
                    // We can't easily remove the event listeners if they are anonymous, 
                    // but our mouseover logic will check the localStorage/state variables.
                    this.toast("Tooltips Disabled");
                }
            },

            setupTooltips() {
                // Global Event Delegation for Tooltips
                if (this.tooltipInitialized) return;
                this.tooltipInitialized = true;

                document.body.addEventListener('mouseover', (e) => {
                    if (localStorage.getItem('school_portal_tooltips') === 'false') return;

                    const target = e.target.closest('[data-tooltip]');
                    if (!target) return;

                    let tip = document.getElementById('app-tooltip-container');
                    if (!tip) {
                        tip = document.createElement('div');
                        tip.id = 'app-tooltip-container';
                        tip.className = 'app-tooltip fixed z-[100] pointer-events-none bg-gray-900 border border-gray-700 text-white text-xs p-3 rounded-xl shadow-2xl max-w-sm animate-fade-in hidden leading-relaxed';
                        // Add some rich styles dynamically for guides
                        tip.style.transition = 'opacity 0.2s';
                        document.body.appendChild(tip);
                    }

                    // [ADDED] Support Rich HTML Tooltips
                    tip.innerHTML = target.dataset.tooltip;
                    tip.classList.remove('hidden');

                    // Smart Positioning
                    const rect = target.getBoundingClientRect();
                    const tipRect = tip.getBoundingClientRect();

                    let top = rect.bottom + 10;
                    let left = rect.left + (rect.width / 2) - (tipRect.width / 2);

                    // Boundary Checks
                    if (left < 10) left = 10;
                    if (left + tipRect.width > window.innerWidth - 10) left = window.innerWidth - tipRect.width - 10;
                    if (top + tipRect.height > window.innerHeight - 10) top = rect.top - tipRect.height - 10; // Flip to top if no space below

                    tip.style.top = top + 'px';
                    tip.style.left = left + 'px';
                });

                document.body.addEventListener('mouseout', (e) => {
                    const tip = document.getElementById('app-tooltip-container');
                    if (tip) tip.classList.add('hidden');
                });
            },

            async handleCreateReportType(e) {
                e.preventDefault();
                const data = Object.fromEntries(new FormData(e.target));
                let headersList = data.headers.split(',').map(h => h.trim());
                if (!headersList.includes('Total')) headersList.push('Total');

                const newType = {
                    id: 'rt_' + Date.now(),
                    label: data.label,
                    metricLabel: data.metricLabel,
                    unit: data.unit,
                    headers: headersList,
                    color: data.color,
                    icon: data.icon || 'ph-chart-bar',
                    category: data.category
                };

                const btn = e.target.querySelector('button[type="submit"]');
                const originalText = btn.innerHTML;
                btn.disabled = true;
                btn.innerHTML = '<i class="ph ph-spinner animate-spin"></i> Saving...';

                try {
                    await this.api('saveReportType', newType);
                    this.reportTypes.push(newType);
                    this.toast('New Report Type Added');
                    this.closeModal();

                    const currentRoute = document.querySelector('.nav-btn.active')?.dataset.target || 'reports';
                    if (currentRoute === 'drrm') this.renderDrrm(document.getElementById('main-view'));
                    else this.renderReports(document.getElementById('main-view'));
                } catch (err) {
                    this.toast('Failed to create definition: ' + err.message, 'error');
                } finally {
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }
            },

            openSubmitModal() {
                const options = this.reportTypes.map(t => `<option value="${t.id}">${t.label}</option>`).join('');
                const firstType = this.reportTypes.length ? this.reportTypes[0] : null;
                const firstMetric = firstType ? firstType.metricLabel : 'Value';
                const firstUnit = firstType ? firstType.unit : '';
                const firstFormat = firstType ? `${firstType.label} -[Details].pdf` : 'Report_Name.pdf';

                const html = `
            <div class="flex justify-between items-center mb-6"><h3 class="text-lg font-bold text-gray-900">Submit Report</h3><button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button></div>
                <form onsubmit="App.handleSubmitReport(event)" class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Report Type</label>
                        <select id="report-type-select" name="typeId" class="input-field" onchange="App.updateSubmitModalUI(this.value)">${options}</select>
                    </div>

                    <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center bg-gray-50 hover:bg-white hover:border-brand-400 transition-colors group cursor-pointer relative">
                        <input type="file" name="file" id="report-file-upload" class="absolute inset-0 opacity-0 cursor-pointer" required onchange="App.handleReportFileSelect(this)">
                            <p class="text-sm font-medium text-gray-600 pointer-events-none" id="file-upload-text">Click to upload supporting file (Excel/CSV)</p>
                            <p class="text-[10px] text-brand-600 font-bold mt-2" id="file-format-hint">Required Name: ${firstFormat}</p>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1" id="metric-label-display">${firstMetric} (${firstUnit})</label>
                        <div class="relative">
                            <input type="number" id="metric-value-input" name="metricValue" placeholder="Upload file to calculate..." class="input-field bg-gray-100 text-gray-500 cursor-not-allowed" readonly required>
                                <div class="absolute right-4 top-3 text-gray-400"><i class="ph-fill ph-calculator"></i></div>
                        </div>
                        <p class="text-[10px] text-gray-400 mt-1">This value is automatically calculated from the uploaded file.</p>
                    </div>

                    <button type="submit" class="w-full bg-brand-600 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-brand-700">Submit Data</button>
                    <div class="pt-4 border-t border-gray-100 text-center"><button type="button" onclick="App.downloadTemplate()" class="text-brand-600 text-sm font-bold hover:text-brand-800 transition-colors flex items-center justify-center gap-2 w-full"><i class="ph ph-download-simple"></i> Download Template</button></div>
                </form>
        `;
                this.openModal(html);
            },

            updateSubmitModalUI(typeId) {
                const t = this.reportTypes.find(x => x.id === typeId);
                if (t) {
                    document.getElementById('metric-label-display').innerText = `${t.metricLabel} (${t.unit})`;
                    document.getElementById('file-format-hint').innerText = `Required Name: ${t.label} -[Details].pdf / xlsx`;
                }
            },

            handleReportFileSelect(input) {
                const typeId = document.getElementById('report-type-select').value;
                const typeDef = this.reportTypes.find(t => t.id === typeId);
                const fileText = document.getElementById('file-upload-text');
                const metricInput = document.getElementById('metric-value-input');

                if (input.files && input.files[0]) {
                    const file = input.files[0];
                    const fileName = file.name;

                    // 1. Name Validation
                    if (!fileName.toLowerCase().includes(typeDef.label.toLowerCase())) {
                        this.toast(`File name MUST contain "${typeDef.label}"`, 'error');
                        input.value = '';
                        fileText.innerText = "Invalid Name. Try Again.";
                        fileText.classList.add('text-red-500');
                        metricInput.value = '';
                        return;
                    }

                    fileText.innerText = fileName;
                    fileText.classList.remove('text-red-500');
                    fileText.classList.add('text-brand-600', 'font-bold');

                    // 2. Parse File for Metric Calculation
                    metricInput.placeholder = "Calculating...";

                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        await App.loadSheetJS();
                        const data = new Uint8Array(e.target.result);
                        try {
                            const workbook = XLSX.read(data, { type: 'array' });
                            const firstSheetName = workbook.SheetNames[0];
                            const worksheet = workbook.Sheets[firstSheetName];

                            // Convert sheet to JSON (array of arrays)
                            const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });

                            if (jsonData.length <= 1) {
                                metricInput.value = 0;
                                this.toast("File appears empty.");
                                return;
                            }

                            // INTELLIGENT CALCULATION LOGIC
                            let calculatedValue = 0;
                            const headers = jsonData[0].map(h => String(h).toLowerCase().trim());
                            const totalColIndex = headers.indexOf('total');

                            /* ================================================
                             * SMART ANALYTICS PARSER - v3.0
                             * Dispatches to type-specific parsing logic.
                             * Each parser produces a stats object stored
                             * with the report for analytics aggregation.
                             * ================================================ */
                            const findCol = (name) => headers.findIndex(h => h.includes(name.toLowerCase()));
                            const getVal = (row, idx) => idx !== -1 ? String(row[idx] || '').trim() : '';
                            const getNum = (row, idx) => idx !== -1 ? parseFloat(row[idx]) : NaN;
                            const isYes = (v) => ['yes', 'y', 'true', '1'].includes(v.toLowerCase());

                            // ---- DEDUPLICATION LOGIC ----
                            const seenRows = new Set();
                            const rawDataRows = jsonData.slice(1).filter(r => r && r.length > 0 && r.some(c => c !== null && c !== undefined && String(c).trim() !== ''));

                            const dataRows = [];
                            rawDataRows.forEach(row => {
                                // Create a normalized string representation of the row for comparison
                                const rowString = JSON.stringify(row.map(cell => String(cell || '').trim().toLowerCase()));
                                if (!seenRows.has(rowString)) {
                                    seenRows.add(rowString);
                                    dataRows.push(row);
                                }
                            });

                            if (rawDataRows.length > dataRows.length) {
                                this.toast(`Filtered ${rawDataRows.length - dataRows.length} duplicate entries.`);
                            }

                            let stats = {};

                            // ---- LEARNER PROFILE ----
                            if (typeId === 'learner_profile' || (typeDef.label || '').toLowerCase().includes('student general')) {
                                stats = { gender: { male: 0, female: 0 }, age: {}, fourPs: { yes: 0, no: 0 }, bmi: { total: 0, count: 0, underweight: 0, normal: 0, overweight: 0, obese: 0 }, ips: { yes: 0, no: 0 }, ethnicity: {}, religion: {}, nutritionalStatus: {} };
                                const iG = findCol('gender'), iA = findCol('age'), i4 = headers.findIndex(h => h.includes('4ps')), iW = findCol('weight'), iH = findCol('height'), iIP = headers.findIndex(h => h === 'ip' || h.includes('indigenous')), iEth = findCol('ethnicity'), iRel = findCol('religion'), iNS = findCol('nutritional');
                                dataRows.forEach(row => {
                                    const g = getVal(row, iG).toLowerCase(); if (g === 'male' || g === 'm') stats.gender.male++; else if (g === 'female' || g === 'f') stats.gender.female++;
                                    const age = parseInt(getVal(row, iA)); if (!isNaN(age)) { let b = 'Other'; if (age >= 11 && age <= 13) b = '11-13'; else if (age >= 14 && age <= 16) b = '14-16'; else if (age >= 17) b = '17+'; else b = '<11'; stats.age[b] = (stats.age[b] || 0) + 1; }
                                    if (i4 !== -1) { isYes(getVal(row, i4)) ? stats.fourPs.yes++ : stats.fourPs.no++; }
                                    if (iIP !== -1) { isYes(getVal(row, iIP)) ? stats.ips.yes++ : stats.ips.no++; }
                                    const w = getNum(row, iW), h2 = getNum(row, iH); if (!isNaN(w) && !isNaN(h2) && h2 > 0) { const bmi = w / (h2 * h2); stats.bmi.total += bmi; stats.bmi.count++; if (bmi < 18.5) stats.bmi.underweight++; else if (bmi < 24.9) stats.bmi.normal++; else if (bmi < 29.9) stats.bmi.overweight++; else stats.bmi.obese++; }
                                    const eth = getVal(row, iEth); if (eth) stats.ethnicity[eth] = (stats.ethnicity[eth] || 0) + 1;
                                    const rel = getVal(row, iRel); if (rel) stats.religion[rel] = (stats.religion[rel] || 0) + 1;
                                    const ns = getVal(row, iNS); if (ns) stats.nutritionalStatus[ns] = (stats.nutritionalStatus[ns] || 0) + 1;
                                });
                            }
                            // ---- ACADEMIC PERFORMANCE ----
                            else if (typeId === 'academic_performance') {
                                stats = { subjectAvg: {}, gradeLevel: {}, mpsAvg: { total: 0, count: 0 }, promotionStatus: { promoted: 0, retained: 0, other: 0 }, overallAvg: { total: 0, count: 0 }, passFail: { passed: 0, failed: 0 } };
                                const iSubj = findCol('subject'), iGL = findCol('grade level'), iFR = findCol('final rating'), iMPS = findCol('mps'), iPS = findCol('promotion status'), iRem = findCol('remarks');
                                dataRows.forEach(row => {
                                    const subj = getVal(row, iSubj), gl = getVal(row, iGL), fr = getNum(row, iFR), mps = getNum(row, iMPS), ps = getVal(row, iPS).toLowerCase(), rem = getVal(row, iRem).toLowerCase();
                                    if (subj) { if (!stats.subjectAvg[subj]) stats.subjectAvg[subj] = { total: 0, count: 0 }; if (!isNaN(fr)) { stats.subjectAvg[subj].total += fr; stats.subjectAvg[subj].count++; } }
                                    if (gl) stats.gradeLevel[gl] = (stats.gradeLevel[gl] || 0) + 1;
                                    if (!isNaN(mps)) { stats.mpsAvg.total += mps; stats.mpsAvg.count++; }
                                    if (!isNaN(fr)) { stats.overallAvg.total += fr; stats.overallAvg.count++; }
                                    if (ps.includes('promot')) stats.promotionStatus.promoted++; else if (ps.includes('retain')) stats.promotionStatus.retained++; else if (ps) stats.promotionStatus.other++;
                                    if (rem.includes('pass')) stats.passFail.passed++; else if (rem.includes('fail')) stats.passFail.failed++;
                                });
                            }
                            // ---- ATTENDANCE RECORDS ----
                            else if (typeId === 'attendance_records') {
                                stats = { totalDays: 0, totalPresent: 0, totalAbsent: 0, totalTardy: 0, avgAttendance: { total: 0, count: 0 }, monthlyData: {} };
                                const iDays = findCol('total school days'), iPres = findCol('days present'), iAbs = findCol('days absent'), iTardy = findCol('times tardy'), iRate = findCol('attendance rate'), iMonth = findCol('month');
                                dataRows.forEach(row => {
                                    const days = getNum(row, iDays), pres = getNum(row, iPres), abs = getNum(row, iAbs), tardy = getNum(row, iTardy), rate = getNum(row, iRate), month = getVal(row, iMonth);
                                    if (!isNaN(days)) stats.totalDays += days; if (!isNaN(pres)) stats.totalPresent += pres; if (!isNaN(abs)) stats.totalAbsent += abs; if (!isNaN(tardy)) stats.totalTardy += tardy;
                                    if (!isNaN(rate)) { stats.avgAttendance.total += rate; stats.avgAttendance.count++; }
                                    if (month) { if (!stats.monthlyData[month]) stats.monthlyData[month] = { present: 0, absent: 0, tardy: 0 }; if (!isNaN(pres)) stats.monthlyData[month].present += pres; if (!isNaN(abs)) stats.monthlyData[month].absent += abs; if (!isNaN(tardy)) stats.monthlyData[month].tardy += tardy; }
                                });
                            }
                            // ---- PHIL-IRI RESULTS ----
                            else if (typeId === 'philiri_results') {
                                stats = { preLevel: { frustration: 0, instructional: 0, independent: 0 }, postLevel: { frustration: 0, instructional: 0, independent: 0 }, avgComprehension: { total: 0, count: 0 }, improvement: 0 };
                                const iPL = findCol('pre-test level'), iPoL = findCol('post-test level'), iComp = findCol('comprehension');
                                dataRows.forEach(row => {
                                    const pl = getVal(row, iPL).toLowerCase(), pol = getVal(row, iPoL).toLowerCase(), comp = getNum(row, iComp);
                                    if (pl.includes('frust')) stats.preLevel.frustration++; else if (pl.includes('instruct')) stats.preLevel.instructional++; else if (pl.includes('indep')) stats.preLevel.independent++;
                                    if (pol.includes('frust')) stats.postLevel.frustration++; else if (pol.includes('instruct')) stats.postLevel.instructional++; else if (pol.includes('indep')) stats.postLevel.independent++;
                                    if (!isNaN(comp)) { stats.avgComprehension.total += comp; stats.avgComprehension.count++; }
                                });
                                const preI = stats.preLevel.independent + stats.preLevel.instructional, postI = stats.postLevel.independent + stats.postLevel.instructional;
                                const total = dataRows.length; stats.improvement = total > 0 ? Math.round(((postI - preI) / total) * 100) : 0;
                            }
                            // ---- CLASSROOM & RESOURCES ----
                            else if (typeId === 'classroom_resources') {
                                stats = { totalRooms: 0, totalCapacity: 0, totalEnrollment: 0, totalArmchairs: 0, totalTextbooks: 0, roomTypes: {}, materialStatus: {} };
                                const iCap = findCol('capacity'), iEnr = findCol('enrollment'), iArm = findCol('armchairs'), iTxt = findCol('textbooks'), iRT = findCol('room type'), iLM = findCol('materials status');
                                dataRows.forEach(row => {
                                    stats.totalRooms++;
                                    const cap = getNum(row, iCap), enr = getNum(row, iEnr), arm = getNum(row, iArm), txt = getNum(row, iTxt), rt = getVal(row, iRT), lm = getVal(row, iLM);
                                    if (!isNaN(cap)) stats.totalCapacity += cap; if (!isNaN(enr)) stats.totalEnrollment += enr; if (!isNaN(arm)) stats.totalArmchairs += arm; if (!isNaN(txt)) stats.totalTextbooks += txt;
                                    if (rt) stats.roomTypes[rt] = (stats.roomTypes[rt] || 0) + 1;
                                    if (lm) stats.materialStatus[lm] = (stats.materialStatus[lm] || 0) + 1;
                                });
                            }
                            // ---- BENEFITS & ASSISTANCE ----
                            else if (typeId === 'benefits_assistance') {
                                stats = { programTypes: {}, totalAmount: 0, statusCounts: {}, totalBeneficiaries: 0 };
                                const iPT = findCol('program type'), iPN = findCol('program name'), iAmt = findCol('amount'), iSt = findCol('status');
                                dataRows.forEach(row => {
                                    stats.totalBeneficiaries++;
                                    const pt = getVal(row, iPT), amt = getNum(row, iAmt), st = getVal(row, iSt);
                                    if (pt) stats.programTypes[pt] = (stats.programTypes[pt] || 0) + 1;
                                    if (!isNaN(amt)) stats.totalAmount += amt;
                                    if (st) stats.statusCounts[st] = (stats.statusCounts[st] || 0) + 1;
                                });
                            }
                            // ---- CO-CURRICULAR ACTIVITIES ----
                            else if (typeId === 'cocurricular_activities') {
                                stats = { activityTypes: {}, participationLevels: {}, awardCount: 0, totalParticipants: 0 };
                                const iAT = findCol('activity type'), iLP = findCol('level of participation'), iAward = findCol('award');
                                dataRows.forEach(row => {
                                    stats.totalParticipants++;
                                    const at = getVal(row, iAT), lp = getVal(row, iLP), award = getVal(row, iAward);
                                    if (at) stats.activityTypes[at] = (stats.activityTypes[at] || 0) + 1;
                                    if (lp) stats.participationLevels[lp] = (stats.participationLevels[lp] || 0) + 1;
                                    if (award && award.toLowerCase() !== 'none' && award.toLowerCase() !== 'n/a') stats.awardCount++;
                                });
                            }
                            // ---- LEARNER PROGRESS & ENGAGEMENT ----
                            else if (typeId === 'learner_progress') {
                                stats = { progressStatus: {}, reportCardIssued: { yes: 0, no: 0 }, ptcCompleted: 0, totalRecords: 0 };
                                const iPS = findCol('progress status'), iRC = findCol('report card'), iPTC = findCol('ptc date');
                                dataRows.forEach(row => {
                                    stats.totalRecords++;
                                    const ps = getVal(row, iPS), rc = getVal(row, iRC), ptc = getVal(row, iPTC);
                                    if (ps) stats.progressStatus[ps] = (stats.progressStatus[ps] || 0) + 1;
                                    if (isYes(rc)) stats.reportCardIssued.yes++; else stats.reportCardIssued.no++;
                                    if (ptc) stats.ptcCompleted++;
                                });
                            }
                            // ---- DRRM & INCIDENT MONITORING ----
                            else if (typeId === 'drrm_incident') {
                                stats = { incidentTypes: {}, severityCounts: {}, statusCounts: {}, totalIncidents: 0, totalStudentsInvolved: 0 };
                                const iIT = findCol('incident type'), iSev = findCol('severity'), iISt = findCol('status'), iSI = findCol('students involved');
                                dataRows.forEach(row => {
                                    stats.totalIncidents++;
                                    const it = getVal(row, iIT), sev = getVal(row, iSev), st = getVal(row, iISt), si = getNum(row, iSI);
                                    if (it) stats.incidentTypes[it] = (stats.incidentTypes[it] || 0) + 1;
                                    if (sev) stats.severityCounts[sev] = (stats.severityCounts[sev] || 0) + 1;
                                    if (st) stats.statusCounts[st] = (stats.statusCounts[st] || 0) + 1;
                                    if (!isNaN(si)) stats.totalStudentsInvolved += si;
                                });
                            }
                            // ---- PROGRAM IMPLEMENTATION (PIR) ----
                            else if (typeId === 'program_implementation') {
                                stats = { statusCounts: {}, avgPercentage: { total: 0, count: 0 }, totalBudget: 0, totalExpenditure: 0, totalPrograms: 0 };
                                const iPer = findCol('percentage'), iBud = findCol('budget'), iExp = findCol('expenditure'), iSt = findCol('status');
                                dataRows.forEach(row => {
                                    stats.totalPrograms++;
                                    const per = getNum(row, iPer), bud = getNum(row, iBud), exp = getNum(row, iExp), st = getVal(row, iSt);
                                    if (!isNaN(per)) { stats.avgPercentage.total += per; stats.avgPercentage.count++; }
                                    if (!isNaN(bud)) stats.totalBudget += bud; if (!isNaN(exp)) stats.totalExpenditure += exp;
                                    if (st) stats.statusCounts[st] = (stats.statusCounts[st] || 0) + 1;
                                });
                            }
                            // ---- INSTRUCTIONAL SUPERVISION ----
                            else if (typeId === 'instructional_supervision') {
                                stats = { totalObservations: 0, focusAreas: {}, subjects: {}, teachers: {}, taTypes: {} };
                                const iFA = findCol('focus area'), iSubj = findCol('subject'), iTch = findCol('teacher name'), iTA = findCol('ta provided');
                                dataRows.forEach(row => {
                                    stats.totalObservations++;
                                    const fa = getVal(row, iFA), subj = getVal(row, iSubj), tch = getVal(row, iTch), ta = getVal(row, iTA);
                                    if (fa) stats.focusAreas[fa] = (stats.focusAreas[fa] || 0) + 1;
                                    if (subj) stats.subjects[subj] = (stats.subjects[subj] || 0) + 1;
                                    if (tch) stats.teachers[tch] = (stats.teachers[tch] || 0) + 1;
                                    if (ta) stats.taTypes[ta] = (stats.taTypes[ta] || 0) + 1;
                                });
                            }
                            // ---- FALLBACK (user-created types) ----
                            else {
                                stats = { gender: { male: 0, female: 0 }, age: {}, fourPs: { yes: 0, no: 0 }, bmi: { total: 0, count: 0, underweight: 0, normal: 0, overweight: 0, obese: 0 } };
                                const iG = findCol('gender'), iA = findCol('age'), i4 = headers.findIndex(h => h.includes('4ps')), iW = findCol('weight'), iH = findCol('height');
                                dataRows.forEach(row => {
                                    const g = getVal(row, iG).toLowerCase(); if (g === 'male' || g === 'm') stats.gender.male++; else if (g === 'female' || g === 'f') stats.gender.female++;
                                    const age = parseInt(getVal(row, iA)); if (!isNaN(age)) { let b = 'Other'; if (age >= 11 && age <= 13) b = '11-13'; else if (age >= 14 && age <= 16) b = '14-16'; else if (age >= 17) b = '17+'; else b = '<11'; stats.age[b] = (stats.age[b] || 0) + 1; }
                                    if (i4 !== -1) { isYes(getVal(row, i4)) ? stats.fourPs.yes++ : stats.fourPs.no++; }
                                    const w = getNum(row, iW), h2 = getNum(row, iH); if (!isNaN(w) && !isNaN(h2) && h2 > 0) { const bmi = w / (h2 * h2); stats.bmi.total += bmi; stats.bmi.count++; if (bmi < 18.5) stats.bmi.underweight++; else if (bmi < 24.9) stats.bmi.normal++; else if (bmi < 29.9) stats.bmi.overweight++; else stats.bmi.obese++; }
                                });
                            }

                            // Store stats for submission
                            this.tempStats = stats;

                            // Original Total Calculation
                            if (totalColIndex !== -1) {
                                // CASE A: Found "Total" column -> Sum values from UNIQUE rows
                                for (let i = 0; i < dataRows.length; i++) {
                                    const val = parseFloat(dataRows[i][totalColIndex]);
                                    if (!isNaN(val)) calculatedValue += val;
                                }
                                this.toast(`Summed values from 'Total' column(Duplicates ignored): ${calculatedValue} `);
                            } else {
                                // CASE B: Count rows (Only unique non-empty ones)
                                calculatedValue = dataRows.length;
                                this.toast(`No 'Total' header found.Counted ${calculatedValue} unique entries.`);
                            }

                            metricInput.value = calculatedValue;

                        } catch (err) {
                            console.error("Parsing Error", err);
                            this.toast("Could not auto-calculate. Please verify file format.", 'error');
                            metricInput.removeAttribute('readonly'); // Fallback to manual
                            metricInput.classList.remove('bg-gray-100', 'cursor-not-allowed');
                            metricInput.placeholder = "Enter manually";
                            this.tempStats = null;
                        }
                    };


                    reader.readAsArrayBuffer(file);
                }
            },

            async downloadTemplate() {
                await this.loadSheetJS();
                const typeId = document.getElementById('report-type-select').value;
                const typeDef = this.reportTypes.find(t => t.id === typeId);
                if (!typeDef) { this.toast('Error: Report type definition not found.', 'error'); return; }
                const headers = typeDef.headers && typeDef.headers.length > 0 ? typeDef.headers : ['Column1', 'Column2', 'Column3'];

                /* ================================================
                 * SMART TEMPLATE GENERATOR - v3.0
                 * Generates XLSX templates with realistic sample
                 * data for all 11 built-in report types.
                 * ================================================ */
                const sampleDataMap = {
                    'learner_profile': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Middle Name': 'Santos', 'Suffix': '', 'Gender': 'Male', 'Birthdate': '2008-05-15', 'Age': 16, 'Ethnicity': 'Filipino', 'Religion': 'Roman Catholic', 'Address': '123 Rizal St, Kidapawan City', 'Contact No': '09171234567', 'Parent/Guardian': 'Maria Dela Cruz', 'Guardian Contact': '09179876543', '4Ps': 'Yes', 'Weight (kg)': 55, 'Height (m)': 1.62, 'BMI': 20.96, 'Nutritional Status': 'Normal', 'IP': 'No' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'academic_performance': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Grade Level': '10', 'Section': 'Diamond', 'Subject': 'Mathematics', 'Q1': 88, 'Q2': 90, 'Q3': 85, 'Q4': 92, 'Final Rating': 89, 'MPS': 88.75, 'Remarks': 'Passed', 'Promotion Status': 'Promoted' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'attendance_records': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Grade Level': '10', 'Section': 'Diamond', 'Month': 'January', 'Total School Days': 22, 'Days Present': 20, 'Days Absent': 2, 'Times Tardy': 1, 'Attendance Rate (%)': 90.91 };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'philiri_results': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Grade Level': '7', 'Section': 'Ruby', 'Pre-Test Oral': 45, 'Pre-Test Silent': 50, 'Pre-Test Level': 'Frustration', 'Post-Test Oral': 78, 'Post-Test Silent': 82, 'Post-Test Level': 'Instructional', 'Comprehension Score': 75 };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'classroom_resources': h => {
                        const m = { 'Room No': '101', 'Room Type': 'Regular Classroom', 'Capacity': 50, 'Current Enrollment': 45, 'Student-Classroom Ratio': '45:1', 'Armchairs Available': 48, 'Student-Armchair Ratio': '0.94:1', 'Textbooks Available': 40, 'Textbook-Student Ratio': '0.89:1', 'Learning Materials Status': 'Adequate' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'benefits_assistance': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Grade Level': '10', 'Section': 'Diamond', 'Program Type': '4Ps/CCT', 'Program Name': 'Pantawid Pamilyang Pilipino Program', 'Amount': 3000, 'Date Received': '2026-01-15', 'Status': 'Active', 'Remarks': 'Regular beneficiary' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'cocurricular_activities': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Grade Level': '10', 'Section': 'Diamond', 'Activity Type': 'Sports', 'Activity Name': 'Basketball Intramurals', 'Level of Participation': 'School', 'Award/Recognition': 'Champion', 'Date': '2026-01-20' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'learner_progress': h => {
                        const m = { 'LRN': '100100100100', 'Last Name': 'Dela Cruz', 'First Name': 'Juan', 'Grade Level': '10', 'Section': 'Diamond', 'Quarter': 'Q1', 'Progress Status': 'On Track', 'Report Card Issued': 'Yes', 'PTC Date': '2026-02-01', 'PTC Notes': 'Student shows improvement in Math', 'Parent Feedback': 'Satisfied with progress' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'drrm_incident': h => {
                        const m = { 'Incident Date': '2026-01-10', 'Incident Type': 'Minor Injury', 'Location': 'School Grounds', 'Description': 'Student slipped on wet floor near canteen', 'Students Involved': 1, 'Severity': 'Low', 'Action Taken': 'First aid administered, area marked', 'Status': 'Resolved', 'Reported By': 'Juan Dela Cruz', 'Remarks': 'Floor mats installed' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'program_implementation': h => {
                        const m = { 'Program Name': 'Gulayan sa Paaralan', 'Objectives': 'Promote nutrition awareness and food security', 'Key Activities': 'Planting, Harvesting, Distribution', 'Target': 200, 'Accomplishment': 180, 'Percentage': 90, 'Timeline': 'Aug 2025 - Mar 2026', 'Budget': 15000, 'Expenditure': 12500, 'Status': 'On Track', 'Remarks': 'Phase 2 ongoing' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    },
                    'instructional_supervision': h => {
                        const m = { 'Teacher Name': 'Maria Santos', 'Observer': 'Principal Ana Reyes', 'Grade Level': '10', 'Subject': 'Science', 'Date': '2026-01-15', 'Time': '8:00 AM', 'Focus Area': 'Active Learning Strategies', 'Learning Objectives': 'Explain photosynthesis process', 'Strategies': 'Cooperative Learning, Lab Activity', 'Findings': 'Effective use of group work and lab materials', 'Learner Engagement': 'High - 90% participation', 'Classroom Management': 'Well-organized, clear routines', 'TA Provided': 'Coaching on differentiated instruction', 'Recommendations': 'Use more formative assessments', 'Action Plan': 'Implement exit tickets weekly', 'Timeline': 'Feb 2026', 'Observer Signature': '(signed)', 'Teacher Signature': '(signed)' };
                        return m[h] !== undefined ? m[h] : `Sample ${h} `;
                    }
                };

                try {
                    const sampleFn = sampleDataMap[typeDef.id] || (h => {
                        const col = h.toUpperCase();
                        if (col.includes('WEIGHT')) return 45;
                        if (col.includes('HEIGHT')) return 1.5;
                        if (col.includes('AGE')) return 16;
                        if (col.includes('DATE') || col.includes('BIRTHDAY')) return '2008-01-01';
                        if (col.includes('GENDER')) return 'Male';
                        if (col.includes('4PS')) return 'Yes';
                        return `Sample ${h} `;
                    });

                    const sampleRow = headers.map(sampleFn);
                    const sheetName = typeDef.label.substring(0, 31); // Excel sheet name max 31 chars

                    // Create 3 sample rows to provide a clear example
                    const ws = XLSX.utils.aoa_to_sheet([headers, sampleRow, sampleRow, sampleRow]);

                    // Auto-size columns
                    ws['!cols'] = headers.map((h, i) => ({
                        wch: Math.max(h.length + 2, String(sampleRow[i]).length + 2, 12)
                    }));

                    const wb = XLSX.utils.book_new();
                    XLSX.utils.book_append_sheet(wb, ws, sheetName);

                    // --- ADD INSTRUCTIONS & TUTORIAL TAB ---
                    const instructions = [
                        ["HOW TO USE THIS TEMPLATE (TUTORIAL)"],
                        [""],
                        ["STEP", "INSTRUCTION / GUIDELINE"],
                        ["1. Data Entry", "Please input all your actual data in the '" + sheetName + "' tab."],
                        ["2. Sample Content", "You can clear or overwrite the sample rows provided."],
                        ["3. Column Headers", "CRITICAL: Do NOT rename, delete, or rearrange the column headers in Row 1. The system relies on exactly these headers."],
                        ["4. Numeric Values", "For number columns (e.g., Grades, Capacity, Age), enter numbers only (no text like 'kgs' or '%')."],
                        ["5. Dates format", "Use the YYYY-MM-DD format (e.g., 2026-05-15)."],
                        ["6. Yes / No", "For boolean/logical fields, strictly type 'Yes' or 'No'."],
                        ["7. File Format", "When saving, please retain the .xlsx or .csv format."],
                        ["8. File Naming", "Do not change the base file name. The system validator checks if the required keyword is in the filename."],
                        [""],
                        ["Note:", "Once filled out, return to the School Portal and upload this file in the Submit Report modal."]
                    ];
                    const wsInstructions = XLSX.utils.aoa_to_sheet(instructions);
                    wsInstructions['!cols'] = [{ wch: 20 }, { wch: 100 }];
                    XLSX.utils.book_append_sheet(wb, wsInstructions, 'Tutorial & Instructions');

                    XLSX.writeFile(wb, `${typeDef.label}.xlsx`);
                } catch (e) {
                    console.error(e);
                    this.toast("Error generating Excel template. Falling back to CSV.", "error");
                    this.downloadCSV(headers, typeDef.label);
                }

                // Show Warning Prompt
                setTimeout(() => {
                    const html = `
            <div class="text-center">
                            <div class="w-16 h-16 bg-yellow-50 text-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="ph-fill ph-warning text-3xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 mb-2">Important Reminder</h3>
                            <p class="text-gray-600 text-sm mb-6 px-4">To avoid submission errors, please <strong>DO NOT</strong> change the naming format of this file when you save it. <br><br>The system requires the file name to match the Report Title.</p>
                            <button onclick="App.closeModal()" class="w-full bg-gray-900 text-white font-bold py-3 rounded-xl hover:bg-black">I Understand</button>
                        </div>
                    `;
                    // We open a new modal on top (replacing current content)
                    const content = document.getElementById('modal-content');
                    content.innerHTML = html;
                }, 1000);
            },

            downloadCSV(headers, label) {
                const link = document.createElement("a");
                link.setAttribute("href", encodeURI("data:text/csv;charset=utf-8," + headers.join(",")));
                link.setAttribute("download", `${label}_Template.csv`);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            },

            async handleSubmitReport(e) {
                e.preventDefault();
                // Cooldown Check
                if (Date.now() - this.lastReportTime < 30000) {
                    const remaining = Math.ceil((30000 - (Date.now() - this.lastReportTime)) / 1000);
                    this.toast(`Please wait ${remaining}s before submitting again.`, 'error');
                    return;
                }

                const formData = new FormData(e.target);
                const typeId = formData.get('typeId');
                const typeDef = this.reportTypes.find(t => t.id === typeId);
                const file = e.target.querySelector('input[type="file"]').files[0];

                // --- CHECK FOR EXISTING REPORT BY THIS USER ---
                const existingReport = this.reports.find(r => r.typeId === typeId && r.userId === this.user.id);

                const processSubmission = () => {
                    const reader = new FileReader();
                    reader.onload = async (re) => {
                        const newReport = {
                            id: Date.now(),
                            userId: this.user.id,
                            user: `${this.user.firstName} ${this.user.lastName}`,
                            typeId: typeId,
                            typeLabel: typeDef ? typeDef.label : typeId,
                            metricValue: formData.get('metricValue'),
                            unit: typeDef.unit || '', // Store unit snapshot
                            date: new Date().toISOString(),
                            fileName: file.name,
                            fileData: re.target.result, // Base64
                            stats: this.tempStats || {} // Attach calculated stats
                        };

                        const btn = e.target.querySelector('button[type="submit"]');
                        const originalText = btn.innerHTML;
                        if (btn) {
                            btn.disabled = true;
                            btn.innerHTML = '<i class="ph ph-spinner animate-spin"></i> Submitting...';
                        }

                        try {
                            if (existingReport) {
                                // OVERWRITE: Remove the old one remotely and locally
                                await this.api('deleteReport', { id: existingReport.id });
                                this.reports = this.reports.filter(r => r.id !== existingReport.id);
                            }
                            await this.api('submitReport', newReport);
                            this.reports.push(newReport); // Optimistic (without fileUrl)
                            this.lastReportTime = Date.now();
                            this.toast('Report Submitted!');
                            this.closeModal();
                            this.renderReports(document.getElementById('main-view'));
                        } catch (err) {
                            this.toast('Submission failed: ' + err.message, 'error');
                        } finally {
                            if (btn) {
                                btn.disabled = false;
                                btn.innerHTML = originalText;
                            }
                        }
                    };
                    reader.readAsDataURL(file);
                };

                if (existingReport) {
                    this.askConfirm("Overwrite Existing Report?", "You have already submitted a report for this category. Submitting a new one will overwrite your previous data. Do you want to proceed?", () => {
                        processSubmission();
                    });
                } else {
                    processSubmission();
                }
            },

            // --- PROFILE & SETTINGS ---
            renderProfile(container) {
                /*
                 * ========================================
                 * PROFILE PAGE UI/UX ENHANCEMENT - v2.9.3
                 * ========================================
                 * CHANGES APPLIED:
                 * 1. [UX] Added visible border outlines for all input container boxes
                 * 2. [UX] Separated password update section with its own dedicated save button
                 * 3. [UX] Optimized spacing: increased gap between labels and inputs (space-y-2 instead of space-y-1)
                 * 4. [FEAT] Added privacy indicators for sensitive fields (PhilHealth ID, GSIS No., Home Address)
                 *    - These fields are marked as private and hidden from others viewing the profile
                 * 5. [FEAT] Educational Attainment converted to dropdown with standard options:
                 *    - High School Graduate, College Level, Associate Degree, Bachelor's Degree,
                 *      Master's Degree, Doctorate Degree, Vocational/Technical
                 * 6. [FEAT] Grade Level converted to dropdown with standard SHS options (7-12)
                 * 7. [UI] Enhanced input-field styling with more prominent borders
                 * ========================================
                 */
                const u = this.user;
                const avatarUrl = u.avatar || `https://ui-avatars.com/api/?name=${u.firstName}+${u.lastName}&background=random&size=128`;
                const profileComplete = u.profileCompleted;
                const warningHtml = !profileComplete ? `<div class="bg-red-50 border border-red-100 p-4 rounded-xl mb-6 flex gap-3 animate-fade-in"><i class="ph-fill ph-warning-circle text-red-500 text-xl"></i><div><h4 class="font-bold text-red-700 text-sm">Profile Incomplete</h4><p class="text-red-600 text-xs mt-1">Please complete all required fields below.</p></div></div>` : '';

                // Privacy indicator helper
                const privateFieldBadge = `<span class="ml-2 inline-flex items-center gap-1 text-[10px] font-medium text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full"><i class="ph-fill ph-lock-simple text-xs"></i>Private</span>`;

                let manageToolsHtml = '';
                if (this.canManageUsers()) {
                    const toolTitle = this.isDev() ? 'Developer God Mode' : 'Principal Management';
                    const toolColor = this.isDev() ? 'green' : 'blue';
                    manageToolsHtml = `
                        <div class="bg-gray-900 text-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-gray-800">
                            <div class="p-5 border-b border-gray-700 flex justify-between items-center"><h3 class="font-bold flex items-center gap-2"><i class="ph-fill ph-crown text-xl text-${toolColor}-400"></i> ${toolTitle}</h3><span class="bg-${toolColor}-500/20 text-${toolColor}-400 text-[10px] font-bold px-2 py-1 rounded">ACTIVE</span></div>
                            <div class="p-5 border-b border-gray-700 bg-gray-800/50">
                                <button onclick="App.openUserManager()" class="w-full bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-xl flex items-center justify-center gap-2 font-bold mb-4 transition-colors"><i class="ph-bold ph-users-three"></i> Open User Manager</button>
                                ${this.isDev() ? `<h4 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">System Identity</h4><div class="grid md:grid-cols-2 gap-4"><div class="space-y-1 col-span-2 md:col-span-1"><label class="text-xs font-medium text-gray-400">App Name</label><div class="flex gap-2"><input type="text" id="dev-app-name" value="${this.settings.appName}" class="w-full bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 text-sm focus:border-green-500 outline-none transition-colors"><button onclick="App.devUpdateAppName()" class="bg-green-600 hover:bg-green-500 px-3 rounded-lg text-xs font-bold transition-colors">SAVE</button></div></div><div class="space-y-1 col-span-2 md:col-span-1"><div class="flex flex-col justify-center bg-gray-900 p-3 rounded-lg border border-gray-600 h-full"><div class="flex justify-between items-center mb-2"><span class="text-sm">Content Opacity</span><span class="text-xs font-bold text-green-400" id="opacity-val">${Math.round(this.settings.bgOpacity * 100)}%</span></div><input type="range" min="0.1" max="1" step="0.05" value="${this.settings.bgOpacity}" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer" oninput="App.devUpdateOpacity(this.value)"></div></div><div class="space-y-1"><label class="text-xs font-medium text-gray-400">App Logo</label><button onclick="document.getElementById('dev-logo-upload').click()" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg text-xs font-bold flex items-center gap-2 w-full justify-center border border-gray-600"><i class="ph-bold ph-upload-simple"></i> Upload New Icon</button><input type="file" id="dev-logo-upload" class="hidden" accept="image/*" onchange="App.devHandleLogoSelect(this)"></div><div class="space-y-1"><label class="text-xs font-medium text-gray-400">App Background</label><button onclick="document.getElementById('dev-bg-upload').click()" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg text-xs font-bold flex items-center gap-2 w-full justify-center border border-gray-600"><i class="ph-bold ph-image"></i> Upload Wallpaper</button><input type="file" id="dev-bg-upload" class="hidden" accept="image/*" onchange="App.devHandleBackgroundSelect(this)"></div></div>` : ''}
                            </div>
                        </div>`;
                }

                // Educational Attainment options
                const educationOptions = [
                    { value: '', label: '-- Select Educational Attainment --' },
                    { value: 'High School Graduate', label: 'High School Graduate' },
                    { value: 'College Level', label: 'College Level' },
                    { value: 'Associate Degree', label: 'Associate Degree' },
                    { value: "Bachelor's Degree", label: "Bachelor's Degree" },
                    { value: "Master's Degree", label: "Master's Degree" },
                    { value: 'Doctorate Degree', label: 'Doctorate Degree' },
                    { value: 'Vocational/Technical', label: 'Vocational/Technical' }
                ];

                // Grade Level options (7-12)
                const gradeLevelOptions = [
                    { value: '', label: '-- Select Grade Level --' },
                    { value: '7', label: 'Grade 7' },
                    { value: '8', label: 'Grade 8' },
                    { value: '9', label: 'Grade 9' },
                    { value: '10', label: 'Grade 10' },
                    { value: '11', label: 'Grade 11' },
                    { value: '12', label: 'Grade 12' }
                ];

                container.innerHTML = `
                    <div class="max-w-4xl mx-auto w-full animate-fade-in pt-10">
                        <div class="px-5 md:px-8 mb-8">
                            <div class="flex flex-col md:flex-row md:items-end justify-between gap-4">
                                <div class="flex items-end gap-5">
                                    <div class="relative group cursor-pointer" onclick="document.getElementById('avatar-upload').click()">
                                        <img src="${avatarUrl}" id="profile-image-preview" class="w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white shadow-lg bg-white object-cover group-hover:brightness-90 transition-all">
                                        <div class="absolute inset-0 rounded-full bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"><i class="ph-fill ph-camera text-white text-2xl"></i></div>
                                        <input type="file" id="avatar-upload" class="hidden" accept="image/*" onchange="App.handleAvatarChange(this)">
                                    </div>
                                    <div class="mb-2 md:mb-4">
                                        <h2 class="text-2xl md:text-3xl font-bold text-gray-900">${u.firstName} ${u.lastName}</h2>
                                        <p class="text-brand-600 font-medium text-sm">${u.position}  ${u.department}</p>
                                        <p class="text-xs text-gray-400 mt-1 font-mono">${u.id}</p>
                                    </div>
                                </div>
                                <button onclick="App.saveProfile()" class="bg-gray-900 text-white text-sm font-bold px-6 py-3 rounded-xl shadow-lg hover:bg-black active:scale-95 transition-all mb-2 md:mb-4 flex items-center gap-2"><i class="ph-bold ph-floppy-disk"></i> Save Profile</button>
                            </div>
                        </div>
                        <div class="px-5 md:px-0">${warningHtml}${manageToolsHtml}</div>
                        <div class="px-5 md:px-0 grid md:grid-cols-2 gap-6 pb-20" id="profile-form">
                            <div class="space-y-6">
                                <!-- Personal Details Card -->
                                <div class="p-6 bg-white rounded-2xl border-2 border-gray-200 shadow-sm hover:border-brand-200 transition-colors">
                                    <h3 class="text-xs font-bold text-gray-400 uppercase mb-5 tracking-wider flex items-center gap-2"><i class="ph-fill ph-user-circle text-brand-500"></i> Personal Details</h3>
                                    <div class="grid grid-cols-2 gap-4 mb-5">
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">First Name</label><input type="text" name="firstName" value="${u.firstName}" class="input-field text-sm py-2.5" required></div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Last Name</label><input type="text" name="lastName" value="${u.lastName}" class="input-field text-sm py-2.5" required></div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mb-5">
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Middle Name</label><input type="text" name="middleName" value="${u.middleName || ''}" class="input-field text-sm py-2.5"></div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Age</label><input type="number" name="age" value="${u.age || ''}" class="input-field text-sm py-2.5" required></div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mb-5">
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Birthday</label><input type="date" name="birthday" value="${u.birthday ? u.birthday.split('T')[0] : ''}" class="input-field text-sm py-2.5" required></div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Ethnicity</label><input type="text" name="ethnicity" value="${u.ethnicity || ''}" class="input-field text-sm py-2.5" required></div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mb-5">
                                        <div class="space-y-2">
                                            <label class="text-xs font-bold text-gray-600 block">Sex/Gender</label>
                                            <select name="gender" class="input-field text-sm py-2.5" required>
                                                <option value="" disabled ${!u.gender ? 'selected' : ''}>-- Select --</option>
                                                <option value="Male" ${u.gender === 'Male' ? 'selected' : ''}>Male</option>
                                                <option value="Female" ${u.gender === 'Female' ? 'selected' : ''}>Female</option>
                                            </select>
                                        </div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Blood Type</label><input type="text" name="bloodType" value="${u.bloodType || ''}" class="input-field text-sm py-2.5" required></div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mb-5">
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Height (m)</label><input type="number" step="0.01" name="heightInfo" value="${u.heightInfo || ''}" class="input-field text-sm py-2.5" required></div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Weight (kg)</label><input type="number" step="0.1" name="weightInfo" value="${u.weightInfo || ''}" class="input-field text-sm py-2.5" required></div>
                                    </div>
                                    <div class="space-y-5">
                                        <div class="space-y-2">
                                            <label class="text-xs font-bold text-gray-600 block">Educational Attainment</label>
                                            <select name="education" class="input-field text-sm py-2.5" required>
                                                ${educationOptions.map(opt => `<option value="${opt.value}" ${u.education === opt.value ? 'selected' : ''} ${opt.value === '' ? 'disabled' : ''}>${opt.label}</option>`).join('')}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <!-- Contact & Address Card -->
                                <div class="p-6 bg-white rounded-2xl border-2 border-gray-200 shadow-sm hover:border-brand-200 transition-colors">
                                    <h3 class="text-xs font-bold text-gray-400 uppercase mb-5 tracking-wider flex items-center gap-2"><i class="ph-fill ph-phone text-brand-500"></i> Contact & Address</h3>
                                    <div class="space-y-5">
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Personal Email</label><input type="email" name="personalEmail" value="${u.personalEmail || ''}" class="input-field text-sm py-2.5" required></div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Contact Number</label><input type="tel" name="contactNumber" value="${u.contactNumber || ''}" class="input-field text-sm py-2.5" required></div>
                                        <div class="space-y-2">
                                            <label class="text-xs font-bold text-gray-600 flex items-center">Home Address ${privateFieldBadge}</label>
                                            <textarea name="homeAddress" class="input-field text-sm py-2.5 resize-none" rows="2" required>${u.homeAddress || ''}</textarea>
                                            <p class="text-[10px] text-gray-400 italic"><i class="ph ph-eye-slash"></i> Hidden from other users</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-6">
                                <!-- Academic & Govt IDs Card -->
                                <div class="p-6 bg-white rounded-2xl border-2 border-gray-200 shadow-sm hover:border-brand-200 transition-colors">
                                    <h3 class="text-xs font-bold text-gray-400 uppercase mb-5 tracking-wider flex items-center gap-2"><i class="ph-fill ph-graduation-cap text-brand-500"></i> Academic & Govt IDs</h3>
                                    <div class="space-y-5">
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Department</label><input type="text" name="department" value="${u.department}" class="input-field text-sm py-2.5" required></div>
                                        <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Subject Handled</label><input type="text" name="subject" value="${u.subject || ''}" class="input-field text-sm py-2.5" required></div>
                                        
                                        <!-- Designation -->
                                        <div class="space-y-2">
                                            <label class="text-xs font-bold text-gray-600 block">Designation</label>
                                            <select name="designation" class="input-field text-sm py-2.5" onchange="document.getElementById('adv-sec-group').style.display = this.value === 'Class Adviser' ? 'block' : 'none'; document.getElementById('office-task-group').style.display = this.value === 'Staff' ? 'block' : 'none'">
                                                <option value="" disabled ${!u.designation ? 'selected' : ''}>-- Select Designation --</option>
                                                <option value="Floating Teacher" ${u.designation === 'Floating Teacher' ? 'selected' : ''}>Floating Teacher</option>
                                                <option value="Class Adviser" ${u.designation === 'Class Adviser' ? 'selected' : ''}>Class Adviser</option>
                                                <option value="Staff" ${u.designation === 'Staff' ? 'selected' : ''}>Staff</option>
                                            </select>
                                        </div>
                                        <div id="adv-sec-group" class="space-y-2" style="display: ${u.designation === 'Class Adviser' ? 'block' : 'none'}">
                                            <label class="text-xs font-bold text-gray-600 block">Advisory Section</label>
                                            <input type="text" name="advisorySection" value="${u.advisorySection || ''}" placeholder="e.g. Grade 10 - Ruby" class="input-field text-sm py-2.5">
                                        </div>
                                        <div id="office-task-group" class="space-y-2" style="display: ${u.designation === 'Staff' ? 'block' : 'none'}">
                                            <label class="text-xs font-bold text-gray-600 block">Office & Task</label>
                                            <input type="text" name="officeAndTask" value="${u.officeAndTask || ''}" placeholder="e.g. Registrar - Data Encoder" class="input-field text-sm py-2.5">
                                        </div>

                                        <div class="space-y-2">
                                            <label class="text-xs font-bold text-gray-600 block">Grade Level Handled</label>
                                            <select name="gradeLevel" class="input-field text-sm py-2.5" required>
                                                ${gradeLevelOptions.map(opt => `<option value="${opt.value}" ${u.gradeLevel === opt.value || u.gradeLevel === 'Grade ' + opt.value ? 'selected' : ''} ${opt.value === '' ? 'disabled' : ''}>${opt.label}</option>`).join('')}
                                            </select>
                                        </div>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 pt-3 border-t border-gray-100 mt-3">
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">PhilHealth ID ${privateFieldBadge}</label>
                                                 <input type="text" name="philHealth" value="${u.philHealth || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">GSIS No. ${privateFieldBadge}</label>
                                                 <input type="text" name="gsis" value="${u.gsis || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">UMID ${privateFieldBadge}</label>
                                                 <input type="text" name="umid" value="${u.umid || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">Pag-Ibig No. ${privateFieldBadge}</label>
                                                 <input type="text" name="pagIbig" value="${u.pagIbig || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">TIN ${privateFieldBadge}</label>
                                                 <input type="text" name="tin" value="${u.tin || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">PhilSys No. ${privateFieldBadge}</label>
                                                 <input type="text" name="philSys" value="${u.philSys || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">PRC No. ${privateFieldBadge}</label>
                                                 <input type="text" name="prc" value="${u.prc || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">Agency No. ${privateFieldBadge}</label>
                                                 <input type="text" name="agencyNo" value="${u.agencyNo || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                             <div class="space-y-2">
                                                 <label class="text-xs font-bold text-gray-600 flex items-center">Employee No. ${privateFieldBadge}</label>
                                                 <input type="text" name="employeeNo" value="${u.employeeNo || ''}" class="input-field text-sm py-2.5" required>
                                             </div>
                                        </div>
                                        <p class="text-[10px] text-gray-400 italic -mt-2"><i class="ph ph-eye-slash"></i> These IDs are hidden from other users</p>
                                    </div>
                                </div>
                                <!-- Account Security Card -->
                                <div class="p-6 bg-white rounded-2xl border-2 border-gray-200 shadow-sm hover:border-brand-200 transition-colors">
                                    <h3 class="text-xs font-bold text-gray-400 uppercase mb-5 tracking-wider flex items-center gap-2"><i class="ph-fill ph-shield-check text-brand-500"></i> Account Security</h3>
                                    <div class="space-y-2 mb-6"><label class="text-xs font-bold text-gray-600 block">DepEd Email Address</label><input type="email" name="email" value="${u.email}" class="input-field text-sm py-2.5 bg-gray-100 text-gray-500 cursor-not-allowed" readonly></div>
                                    <div class="pt-5 border-t-2 border-dashed border-gray-200" id="password-section">
                                        <div class="flex justify-between items-center mb-4">
                                            <h4 class="text-xs font-bold text-gray-900 uppercase flex items-center gap-2"><i class="ph-fill ph-key text-amber-500"></i> Change Password</h4>
                                        </div>
                                        <div class="space-y-4">
                                            <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">New Password</label><input type="password" id="newPasswordInput" name="newPassword" placeholder="Enter new password" class="input-field text-sm py-2.5"></div>
                                            <div class="space-y-2"><label class="text-xs font-bold text-gray-600 block">Confirm Password</label><input type="password" id="confirmPasswordInput" name="confirmPassword" placeholder="Confirm new password" class="input-field text-sm py-2.5"></div>
                                        </div>
                                        <button onclick="App.savePassword()" class="mt-5 w-full bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold px-5 py-3 rounded-xl shadow-md active:scale-95 transition-all flex items-center justify-center gap-2"><i class="ph-bold ph-lock-key"></i> Update Password</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            viewUserProfile(userId) {
                const u = this.users.find(x => x.id === userId);
                if (!u) return;

                const avatarUrl = this.resolveImageUrl(u.avatar) || `https://ui-avatars.com/api/?name=${u.firstName}+${u.lastName}&background=random&size=128`;

                const html = `
                    <div class="max-w-xl mx-auto pb-4">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-gray-900">User Profile</h3>
                            <button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button>
                        </div>
                        
                        <div class="flex items-center gap-5 mb-6">
                            <img src="${avatarUrl}" class="w-24 h-24 rounded-full border-4 border-white shadow-md bg-gray-100 object-cover">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-900">${u.firstName} ${u.lastName}</h2>
                                <p class="text-brand-600 font-medium">${u.position}  ${u.department}</p>
                                <p class="text-xs text-gray-500 mt-1"><i class="ph-fill ph-envelope"></i> ${u.email}</p>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <!-- Work Related Info -->
                            <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                                <h4 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3"><i class="ph-fill ph-briefcase"></i> Work Information</h4>
                                <div class="grid grid-cols-2 gap-y-3 text-sm">
                                    <div><span class="text-gray-500 block text-xs">Role</span><span class="font-medium">${u.role || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Employee ID</span><span class="font-medium">${u.empId || '-'}</span></div>
                                    ${u.designation ? `<div><span class="text-gray-500 block text-xs">Designation</span><span class="font-medium">${u.designation}</span></div>` : ''}
                                    ${u.advisorySection ? `<div><span class="text-gray-500 block text-xs">Advisory Section</span><span class="font-medium">${u.advisorySection}</span></div>` : ''}
                                    ${u.officeAndTask ? `<div><span class="text-gray-500 block text-xs">Office & Task</span><span class="font-medium">${u.officeAndTask}</span></div>` : ''}
                                    <div><span class="text-gray-500 block text-xs">Subject Handled</span><span class="font-medium">${u.subject || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Grade Level</span><span class="font-medium">${u.gradeLevel || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Joined</span><span class="font-medium">${u.joined ? new Date(u.joined).toLocaleDateString() : '-'}</span></div>
                                </div>
                            </div>

                            <!-- Personal Info -->
                            <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                                <h4 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3"><i class="ph-fill ph-user"></i> Personal Information</h4>
                                <div class="grid grid-cols-2 gap-y-3 text-sm">
                                    <div><span class="text-gray-500 block text-xs">Gender</span><span class="font-medium">${u.gender || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Age</span><span class="font-medium">${u.age || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Blood Type</span><span class="font-medium">${u.bloodType || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Height/Weight</span><span class="font-medium">${u.heightInfo ? u.heightInfo + 'm' : '-'} / ${u.weightInfo ? u.weightInfo + 'kg' : '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Ethnicity</span><span class="font-medium">${u.ethnicity || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Education</span><span class="font-medium">${u.education || '-'}</span></div>
                                    <div><span class="text-gray-500 block text-xs">Contact</span><span class="font-medium">${u.contactNumber || '-'}</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                this.openModal(html);
            },

            openUserManager() {
                const html = `
                    <div class="h-[80vh] flex flex-col">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-bold text-gray-900">User Management</h3>
                            <button onclick="App.closeModal()" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200"><i class="ph ph-x"></i></button>
                        </div>
                        <input type="text" placeholder="Search by name, email, or role..." class="input-field mb-4" onkeyup="const val = this.value.toLowerCase(); document.querySelectorAll('.user-item').forEach(el => { el.style.display = el.innerText.toLowerCase().includes(val) ? 'flex' : 'none'; })">
                        <div class="flex-1 overflow-y-auto custom-scroll space-y-2">
                            ${this.users.map(u => `
                                <div class="user-item flex justify-between items-center p-3 bg-gray-50 rounded-xl border border-gray-100">
                                    <div class="flex items-center gap-3 cursor-pointer group" onclick="App.viewUserProfile('${u.id}')">
                                        <img src="${this.resolveImageUrl(u.avatar) || `https://ui-avatars.com/api/?name=${u.firstName}+${u.lastName}`}" class="w-10 h-10 rounded-full bg-gray-200 object-cover group-hover:ring-2 ring-brand-300 transition-all">
                                        <div>
                                            <p class="text-sm font-bold text-gray-900 group-hover:text-brand-600 transition-colors">${u.firstName} ${u.lastName}</p>
                                            <p class="text-xs text-gray-500">${u.role}  ${u.email}</p>
                                        </div>
                                    </div>
                                    <div class="flex gap-2">
                                        <button onclick="App.devChangePassword('${u.id}')" class="p-2 text-brand-600 hover:bg-brand-50 rounded-lg text-xs font-bold">Reset PW</button>
                                        ${this.isDev() ? `<button onclick="App.devDeleteUser('${u.id}')" class="p-2 text-red-600 hover:bg-red-50 rounded-lg text-xs font-bold">Delete</button>` : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                this.openModal(html);
            },

            devChangePassword(userId) {
                const u = this.users.find(x => x.id === userId);
                this.askPrompt("Reset Password", `Enter new password for ${u.firstName}:`, "School123", async (newPw) => {
                    if (newPw) {
                        u.password = newPw;
                        await this.api('updateProfile', u); // Re-using profile update logic as admin
                        this.toast('Password reset successfully.');
                    }
                });
            },

            devDeleteUser(userId) {
                this.askConfirm("Delete User Account?", "This will permanently remove the user.", async () => {
                    // Assuming deleteUser action
                    // await this.api('deleteUser', {id: userId});
                    // Simulating for prototype if API not explicit, but ideally:
                    this.users = this.users.filter(u => u.id !== userId);
                    this.toast('User deleted.');
                    this.openUserManager(); // Refresh list
                });
            },

            devUpdateAppName() {
                const newName = document.getElementById('dev-app-name').value;
                if (newName) { this.settings.appName = newName; this.api('saveSettings', this.settings); this.toast('System name updated.'); }
            },
            devHandleLogoSelect(input) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (e) => { this.settings.logo = e.target.result; this.api('saveSettings', this.settings); this.toast('System logo updated.'); };
                    reader.readAsDataURL(input.files[0]);
                }
            },
            devHandleBackgroundSelect(input) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (e) => { this.settings.backgroundImage = e.target.result; this.settings.opaqueBg = false; this.api('saveSettings', this.settings); this.toast('System background updated.'); this.renderProfile(document.getElementById('main-view')); };
                    reader.readAsDataURL(input.files[0]);
                }
            },
            devUpdateOpacity(val) {
                this.settings.bgOpacity = parseFloat(val);
                document.getElementById('opacity-val').innerText = Math.round(this.settings.bgOpacity * 100) + '%';
                const mainView = document.getElementById('main-view');
                if (mainView) mainView.style.backgroundColor = `rgba(255, 255, 255, ${this.settings.bgOpacity})`;
                this.api('saveSettings', this.settings);
            },

            handleAvatarChange(input) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        this.compressImage(e.target.result).then(compressed => {
                            document.getElementById('profile-image-preview').src = compressed;
                            this.tempAvatar = compressed;
                        });
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            },
            async saveProfile() {
                /*
                 * ========================================
                 * SAVE PROFILE - v2.9.3 UPDATE
                 * ========================================
                 * CHANGE: Password handling removed from this function.
                 * Password is now saved separately via savePassword() function.
                 * This provides better UX with a dedicated password update button.
                 * ========================================
                 */
                const inputs = document.querySelectorAll('#profile-form input, #profile-form textarea, #profile-form select');
                let updated = { ...this.user };

                let allValid = true;
                inputs.forEach(input => {
                    // Exclude password fields from validation in main save
                    if (input.name === 'newPassword' || input.name === 'confirmPassword') return;
                    if (input.required && !input.value.trim()) { allValid = false; input.classList.add('border-red-500'); } else input.classList.remove('border-red-500');
                });
                if (!allValid) { this.toast('Please fill in all required fields.', 'error'); return; }

                if (this.tempAvatar) { updated.avatar = this.tempAvatar; this.tempAvatar = null; }
                inputs.forEach(input => {
                    // Skip password and readonly fields
                    if (!input.readOnly && input.name !== 'newPassword' && input.name !== 'confirmPassword') updated[input.name] = input.value;
                });

                updated.profileCompleted = true;
                this.user = updated;
                this.saveSession();

                await this.api('updateProfile', updated);
                this.toast('Profile updated successfully');
                this.router('profile');
            },

            async savePassword() {
                /*
                 * ========================================
                 * SAVE PASSWORD - v2.9.3 NEW FUNCTION
                 * ========================================
                 * NEW: Dedicated function for password updates.
                 * Separated from saveProfile for better UX.
                 * ========================================
                 */
                const newPass = document.getElementById('newPasswordInput').value;
                const confirmPass = document.getElementById('confirmPasswordInput').value;

                // Validation
                if (!newPass) {
                    this.toast('Please enter a new password.', 'error');
                    return;
                }
                if (newPass.length < 6) {
                    this.toast('Password must be at least 6 characters.', 'error');
                    return;
                }
                if (newPass !== confirmPass) {
                    this.toast('Passwords do not match.', 'error');
                    return;
                }

                // Update password
                let updated = { ...this.user };
                updated.password = newPass;
                this.user = updated;
                this.saveSession();

                await this.api('updateProfile', updated);

                // Clear password inputs after successful update
                document.getElementById('newPasswordInput').value = '';
                document.getElementById('confirmPasswordInput').value = '';

                this.toast('Password updated successfully!');
            }
        };

        window.addEventListener('DOMContentLoaded', () => {
            try {
                App.init();
            } catch (e) {
                alert('App Crash: ' + e.message + '\n' + e.stack);
                console.error(e);
            }
        });
    </script>
</body>

</html>
